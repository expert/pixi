var gw=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports);var AP=gw((IP,kh)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const h of a.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&n(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zf(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function V1(r){if(r.__esModule)return r;var e=r.default;if(typeof e=="function"){var t=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var s=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return r[n]}})}),t}var Wp={exports:{}},mh={},Xp={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c0;function yw(){if(c0)return ut;c0=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.iterator;function b(R){return R===null||typeof R!="object"?null:(R=w&&R[w]||R["@@iterator"],typeof R=="function"?R:null)}var E={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,I={};function C(R,U,X){this.props=R,this.context=U,this.refs=I,this.updater=X||E}C.prototype.isReactComponent={},C.prototype.setState=function(R,U){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,U,"setState")},C.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function M(){}M.prototype=C.prototype;function z(R,U,X){this.props=R,this.context=U,this.refs=I,this.updater=X||E}var N=z.prototype=new M;N.constructor=z,T(N,C.prototype),N.isPureReactComponent=!0;var G=Array.isArray,O=Object.prototype.hasOwnProperty,V={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function Z(R,U,X){var ee,le={},de=null,fe=null;if(U!=null)for(ee in U.ref!==void 0&&(fe=U.ref),U.key!==void 0&&(de=""+U.key),U)O.call(U,ee)&&!F.hasOwnProperty(ee)&&(le[ee]=U[ee]);var me=arguments.length-2;if(me===1)le.children=X;else if(1<me){for(var xe=Array(me),ce=0;ce<me;ce++)xe[ce]=arguments[ce+2];le.children=xe}if(R&&R.defaultProps)for(ee in me=R.defaultProps,me)le[ee]===void 0&&(le[ee]=me[ee]);return{$$typeof:r,type:R,key:de,ref:fe,props:le,_owner:V.current}}function ue(R,U){return{$$typeof:r,type:R.type,key:U,ref:R.ref,props:R.props,_owner:R._owner}}function ye(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function Te(R){var U={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(X){return U[X]})}var K=/\/+/g;function ie(R,U){return typeof R=="object"&&R!==null&&R.key!=null?Te(""+R.key):U.toString(36)}function he(R,U,X,ee,le){var de=typeof R;(de==="undefined"||de==="boolean")&&(R=null);var fe=!1;if(R===null)fe=!0;else switch(de){case"string":case"number":fe=!0;break;case"object":switch(R.$$typeof){case r:case e:fe=!0}}if(fe)return fe=R,le=le(fe),R=ee===""?"."+ie(fe,0):ee,G(le)?(X="",R!=null&&(X=R.replace(K,"$&/")+"/"),he(le,U,X,"",function(ce){return ce})):le!=null&&(ye(le)&&(le=ue(le,X+(!le.key||fe&&fe.key===le.key?"":(""+le.key).replace(K,"$&/")+"/")+R)),U.push(le)),1;if(fe=0,ee=ee===""?".":ee+":",G(R))for(var me=0;me<R.length;me++){de=R[me];var xe=ee+ie(de,me);fe+=he(de,U,X,xe,le)}else if(xe=b(R),typeof xe=="function")for(R=xe.call(R),me=0;!(de=R.next()).done;)de=de.value,xe=ee+ie(de,me++),fe+=he(de,U,X,xe,le);else if(de==="object")throw U=String(R),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return fe}function Se(R,U,X){if(R==null)return R;var ee=[],le=0;return he(R,ee,"","",function(de){return U.call(X,de,le++)}),ee}function B(R){if(R._status===-1){var U=R._result;U=U(),U.then(function(X){(R._status===0||R._status===-1)&&(R._status=1,R._result=X)},function(X){(R._status===0||R._status===-1)&&(R._status=2,R._result=X)}),R._status===-1&&(R._status=0,R._result=U)}if(R._status===1)return R._result.default;throw R._result}var j={current:null},P={transition:null},H={ReactCurrentDispatcher:j,ReactCurrentBatchConfig:P,ReactCurrentOwner:V};function L(){throw Error("act(...) is not supported in production builds of React.")}return ut.Children={map:Se,forEach:function(R,U,X){Se(R,function(){U.apply(this,arguments)},X)},count:function(R){var U=0;return Se(R,function(){U++}),U},toArray:function(R){return Se(R,function(U){return U})||[]},only:function(R){if(!ye(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},ut.Component=C,ut.Fragment=t,ut.Profiler=s,ut.PureComponent=z,ut.StrictMode=n,ut.Suspense=p,ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,ut.act=L,ut.cloneElement=function(R,U,X){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ee=T({},R.props),le=R.key,de=R.ref,fe=R._owner;if(U!=null){if(U.ref!==void 0&&(de=U.ref,fe=V.current),U.key!==void 0&&(le=""+U.key),R.type&&R.type.defaultProps)var me=R.type.defaultProps;for(xe in U)O.call(U,xe)&&!F.hasOwnProperty(xe)&&(ee[xe]=U[xe]===void 0&&me!==void 0?me[xe]:U[xe])}var xe=arguments.length-2;if(xe===1)ee.children=X;else if(1<xe){me=Array(xe);for(var ce=0;ce<xe;ce++)me[ce]=arguments[ce+2];ee.children=me}return{$$typeof:r,type:R.type,key:le,ref:de,props:ee,_owner:fe}},ut.createContext=function(R){return R={$$typeof:h,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:a,_context:R},R.Consumer=R},ut.createElement=Z,ut.createFactory=function(R){var U=Z.bind(null,R);return U.type=R,U},ut.createRef=function(){return{current:null}},ut.forwardRef=function(R){return{$$typeof:d,render:R}},ut.isValidElement=ye,ut.lazy=function(R){return{$$typeof:_,_payload:{_status:-1,_result:R},_init:B}},ut.memo=function(R,U){return{$$typeof:g,type:R,compare:U===void 0?null:U}},ut.startTransition=function(R){var U=P.transition;P.transition={};try{R()}finally{P.transition=U}},ut.unstable_act=L,ut.useCallback=function(R,U){return j.current.useCallback(R,U)},ut.useContext=function(R){return j.current.useContext(R)},ut.useDebugValue=function(){},ut.useDeferredValue=function(R){return j.current.useDeferredValue(R)},ut.useEffect=function(R,U){return j.current.useEffect(R,U)},ut.useId=function(){return j.current.useId()},ut.useImperativeHandle=function(R,U,X){return j.current.useImperativeHandle(R,U,X)},ut.useInsertionEffect=function(R,U){return j.current.useInsertionEffect(R,U)},ut.useLayoutEffect=function(R,U){return j.current.useLayoutEffect(R,U)},ut.useMemo=function(R,U){return j.current.useMemo(R,U)},ut.useReducer=function(R,U,X){return j.current.useReducer(R,U,X)},ut.useRef=function(R){return j.current.useRef(R)},ut.useState=function(R){return j.current.useState(R)},ut.useSyncExternalStore=function(R,U,X){return j.current.useSyncExternalStore(R,U,X)},ut.useTransition=function(){return j.current.useTransition()},ut.version="18.3.1",ut}var h0;function dy(){return h0||(h0=1,Xp.exports=yw()),Xp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0;function vw(){if(d0)return mh;d0=1;var r=dy(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function h(d,p,g){var _,w={},b=null,E=null;g!==void 0&&(b=""+g),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(E=p.ref);for(_ in p)n.call(p,_)&&!a.hasOwnProperty(_)&&(w[_]=p[_]);if(d&&d.defaultProps)for(_ in p=d.defaultProps,p)w[_]===void 0&&(w[_]=p[_]);return{$$typeof:e,type:d,key:b,ref:E,props:w,_owner:s.current}}return mh.Fragment=t,mh.jsx=h,mh.jsxs=h,mh}var f0;function _w(){return f0||(f0=1,Wp.exports=vw()),Wp.exports}var je=_w(),Ke=dy();const Dn=zf(Ke);var kd={},Yp={exports:{}},Fn={},qp={exports:{}},Qp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var p0;function xw(){return p0||(p0=1,function(r){function e(P,H){var L=P.length;P.push(H);e:for(;0<L;){var R=L-1>>>1,U=P[R];if(0<s(U,H))P[R]=H,P[L]=U,L=R;else break e}}function t(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var H=P[0],L=P.pop();if(L!==H){P[0]=L;e:for(var R=0,U=P.length,X=U>>>1;R<X;){var ee=2*(R+1)-1,le=P[ee],de=ee+1,fe=P[de];if(0>s(le,L))de<U&&0>s(fe,le)?(P[R]=fe,P[de]=L,R=de):(P[R]=le,P[ee]=L,R=ee);else if(de<U&&0>s(fe,L))P[R]=fe,P[de]=L,R=de;else break e}}return H}function s(P,H){var L=P.sortIndex-H.sortIndex;return L!==0?L:P.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,w=null,b=3,E=!1,T=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(P){for(var H=t(g);H!==null;){if(H.callback===null)n(g);else if(H.startTime<=P)n(g),H.sortIndex=H.expirationTime,e(p,H);else break;H=t(g)}}function G(P){if(I=!1,N(P),!T)if(t(p)!==null)T=!0,B(O);else{var H=t(g);H!==null&&j(G,H.startTime-P)}}function O(P,H){T=!1,I&&(I=!1,M(Z),Z=-1),E=!0;var L=b;try{for(N(H),w=t(p);w!==null&&(!(w.expirationTime>H)||P&&!Te());){var R=w.callback;if(typeof R=="function"){w.callback=null,b=w.priorityLevel;var U=R(w.expirationTime<=H);H=r.unstable_now(),typeof U=="function"?w.callback=U:w===t(p)&&n(p),N(H)}else n(p);w=t(p)}if(w!==null)var X=!0;else{var ee=t(g);ee!==null&&j(G,ee.startTime-H),X=!1}return X}finally{w=null,b=L,E=!1}}var V=!1,F=null,Z=-1,ue=5,ye=-1;function Te(){return!(r.unstable_now()-ye<ue)}function K(){if(F!==null){var P=r.unstable_now();ye=P;var H=!0;try{H=F(!0,P)}finally{H?ie():(V=!1,F=null)}}else V=!1}var ie;if(typeof z=="function")ie=function(){z(K)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Se=he.port2;he.port1.onmessage=K,ie=function(){Se.postMessage(null)}}else ie=function(){C(K,0)};function B(P){F=P,V||(V=!0,ie())}function j(P,H){Z=C(function(){P(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_continueExecution=function(){T||E||(T=!0,B(O))},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ue=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(P){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var L=b;b=H;try{return P()}finally{b=L}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(P,H){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=b;b=P;try{return H()}finally{b=L}},r.unstable_scheduleCallback=function(P,H,L){var R=r.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?R+L:R):L=R,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=L+U,P={id:_++,callback:H,priorityLevel:P,startTime:L,expirationTime:U,sortIndex:-1},L>R?(P.sortIndex=L,e(g,P),t(p)===null&&P===t(g)&&(I?(M(Z),Z=-1):I=!0,j(G,L-R))):(P.sortIndex=U,e(p,P),T||E||(T=!0,B(O))),P},r.unstable_shouldYield=Te,r.unstable_wrapCallback=function(P){var H=b;return function(){var L=b;b=H;try{return P.apply(this,arguments)}finally{b=L}}}}(Qp)),Qp}var m0;function ww(){return m0||(m0=1,qp.exports=xw()),qp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function Sw(){if(g0)return Fn;g0=1;var r=dy(),e=ww();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,s={};function a(i,o){h(i,o),h(i+"Capture",o)}function h(i,o){for(s[i]=o,i=0;i<o.length;i++)n.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},w={};function b(i){return p.call(w,i)?!0:p.call(_,i)?!1:g.test(i)?w[i]=!0:(_[i]=!0,!1)}function E(i,o,c,f){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return f?!1:c!==null?!c.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function T(i,o,c,f){if(o===null||typeof o>"u"||E(i,o,c,f))return!0;if(f)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function I(i,o,c,f,y,S,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=f,this.attributeNamespace=y,this.mustUseProperty=c,this.propertyName=i,this.type=o,this.sanitizeURL=S,this.removeEmptyString=k}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){C[i]=new I(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];C[o]=new I(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){C[i]=new I(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){C[i]=new I(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){C[i]=new I(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){C[i]=new I(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){C[i]=new I(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){C[i]=new I(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){C[i]=new I(i,5,!1,i.toLowerCase(),null,!1,!1)});var M=/[\-:]([a-z])/g;function z(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(M,z);C[o]=new I(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(M,z);C[o]=new I(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(M,z);C[o]=new I(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){C[i]=new I(i,1,!1,i.toLowerCase(),null,!1,!1)}),C.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){C[i]=new I(i,1,!1,i.toLowerCase(),null,!0,!0)});function N(i,o,c,f){var y=C.hasOwnProperty(o)?C[o]:null;(y!==null?y.type!==0:f||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(T(o,c,y,f)&&(c=null),f||y===null?b(o)&&(c===null?i.removeAttribute(o):i.setAttribute(o,""+c)):y.mustUseProperty?i[y.propertyName]=c===null?y.type===3?!1:"":c:(o=y.attributeName,f=y.attributeNamespace,c===null?i.removeAttribute(o):(y=y.type,c=y===3||y===4&&c===!0?"":""+c,f?i.setAttributeNS(f,o,c):i.setAttribute(o,c))))}var G=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),V=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),ye=Symbol.for("react.provider"),Te=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),he=Symbol.for("react.suspense_list"),Se=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),j=Symbol.for("react.offscreen"),P=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}var L=Object.assign,R;function U(i){if(R===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);R=o&&o[1]||""}return`
`+R+i}var X=!1;function ee(i,o){if(!i||X)return"";X=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(oe){var f=oe}Reflect.construct(i,[],o)}else{try{o.call()}catch(oe){f=oe}i.call(o.prototype)}else{try{throw Error()}catch(oe){f=oe}i()}}catch(oe){if(oe&&f&&typeof oe.stack=="string"){for(var y=oe.stack.split(`
`),S=f.stack.split(`
`),k=y.length-1,$=S.length-1;1<=k&&0<=$&&y[k]!==S[$];)$--;for(;1<=k&&0<=$;k--,$--)if(y[k]!==S[$]){if(k!==1||$!==1)do if(k--,$--,0>$||y[k]!==S[$]){var W=`
`+y[k].replace(" at new "," at ");return i.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",i.displayName)),W}while(1<=k&&0<=$);break}}}finally{X=!1,Error.prepareStackTrace=c}return(i=i?i.displayName||i.name:"")?U(i):""}function le(i){switch(i.tag){case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return i=ee(i.type,!1),i;case 11:return i=ee(i.type.render,!1),i;case 1:return i=ee(i.type,!0),i;default:return""}}function de(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case F:return"Fragment";case V:return"Portal";case ue:return"Profiler";case Z:return"StrictMode";case ie:return"Suspense";case he:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case Te:return(i.displayName||"Context")+".Consumer";case ye:return(i._context.displayName||"Context")+".Provider";case K:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case Se:return o=i.displayName||null,o!==null?o:de(i.type)||"Memo";case B:o=i._payload,i=i._init;try{return de(i(o))}catch{}}return null}function fe(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return de(o);case 8:return o===Z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function xe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ce(i){var o=xe(i)?"checked":"value",c=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),f=""+i[o];if(!i.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var y=c.get,S=c.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return y.call(this)},set:function(k){f=""+k,S.call(this,k)}}),Object.defineProperty(i,o,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(k){f=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Pe(i){i._valueTracker||(i._valueTracker=ce(i))}function Re(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var c=o.getValue(),f="";return i&&(f=xe(i)?i.checked?"true":"false":i.value),i=f,i!==c?(o.setValue(i),!0):!1}function He(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function dt(i,o){var c=o.checked;return L({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??i._wrapperState.initialChecked})}function Ve(i,o){var c=o.defaultValue==null?"":o.defaultValue,f=o.checked!=null?o.checked:o.defaultChecked;c=me(o.value!=null?o.value:c),i._wrapperState={initialChecked:f,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function We(i,o){o=o.checked,o!=null&&N(i,"checked",o,!1)}function Ot(i,o){We(i,o);var c=me(o.value),f=o.type;if(c!=null)f==="number"?(c===0&&i.value===""||i.value!=c)&&(i.value=""+c):i.value!==""+c&&(i.value=""+c);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Un(i,o.type,c):o.hasOwnProperty("defaultValue")&&Un(i,o.type,me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Yt(i,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var f=o.type;if(!(f!=="submit"&&f!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,c||o===i.value||(i.value=o),i.defaultValue=o}c=i.name,c!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,c!==""&&(i.name=c)}function Un(i,o,c){(o!=="number"||He(i.ownerDocument)!==i)&&(c==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+c&&(i.defaultValue=""+c))}var Ar=Array.isArray;function rn(i,o,c,f){if(i=i.options,o){o={};for(var y=0;y<c.length;y++)o["$"+c[y]]=!0;for(c=0;c<i.length;c++)y=o.hasOwnProperty("$"+i[c].value),i[c].selected!==y&&(i[c].selected=y),y&&f&&(i[c].defaultSelected=!0)}else{for(c=""+me(c),o=null,y=0;y<i.length;y++){if(i[y].value===c){i[y].selected=!0,f&&(i[y].defaultSelected=!0);return}o!==null||i[y].disabled||(o=i[y])}o!==null&&(o.selected=!0)}}function Ta(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return L({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Vl(i,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(Ar(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}i._wrapperState={initialValue:me(c)}}function Ji(i,o){var c=me(o.value),f=me(o.defaultValue);c!=null&&(c=""+c,c!==i.value&&(i.value=c),o.defaultValue==null&&i.defaultValue!==c&&(i.defaultValue=c)),f!=null&&(i.defaultValue=""+f)}function Wl(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Aa(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ca(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Aa(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var ti,wo=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,f,y){MSApp.execUnsafeLocalFunction(function(){return i(o,c,f,y)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(ti=ti||document.createElement("div"),ti.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ti.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function es(i,o){if(o){var c=i.firstChild;if(c&&c===i.lastChild&&c.nodeType===3){c.nodeValue=o;return}}i.textContent=o}var Ns={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gc=["Webkit","ms","Moz","O"];Object.keys(Ns).forEach(function(i){gc.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),Ns[o]=Ns[i]})});function So(i,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||Ns.hasOwnProperty(i)&&Ns[i]?(""+o).trim():o+"px"}function Ls(i,o){i=i.style;for(var c in o)if(o.hasOwnProperty(c)){var f=c.indexOf("--")===0,y=So(c,o[c],f);c==="float"&&(c="cssFloat"),f?i.setProperty(c,y):i[c]=y}}var re=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function se(i,o){if(o){if(re[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function lt(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=null;function At(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var nt=null,Br=null,$r=null;function Cr(i){if(i=Xo(i)){if(typeof nt!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Yo(o),nt(i.stateNode,i.type,o))}}function mn(i){Br?$r?$r.push(i):$r=[i]:Br=i}function Fs(){if(Br){var i=Br,o=$r;if($r=Br=null,Cr(i),o)for(i=0;i<o.length;i++)Cr(o[i])}}function xi(i,o){return i(o)}function Pr(){}var Os=!1;function bo(i,o,c){if(Os)return i(o,c);Os=!0;try{return xi(i,o,c)}finally{Os=!1,(Br!==null||$r!==null)&&(Pr(),Fs())}}function ts(i,o){var c=i.stateNode;if(c===null)return null;var f=Yo(c);if(f===null)return null;c=f[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var wi=!1;if(d)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){wi=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{wi=!1}function Ds(i,o,c,f,y,S,k,$,W){var oe=Array.prototype.slice.call(arguments,3);try{o.apply(c,oe)}catch(be){this.onError(be)}}var zn=!1,rs=null,Bs=!1,bi=null,Pa={onError:function(i){zn=!0,rs=i}};function Xl(i,o,c,f,y,S,k,$,W){zn=!1,rs=null,Ds.apply(Pa,arguments)}function Ia(i,o,c,f,y,S,k,$,W){if(Xl.apply(this,arguments),zn){if(zn){var oe=rs;zn=!1,rs=null}else throw Error(t(198));Bs||(Bs=!0,bi=oe)}}function ri(i){var o=i,c=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(c=o.return),i=o.return;while(i)}return o.tag===3?c:null}function Yl(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Eo(i){if(ri(i)!==i)throw Error(t(188))}function ns(i){var o=i.alternate;if(!o){if(o=ri(i),o===null)throw Error(t(188));return o!==i?null:i}for(var c=i,f=o;;){var y=c.return;if(y===null)break;var S=y.alternate;if(S===null){if(f=y.return,f!==null){c=f;continue}break}if(y.child===S.child){for(S=y.child;S;){if(S===c)return Eo(y),i;if(S===f)return Eo(y),o;S=S.sibling}throw Error(t(188))}if(c.return!==f.return)c=y,f=S;else{for(var k=!1,$=y.child;$;){if($===c){k=!0,c=y,f=S;break}if($===f){k=!0,f=y,c=S;break}$=$.sibling}if(!k){for($=S.child;$;){if($===c){k=!0,c=S,f=y;break}if($===f){k=!0,f=S,c=y;break}$=$.sibling}if(!k)throw Error(t(189))}}if(c.alternate!==f)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?i:o}function Us(i){return i=ns(i),i!==null?ql(i):null}function ql(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=ql(i);if(o!==null)return o;i=i.sibling}return null}var Ra=e.unstable_scheduleCallback,$h=e.unstable_cancelCallback,lp=e.unstable_shouldYield,up=e.unstable_requestPaint,qt=e.unstable_now,ka=e.unstable_getCurrentPriorityLevel,Ma=e.unstable_ImmediatePriority,Ql=e.unstable_UserBlockingPriority,Kl=e.unstable_NormalPriority,yc=e.unstable_LowPriority,zs=e.unstable_IdlePriority,Gn=null,ft=null;function kt(i){if(ft&&typeof ft.onCommitFiberRoot=="function")try{ft.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:Gs,Ir=Math.log,Vr=Math.LN2;function Gs(i){return i>>>=0,i===0?32:31-(Ir(i)/Vr|0)|0}var Ei=64,Rr=4194304;function js(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Na(i,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,y=i.suspendedLanes,S=i.pingedLanes,k=c&268435455;if(k!==0){var $=k&~y;$!==0?f=js($):(S&=k,S!==0&&(f=js(S)))}else k=c&~y,k!==0?f=js(k):S!==0&&(f=js(S));if(f===0)return 0;if(o!==0&&o!==f&&!(o&y)&&(y=f&-f,S=o&-o,y>=S||y===16&&(S&4194240)!==0))return o;if(f&4&&(f|=c&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=f;0<o;)c=31-gr(o),y=1<<c,f|=i[c],o&=~y;return f}function Vh(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zl(i,o){for(var c=i.suspendedLanes,f=i.pingedLanes,y=i.expirationTimes,S=i.pendingLanes;0<S;){var k=31-gr(S),$=1<<k,W=y[k];W===-1?(!($&c)||$&f)&&(y[k]=Vh($,o)):W<=o&&(i.expiredLanes|=$),S&=~$}}function Jl(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function gn(){var i=Ei;return Ei<<=1,!(Ei&4194240)&&(Ei=64),i}function vc(i){for(var o=[],c=0;31>c;c++)o.push(i);return o}function La(i,o,c){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-gr(o),i[o]=c}function _c(i,o){var c=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<c;){var y=31-gr(c),S=1<<y;o[y]=0,f[y]=-1,i[y]=-1,c&=~S}}function Fa(i,o){var c=i.entangledLanes|=o;for(i=i.entanglements;c;){var f=31-gr(c),y=1<<f;y&o|i[f]&o&&(i[f]|=o),c&=~y}}var pt=0;function Oa(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Wh,Da,xc,eu,To,Ba=!1,ht=[],Ti=null,ni=null,Ai=null,Ua=new Map,za=new Map,Dt=[],wc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xh(i,o){switch(i){case"focusin":case"focusout":Ti=null;break;case"dragenter":case"dragleave":ni=null;break;case"mouseover":case"mouseout":Ai=null;break;case"pointerover":case"pointerout":Ua.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":za.delete(o.pointerId)}}function Ao(i,o,c,f,y,S){return i===null||i.nativeEvent!==S?(i={blockedOn:o,domEventName:c,eventSystemFlags:f,nativeEvent:S,targetContainers:[y]},o!==null&&(o=Xo(o),o!==null&&Da(o)),i):(i.eventSystemFlags|=f,o=i.targetContainers,y!==null&&o.indexOf(y)===-1&&o.push(y),i)}function cp(i,o,c,f,y){switch(o){case"focusin":return Ti=Ao(Ti,i,o,c,f,y),!0;case"dragenter":return ni=Ao(ni,i,o,c,f,y),!0;case"mouseover":return Ai=Ao(Ai,i,o,c,f,y),!0;case"pointerover":var S=y.pointerId;return Ua.set(S,Ao(Ua.get(S)||null,i,o,c,f,y)),!0;case"gotpointercapture":return S=y.pointerId,za.set(S,Ao(za.get(S)||null,i,o,c,f,y)),!0}return!1}function Ga(i){var o=fs(i.target);if(o!==null){var c=ri(o);if(c!==null){if(o=c.tag,o===13){if(o=Yl(c),o!==null){i.blockedOn=o,To(i.priority,function(){xc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){i.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}i.blockedOn=null}function nn(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var c=Wr(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(c===null){c=i.nativeEvent;var f=new c.constructor(c.type,c);bt=f,c.target.dispatchEvent(f),bt=null}else return o=Xo(c),o!==null&&Da(o),i.blockedOn=c,!1;o.shift()}return!0}function yn(i,o,c){nn(i)&&c.delete(o)}function Ci(){Ba=!1,Ti!==null&&nn(Ti)&&(Ti=null),ni!==null&&nn(ni)&&(ni=null),Ai!==null&&nn(Ai)&&(Ai=null),Ua.forEach(yn),za.forEach(yn)}function is(i,o){i.blockedOn===o&&(i.blockedOn=null,Ba||(Ba=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ci)))}function Hs(i){function o(y){return is(y,i)}if(0<ht.length){is(ht[0],i);for(var c=1;c<ht.length;c++){var f=ht[c];f.blockedOn===i&&(f.blockedOn=null)}}for(Ti!==null&&is(Ti,i),ni!==null&&is(ni,i),Ai!==null&&is(Ai,i),Ua.forEach(o),za.forEach(o),c=0;c<Dt.length;c++)f=Dt[c],f.blockedOn===i&&(f.blockedOn=null);for(;0<Dt.length&&(c=Dt[0],c.blockedOn===null);)Ga(c),c.blockedOn===null&&Dt.shift()}var $s=G.ReactCurrentBatchConfig,sn=!0;function Co(i,o,c,f){var y=pt,S=$s.transition;$s.transition=null;try{pt=1,Io(i,o,c,f)}finally{pt=y,$s.transition=S}}function Po(i,o,c,f){var y=pt,S=$s.transition;$s.transition=null;try{pt=4,Io(i,o,c,f)}finally{pt=y,$s.transition=S}}function Io(i,o,c,f){if(sn){var y=Wr(i,o,c,f);if(y===null)xu(i,o,f,Vs,c),Xh(i,f);else if(cp(y,i,o,c,f))f.stopPropagation();else if(Xh(i,f),o&4&&-1<wc.indexOf(i)){for(;y!==null;){var S=Xo(y);if(S!==null&&Wh(S),S=Wr(i,o,c,f),S===null&&xu(i,o,f,Vs,c),S===y)break;y=S}y!==null&&f.stopPropagation()}else xu(i,o,f,null,c)}}var Vs=null;function Wr(i,o,c,f){if(Vs=null,i=At(f),i=fs(i),i!==null)if(o=ri(i),o===null)i=null;else if(c=o.tag,c===13){if(i=Yl(o),i!==null)return i;i=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Vs=i,null}function on(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ka()){case Ma:return 1;case Ql:return 4;case Kl:case yc:return 16;case zs:return 536870912;default:return 16}default:return 16}}var Xr=null,vn=null,_n=null;function ss(){if(_n)return _n;var i,o=vn,c=o.length,f,y="value"in Xr?Xr.value:Xr.textContent,S=y.length;for(i=0;i<c&&o[i]===y[i];i++);var k=c-i;for(f=1;f<=k&&o[c-f]===y[S-f];f++);return _n=y.slice(i,1<f?1-f:void 0)}function ja(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Ro(){return!0}function tu(){return!1}function Bt(i){function o(c,f,y,S,k){this._reactName=c,this._targetInst=y,this.type=f,this.nativeEvent=S,this.target=k,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(c=i[$],this[$]=c?c(S):S[$]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Ro:tu,this.isPropagationStopped=tu,this}return L(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ro)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ro)},persist:function(){},isPersistent:Ro}),o}var xr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Mt=Bt(xr),Pi=L({},xr,{view:0,detail:0}),jn=Bt(Pi),ru,nu,Ws,ko=L({},Pi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Va,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ws&&(Ws&&i.type==="mousemove"?(ru=i.screenX-Ws.screenX,nu=i.screenY-Ws.screenY):nu=ru=0,Ws=i),ru)},movementY:function(i){return"movementY"in i?i.movementY:nu}}),Sc=Bt(ko),iu=L({},ko,{dataTransfer:0}),Yh=Bt(iu),Mo=L({},Pi,{relatedTarget:0}),Ha=Bt(Mo),hp=L({},xr,{animationName:0,elapsedTime:0,pseudoElement:0}),su=Bt(hp),dp=L({},xr,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Hn=Bt(dp),ou=L({},xr,{data:0}),$a=Bt(ou),No={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qh(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=Ec[i])?!!o[i]:!1}function Va(){return qh}var Tc=L({},Pi,{key:function(i){if(i.key){var o=No[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=ja(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bc[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Va,charCode:function(i){return i.type==="keypress"?ja(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?ja(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),Lo=Bt(Tc),xn=L({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),os=Bt(xn),Ac=L({},Pi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Va}),Qh=Bt(Ac),ii=L({},xr,{propertyName:0,elapsedTime:0,pseudoElement:0}),as=Bt(ii),Cc=L({},ko,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Kh=Bt(Cc),Ii=[9,13,27,32],si=d&&"CompositionEvent"in window,ls=null;d&&"documentMode"in document&&(ls=document.documentMode);var Zh=d&&"TextEvent"in window&&!ls,Wa=d&&(!si||ls&&8<ls&&11>=ls),Pc=" ",Ic=!1;function au(i,o){switch(i){case"keyup":return Ii.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xa(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xs=!1;function Jh(i,o){switch(i){case"compositionend":return Xa(o);case"keypress":return o.which!==32?null:(Ic=!0,Pc);case"textInput":return i=o.data,i===Pc&&Ic?null:i;default:return null}}function ed(i,o){if(Xs)return i==="compositionend"||!si&&au(i,o)?(i=ss(),_n=vn=Xr=null,Xs=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Wa&&o.locale!=="ko"?null:o.data;default:return null}}var Rc={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fo(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!Rc[i.type]:o==="textarea"}function Ya(i,o,c,f){mn(f),o=tl(o,"onChange"),0<o.length&&(c=new Mt("onChange","change",null,c,f),i.push({event:c,listeners:o}))}var Oo=null,Do=null;function Bo(i){yu(i,0)}function qa(i){var o=Ks(i);if(Re(o))return i}function Qa(i,o){if(i==="change")return o}var an=!1;if(d){var Ys;if(d){var us="oninput"in document;if(!us){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),us=typeof $n.oninput=="function"}Ys=us}else Ys=!1;an=Ys&&(!document.documentMode||9<document.documentMode)}function lu(){Oo&&(Oo.detachEvent("onpropertychange",qs),Do=Oo=null)}function qs(i){if(i.propertyName==="value"&&qa(Do)){var o=[];Ya(o,Do,i,At(i)),bo(Bo,o)}}function td(i,o,c){i==="focusin"?(lu(),Oo=o,Do=c,Oo.attachEvent("onpropertychange",qs)):i==="focusout"&&lu()}function kc(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qa(Do)}function Vt(i,o){if(i==="click")return qa(o)}function uu(i,o){if(i==="input"||i==="change")return qa(o)}function Mc(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ln=typeof Object.is=="function"?Object.is:Mc;function cs(i,o){if(ln(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var c=Object.keys(i),f=Object.keys(o);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var y=c[f];if(!p.call(o,y)||!ln(i[y],o[y]))return!1}return!0}function cu(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function hs(i,o){var c=cu(i);i=0;for(var f;c;){if(c.nodeType===3){if(f=i+c.textContent.length,i<=o&&f>=o)return{node:c,offset:o-i};i=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=cu(c)}}function jt(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?jt(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ur(){for(var i=window,o=He();o instanceof i.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)i=o.contentWindow;else break;o=He(i.document)}return o}function er(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function hu(i){var o=ur(),c=i.focusedElem,f=i.selectionRange;if(o!==c&&c&&c.ownerDocument&&jt(c.ownerDocument.documentElement,c)){if(f!==null&&er(c)){if(o=f.start,i=f.end,i===void 0&&(i=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(i,c.value.length);else if(i=(o=c.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var y=c.textContent.length,S=Math.min(f.start,y);f=f.end===void 0?S:Math.min(f.end,y),!i.extend&&S>f&&(y=f,f=S,S=y),y=hs(c,S);var k=hs(c,f);y&&k&&(i.rangeCount!==1||i.anchorNode!==y.node||i.anchorOffset!==y.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(y.node,y.offset),i.removeAllRanges(),S>f?(i.addRange(o),i.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),i.addRange(o)))}}for(o=[],i=c;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)i=o[c],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Ka=d&&"documentMode"in document&&11>=document.documentMode,oi=null,Nc=null,tr=null,Za=!1;function du(i,o,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Za||oi==null||oi!==He(f)||(f=oi,"selectionStart"in f&&er(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),tr&&cs(tr,f)||(tr=f,f=tl(Nc,"onSelect"),0<f.length&&(o=new Mt("onSelect","select",null,o,c),i.push({event:o,listeners:f}),o.target=oi)))}function Uo(i,o){var c={};return c[i.toLowerCase()]=o.toLowerCase(),c["Webkit"+i]="webkit"+o,c["Moz"+i]="moz"+o,c}var Ur={animationend:Uo("Animation","AnimationEnd"),animationiteration:Uo("Animation","AnimationIteration"),animationstart:Uo("Animation","AnimationStart"),transitionend:Uo("Transition","TransitionEnd")},Yr={},zo={};d&&(zo=document.createElement("div").style,"AnimationEvent"in window||(delete Ur.animationend.animation,delete Ur.animationiteration.animation,delete Ur.animationstart.animation),"TransitionEvent"in window||delete Ur.transitionend.transition);function Go(i){if(Yr[i])return Yr[i];if(!Ur[i])return i;var o=Ur[i],c;for(c in o)if(o.hasOwnProperty(c)&&c in zo)return Yr[i]=o[c];return i}var fu=Go("animationend"),Lc=Go("animationiteration"),Fc=Go("animationstart"),Oc=Go("transitionend"),Dc=new Map,Bc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ri(i,o){Dc.set(i,o),a(o,[i])}for(var pu=0;pu<Bc.length;pu++){var mu=Bc[pu],Ja=mu.toLowerCase(),rd=mu[0].toUpperCase()+mu.slice(1);Ri(Ja,"on"+rd)}Ri(fu,"onAnimationEnd"),Ri(Lc,"onAnimationIteration"),Ri(Fc,"onAnimationStart"),Ri("dblclick","onDoubleClick"),Ri("focusin","onFocus"),Ri("focusout","onBlur"),Ri(Oc,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gu=new Set("cancel close invalid load scroll toggle".split(" ").concat(ds));function Uc(i,o,c){var f=i.type||"unknown-event";i.currentTarget=c,Ia(f,o,void 0,i),i.currentTarget=null}function yu(i,o){o=(o&4)!==0;for(var c=0;c<i.length;c++){var f=i[c],y=f.event;f=f.listeners;e:{var S=void 0;if(o)for(var k=f.length-1;0<=k;k--){var $=f[k],W=$.instance,oe=$.currentTarget;if($=$.listener,W!==S&&y.isPropagationStopped())break e;Uc(y,$,oe),S=W}else for(k=0;k<f.length;k++){if($=f[k],W=$.instance,oe=$.currentTarget,$=$.listener,W!==S&&y.isPropagationStopped())break e;Uc(y,$,oe),S=W}}}if(Bs)throw i=bi,Bs=!1,bi=null,i}function Nt(i,o){var c=o[kr];c===void 0&&(c=o[kr]=new Set);var f=i+"__bubble";c.has(f)||(_u(o,i,2,!1),c.add(f))}function vu(i,o,c){var f=0;o&&(f|=4),_u(c,i,f,o)}var el="_reactListening"+Math.random().toString(36).slice(2);function jo(i){if(!i[el]){i[el]=!0,n.forEach(function(c){c!=="selectionchange"&&(gu.has(c)||vu(c,!1,i),vu(c,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[el]||(o[el]=!0,vu("selectionchange",!1,o))}}function _u(i,o,c,f){switch(on(o)){case 1:var y=Co;break;case 4:y=Po;break;default:y=Io}c=y.bind(null,o,c,i),y=void 0,!wi||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(y=!0),f?y!==void 0?i.addEventListener(o,c,{capture:!0,passive:y}):i.addEventListener(o,c,!0):y!==void 0?i.addEventListener(o,c,{passive:y}):i.addEventListener(o,c,!1)}function xu(i,o,c,f,y){var S=f;if(!(o&1)&&!(o&2)&&f!==null)e:for(;;){if(f===null)return;var k=f.tag;if(k===3||k===4){var $=f.stateNode.containerInfo;if($===y||$.nodeType===8&&$.parentNode===y)break;if(k===4)for(k=f.return;k!==null;){var W=k.tag;if((W===3||W===4)&&(W=k.stateNode.containerInfo,W===y||W.nodeType===8&&W.parentNode===y))return;k=k.return}for(;$!==null;){if(k=fs($),k===null)return;if(W=k.tag,W===5||W===6){f=S=k;continue e}$=$.parentNode}}f=f.return}bo(function(){var oe=S,be=At(c),Ae=[];e:{var we=Dc.get(i);if(we!==void 0){var Le=Mt,Ue=i;switch(i){case"keypress":if(ja(c)===0)break e;case"keydown":case"keyup":Le=Lo;break;case"focusin":Ue="focus",Le=Ha;break;case"focusout":Ue="blur",Le=Ha;break;case"beforeblur":case"afterblur":Le=Ha;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Le=Sc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Le=Yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Le=Qh;break;case fu:case Lc:case Fc:Le=su;break;case Oc:Le=as;break;case"scroll":Le=jn;break;case"wheel":Le=Kh;break;case"copy":case"cut":case"paste":Le=Hn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Le=os}var $e=(o&4)!==0,fr=!$e&&i==="scroll",J=$e?we!==null?we+"Capture":null:we;$e=[];for(var q=oe,ne;q!==null;){ne=q;var Ie=ne.stateNode;if(ne.tag===5&&Ie!==null&&(ne=Ie,J!==null&&(Ie=ts(q,J),Ie!=null&&$e.push(Ho(q,Ie,ne)))),fr)break;q=q.return}0<$e.length&&(we=new Le(we,Ue,null,c,be),Ae.push({event:we,listeners:$e}))}}if(!(o&7)){e:{if(we=i==="mouseover"||i==="pointerover",Le=i==="mouseout"||i==="pointerout",we&&c!==bt&&(Ue=c.relatedTarget||c.fromElement)&&(fs(Ue)||Ue[Wt]))break e;if((Le||we)&&(we=be.window===be?be:(we=be.ownerDocument)?we.defaultView||we.parentWindow:window,Le?(Ue=c.relatedTarget||c.toElement,Le=oe,Ue=Ue?fs(Ue):null,Ue!==null&&(fr=ri(Ue),Ue!==fr||Ue.tag!==5&&Ue.tag!==6)&&(Ue=null)):(Le=null,Ue=oe),Le!==Ue)){if($e=Sc,Ie="onMouseLeave",J="onMouseEnter",q="mouse",(i==="pointerout"||i==="pointerover")&&($e=os,Ie="onPointerLeave",J="onPointerEnter",q="pointer"),fr=Le==null?we:Ks(Le),ne=Ue==null?we:Ks(Ue),we=new $e(Ie,q+"leave",Le,c,be),we.target=fr,we.relatedTarget=ne,Ie=null,fs(be)===oe&&($e=new $e(J,q+"enter",Ue,c,be),$e.target=ne,$e.relatedTarget=fr,Ie=$e),fr=Ie,Le&&Ue)t:{for($e=Le,J=Ue,q=0,ne=$e;ne;ne=$o(ne))q++;for(ne=0,Ie=J;Ie;Ie=$o(Ie))ne++;for(;0<q-ne;)$e=$o($e),q--;for(;0<ne-q;)J=$o(J),ne--;for(;q--;){if($e===J||J!==null&&$e===J.alternate)break t;$e=$o($e),J=$o(J)}$e=null}else $e=null;Le!==null&&zc(Ae,we,Le,$e,!1),Ue!==null&&fr!==null&&zc(Ae,fr,Ue,$e,!0)}}e:{if(we=oe?Ks(oe):window,Le=we.nodeName&&we.nodeName.toLowerCase(),Le==="select"||Le==="input"&&we.type==="file")var Xe=Qa;else if(Fo(we))if(an)Xe=uu;else{Xe=kc;var Je=td}else(Le=we.nodeName)&&Le.toLowerCase()==="input"&&(we.type==="checkbox"||we.type==="radio")&&(Xe=Vt);if(Xe&&(Xe=Xe(i,oe))){Ya(Ae,Xe,c,be);break e}Je&&Je(i,we,oe),i==="focusout"&&(Je=we._wrapperState)&&Je.controlled&&we.type==="number"&&Un(we,"number",we.value)}switch(Je=oe?Ks(oe):window,i){case"focusin":(Fo(Je)||Je.contentEditable==="true")&&(oi=Je,Nc=oe,tr=null);break;case"focusout":tr=Nc=oi=null;break;case"mousedown":Za=!0;break;case"contextmenu":case"mouseup":case"dragend":Za=!1,du(Ae,c,be);break;case"selectionchange":if(Ka)break;case"keydown":case"keyup":du(Ae,c,be)}var et;if(si)e:{switch(i){case"compositionstart":var rt="onCompositionStart";break e;case"compositionend":rt="onCompositionEnd";break e;case"compositionupdate":rt="onCompositionUpdate";break e}rt=void 0}else Xs?au(i,c)&&(rt="onCompositionEnd"):i==="keydown"&&c.keyCode===229&&(rt="onCompositionStart");rt&&(Wa&&c.locale!=="ko"&&(Xs||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Xs&&(et=ss()):(Xr=be,vn="value"in Xr?Xr.value:Xr.textContent,Xs=!0)),Je=tl(oe,rt),0<Je.length&&(rt=new $a(rt,i,null,c,be),Ae.push({event:rt,listeners:Je}),et?rt.data=et:(et=Xa(c),et!==null&&(rt.data=et)))),(et=Zh?Jh(i,c):ed(i,c))&&(oe=tl(oe,"onBeforeInput"),0<oe.length&&(be=new $a("onBeforeInput","beforeinput",null,c,be),Ae.push({event:be,listeners:oe}),be.data=et))}yu(Ae,o)})}function Ho(i,o,c){return{instance:i,listener:o,currentTarget:c}}function tl(i,o){for(var c=o+"Capture",f=[];i!==null;){var y=i,S=y.stateNode;y.tag===5&&S!==null&&(y=S,S=ts(i,c),S!=null&&f.unshift(Ho(i,S,y)),S=ts(i,o),S!=null&&f.push(Ho(i,S,y))),i=i.return}return f}function $o(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function zc(i,o,c,f,y){for(var S=o._reactName,k=[];c!==null&&c!==f;){var $=c,W=$.alternate,oe=$.stateNode;if(W!==null&&W===f)break;$.tag===5&&oe!==null&&($=oe,y?(W=ts(c,S),W!=null&&k.unshift(Ho(c,W,$))):y||(W=ts(c,S),W!=null&&k.push(Ho(c,W,$)))),c=c.return}k.length!==0&&i.push({event:o,listeners:k})}var fp=/\r\n?/g,pp=/\u0000|\uFFFD/g;function Gc(i){return(typeof i=="string"?i:""+i).replace(fp,`
`).replace(pp,"")}function rl(i,o,c){if(o=Gc(o),Gc(i)!==o&&c)throw Error(t(425))}function nl(){}var Vo=null,jc=null;function Hc(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var $c=typeof setTimeout=="function"?setTimeout:void 0,Wo=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,Vc=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(i){return wu.resolve(null).then(i).catch(mp)}:$c;function mp(i){setTimeout(function(){throw i})}function Su(i,o){var c=o,f=0;do{var y=c.nextSibling;if(i.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(f===0){i.removeChild(y),Hs(o);return}f--}else c!=="$"&&c!=="$?"&&c!=="$!"||f++;c=y}while(c);Hs(o)}function ki(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function Wc(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return i;o--}else c==="/$"&&o++}i=i.previousSibling}return null}var Qs=Math.random().toString(36).slice(2),Vn="__reactFiber$"+Qs,il="__reactProps$"+Qs,Wt="__reactContainer$"+Qs,kr="__reactEvents$"+Qs,nd="__reactListeners$"+Qs,id="__reactHandles$"+Qs;function fs(i){var o=i[Vn];if(o)return o;for(var c=i.parentNode;c;){if(o=c[Wt]||c[Vn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(i=Wc(i);i!==null;){if(c=i[Vn])return c;i=Wc(i)}return o}i=c,c=i.parentNode}return null}function Xo(i){return i=i[Vn]||i[Wt],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Ks(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Yo(i){return i[il]||null}var bu=[],ps=-1;function Mi(i){return{current:i}}function Lt(i){0>ps||(i.current=bu[ps],bu[ps]=null,ps--)}function Et(i,o){ps++,bu[ps]=i.current,i.current=o}var wn={},cr=Mi(wn),wr=Mi(!1),Ni=wn;function ms(i,o){var c=i.type.contextTypes;if(!c)return wn;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===o)return f.__reactInternalMemoizedMaskedChildContext;var y={},S;for(S in c)y[S]=o[S];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=y),y}function zr(i){return i=i.childContextTypes,i!=null}function qo(){Lt(wr),Lt(cr)}function sl(i,o,c){if(cr.current!==wn)throw Error(t(168));Et(cr,o),Et(wr,c)}function Xc(i,o,c){var f=i.stateNode;if(o=o.childContextTypes,typeof f.getChildContext!="function")return c;f=f.getChildContext();for(var y in f)if(!(y in o))throw Error(t(108,fe(i)||"Unknown",y));return L({},c,f)}function Qo(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||wn,Ni=cr.current,Et(cr,i),Et(wr,wr.current),!0}function Yc(i,o,c){var f=i.stateNode;if(!f)throw Error(t(169));c?(i=Xc(i,o,Ni),f.__reactInternalMemoizedMergedChildContext=i,Lt(wr),Lt(cr),Et(cr,i)):Lt(wr),Et(wr,c)}var Sn=null,bn=!1,En=!1;function qc(i){Sn===null?Sn=[i]:Sn.push(i)}function sd(i){bn=!0,qc(i)}function Tn(){if(!En&&Sn!==null){En=!0;var i=0,o=pt;try{var c=Sn;for(pt=1;i<c.length;i++){var f=c[i];do f=f(!0);while(f!==null)}Sn=null,bn=!1}catch(y){throw Sn!==null&&(Sn=Sn.slice(i+1)),Ra(Ma,Tn),y}finally{pt=o,En=!1}}return null}var rr=[],Ko=0,Eu=null,Zs=0,It=[],An=0,Me=null,qr=1,ai="";function gs(i,o){rr[Ko++]=Zs,rr[Ko++]=Eu,Eu=i,Zs=o}function Zo(i,o,c){It[An++]=qr,It[An++]=ai,It[An++]=Me,Me=i;var f=qr;i=ai;var y=32-gr(f)-1;f&=~(1<<y),c+=1;var S=32-gr(o)+y;if(30<S){var k=y-y%5;S=(f&(1<<k)-1).toString(32),f>>=k,y-=k,qr=1<<32-gr(o)+y|c<<y|f,ai=S+i}else qr=1<<S|c<<y|f,ai=i}function Jo(i){i.return!==null&&(gs(i,1),Zo(i,1,0))}function ol(i){for(;i===Eu;)Eu=rr[--Ko],rr[Ko]=null,Zs=rr[--Ko],rr[Ko]=null;for(;i===Me;)Me=It[--An],It[An]=null,ai=It[--An],It[An]=null,qr=It[--An],It[An]=null}var Qr=null,Kr=null,Ut=!1,un=null;function Tu(i,o){var c=di(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=i,o=i.deletions,o===null?(i.deletions=[c],i.flags|=16):o.push(c)}function Mr(i,o){switch(i.tag){case 5:var c=i.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Qr=i,Kr=ki(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Qr=i,Kr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Me!==null?{id:qr,overflow:ai}:null,i.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=di(18,null,null,0),c.stateNode=o,c.return=i,i.child=c,Qr=i,Kr=null,!0):!1;default:return!1}}function Cn(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Pn(i){if(Ut){var o=Kr;if(o){var c=o;if(!Mr(i,o)){if(Cn(i))throw Error(t(418));o=ki(c.nextSibling);var f=Qr;o&&Mr(i,o)?Tu(f,c):(i.flags=i.flags&-4097|2,Ut=!1,Qr=i)}}else{if(Cn(i))throw Error(t(418));i.flags=i.flags&-4097|2,Ut=!1,Qr=i}}}function Au(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Qr=i}function al(i){if(i!==Qr)return!1;if(!Ut)return Au(i),Ut=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Hc(i.type,i.memoizedProps)),o&&(o=Kr)){if(Cn(i))throw In(),Error(t(418));for(;o;)Tu(i,o),o=ki(o.nextSibling)}if(Au(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var c=i.data;if(c==="/$"){if(o===0){Kr=ki(i.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}i=i.nextSibling}Kr=null}}else Kr=Qr?ki(i.stateNode.nextSibling):null;return!0}function In(){for(var i=Kr;i;)i=ki(i.nextSibling)}function Js(){Kr=Qr=null,Ut=!1}function Rn(i){un===null?un=[i]:un.push(i)}var gp=G.ReactCurrentBatchConfig;function ea(i,o,c){if(i=c.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var f=c.stateNode}if(!f)throw Error(t(147,i));var y=f,S=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===S?o.ref:(o=function(k){var $=y.refs;k===null?delete $[S]:$[S]=k},o._stringRef=S,o)}if(typeof i!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,i))}return i}function ll(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Qc(i){var o=i._init;return o(i._payload)}function Kc(i){function o(J,q){if(i){var ne=J.deletions;ne===null?(J.deletions=[q],J.flags|=16):ne.push(q)}}function c(J,q){if(!i)return null;for(;q!==null;)o(J,q),q=q.sibling;return null}function f(J,q){for(J=new Map;q!==null;)q.key!==null?J.set(q.key,q):J.set(q.index,q),q=q.sibling;return J}function y(J,q){return J=ca(J,q),J.index=0,J.sibling=null,J}function S(J,q,ne){return J.index=ne,i?(ne=J.alternate,ne!==null?(ne=ne.index,ne<q?(J.flags|=2,q):ne):(J.flags|=2,q)):(J.flags|=1048576,q)}function k(J){return i&&J.alternate===null&&(J.flags|=2),J}function $(J,q,ne,Ie){return q===null||q.tag!==6?(q=zp(ne,J.mode,Ie),q.return=J,q):(q=y(q,ne),q.return=J,q)}function W(J,q,ne,Ie){var Xe=ne.type;return Xe===F?be(J,q,ne.props.children,Ie,ne.key):q!==null&&(q.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===B&&Qc(Xe)===q.type)?(Ie=y(q,ne.props),Ie.ref=ea(J,q,ne),Ie.return=J,Ie):(Ie=bd(ne.type,ne.key,ne.props,null,J.mode,Ie),Ie.ref=ea(J,q,ne),Ie.return=J,Ie)}function oe(J,q,ne,Ie){return q===null||q.tag!==4||q.stateNode.containerInfo!==ne.containerInfo||q.stateNode.implementation!==ne.implementation?(q=Gp(ne,J.mode,Ie),q.return=J,q):(q=y(q,ne.children||[]),q.return=J,q)}function be(J,q,ne,Ie,Xe){return q===null||q.tag!==7?(q=El(ne,J.mode,Ie,Xe),q.return=J,q):(q=y(q,ne),q.return=J,q)}function Ae(J,q,ne){if(typeof q=="string"&&q!==""||typeof q=="number")return q=zp(""+q,J.mode,ne),q.return=J,q;if(typeof q=="object"&&q!==null){switch(q.$$typeof){case O:return ne=bd(q.type,q.key,q.props,null,J.mode,ne),ne.ref=ea(J,null,q),ne.return=J,ne;case V:return q=Gp(q,J.mode,ne),q.return=J,q;case B:var Ie=q._init;return Ae(J,Ie(q._payload),ne)}if(Ar(q)||H(q))return q=El(q,J.mode,ne,null),q.return=J,q;ll(J,q)}return null}function we(J,q,ne,Ie){var Xe=q!==null?q.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Xe!==null?null:$(J,q,""+ne,Ie);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case O:return ne.key===Xe?W(J,q,ne,Ie):null;case V:return ne.key===Xe?oe(J,q,ne,Ie):null;case B:return Xe=ne._init,we(J,q,Xe(ne._payload),Ie)}if(Ar(ne)||H(ne))return Xe!==null?null:be(J,q,ne,Ie,null);ll(J,ne)}return null}function Le(J,q,ne,Ie,Xe){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return J=J.get(ne)||null,$(q,J,""+Ie,Xe);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case O:return J=J.get(Ie.key===null?ne:Ie.key)||null,W(q,J,Ie,Xe);case V:return J=J.get(Ie.key===null?ne:Ie.key)||null,oe(q,J,Ie,Xe);case B:var Je=Ie._init;return Le(J,q,ne,Je(Ie._payload),Xe)}if(Ar(Ie)||H(Ie))return J=J.get(ne)||null,be(q,J,Ie,Xe,null);ll(q,Ie)}return null}function Ue(J,q,ne,Ie){for(var Xe=null,Je=null,et=q,rt=q=0,Fr=null;et!==null&&rt<ne.length;rt++){et.index>rt?(Fr=et,et=null):Fr=et.sibling;var Tt=we(J,et,ne[rt],Ie);if(Tt===null){et===null&&(et=Fr);break}i&&et&&Tt.alternate===null&&o(J,et),q=S(Tt,q,rt),Je===null?Xe=Tt:Je.sibling=Tt,Je=Tt,et=Fr}if(rt===ne.length)return c(J,et),Ut&&gs(J,rt),Xe;if(et===null){for(;rt<ne.length;rt++)et=Ae(J,ne[rt],Ie),et!==null&&(q=S(et,q,rt),Je===null?Xe=et:Je.sibling=et,Je=et);return Ut&&gs(J,rt),Xe}for(et=f(J,et);rt<ne.length;rt++)Fr=Le(et,J,rt,ne[rt],Ie),Fr!==null&&(i&&Fr.alternate!==null&&et.delete(Fr.key===null?rt:Fr.key),q=S(Fr,q,rt),Je===null?Xe=Fr:Je.sibling=Fr,Je=Fr);return i&&et.forEach(function(ha){return o(J,ha)}),Ut&&gs(J,rt),Xe}function $e(J,q,ne,Ie){var Xe=H(ne);if(typeof Xe!="function")throw Error(t(150));if(ne=Xe.call(ne),ne==null)throw Error(t(151));for(var Je=Xe=null,et=q,rt=q=0,Fr=null,Tt=ne.next();et!==null&&!Tt.done;rt++,Tt=ne.next()){et.index>rt?(Fr=et,et=null):Fr=et.sibling;var ha=we(J,et,Tt.value,Ie);if(ha===null){et===null&&(et=Fr);break}i&&et&&ha.alternate===null&&o(J,et),q=S(ha,q,rt),Je===null?Xe=ha:Je.sibling=ha,Je=ha,et=Fr}if(Tt.done)return c(J,et),Ut&&gs(J,rt),Xe;if(et===null){for(;!Tt.done;rt++,Tt=ne.next())Tt=Ae(J,Tt.value,Ie),Tt!==null&&(q=S(Tt,q,rt),Je===null?Xe=Tt:Je.sibling=Tt,Je=Tt);return Ut&&gs(J,rt),Xe}for(et=f(J,et);!Tt.done;rt++,Tt=ne.next())Tt=Le(et,J,rt,Tt.value,Ie),Tt!==null&&(i&&Tt.alternate!==null&&et.delete(Tt.key===null?rt:Tt.key),q=S(Tt,q,rt),Je===null?Xe=Tt:Je.sibling=Tt,Je=Tt);return i&&et.forEach(function(mw){return o(J,mw)}),Ut&&gs(J,rt),Xe}function fr(J,q,ne,Ie){if(typeof ne=="object"&&ne!==null&&ne.type===F&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case O:e:{for(var Xe=ne.key,Je=q;Je!==null;){if(Je.key===Xe){if(Xe=ne.type,Xe===F){if(Je.tag===7){c(J,Je.sibling),q=y(Je,ne.props.children),q.return=J,J=q;break e}}else if(Je.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===B&&Qc(Xe)===Je.type){c(J,Je.sibling),q=y(Je,ne.props),q.ref=ea(J,Je,ne),q.return=J,J=q;break e}c(J,Je);break}else o(J,Je);Je=Je.sibling}ne.type===F?(q=El(ne.props.children,J.mode,Ie,ne.key),q.return=J,J=q):(Ie=bd(ne.type,ne.key,ne.props,null,J.mode,Ie),Ie.ref=ea(J,q,ne),Ie.return=J,J=Ie)}return k(J);case V:e:{for(Je=ne.key;q!==null;){if(q.key===Je)if(q.tag===4&&q.stateNode.containerInfo===ne.containerInfo&&q.stateNode.implementation===ne.implementation){c(J,q.sibling),q=y(q,ne.children||[]),q.return=J,J=q;break e}else{c(J,q);break}else o(J,q);q=q.sibling}q=Gp(ne,J.mode,Ie),q.return=J,J=q}return k(J);case B:return Je=ne._init,fr(J,q,Je(ne._payload),Ie)}if(Ar(ne))return Ue(J,q,ne,Ie);if(H(ne))return $e(J,q,ne,Ie);ll(J,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,q!==null&&q.tag===6?(c(J,q.sibling),q=y(q,ne),q.return=J,J=q):(c(J,q),q=zp(ne,J.mode,Ie),q.return=J,J=q),k(J)):c(J,q)}return fr}var Li=Kc(!0),ul=Kc(!1),eo=Mi(null),to=null,Fi=null,ro=null;function cl(){ro=Fi=to=null}function hl(i){var o=eo.current;Lt(eo),i._currentValue=o}function dl(i,o,c){for(;i!==null;){var f=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,f!==null&&(f.childLanes|=o)):f!==null&&(f.childLanes&o)!==o&&(f.childLanes|=o),i===c)break;i=i.return}}function no(i,o){to=i,ro=Fi=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&o&&(Q=!0),i.firstContext=null)}function Zr(i){var o=i._currentValue;if(ro!==i)if(i={context:i,memoizedValue:o,next:null},Fi===null){if(to===null)throw Error(t(308));Fi=i,to.dependencies={lanes:0,firstContext:i}}else Fi=Fi.next=i;return o}var io=null;function ta(i){io===null?io=[i]:io.push(i)}function Cu(i,o,c,f){var y=o.interleaved;return y===null?(c.next=c,ta(o)):(c.next=y.next,y.next=c),o.interleaved=c,Ct(i,f)}function Ct(i,o){i.lanes|=o;var c=i.alternate;for(c!==null&&(c.lanes|=o),c=i,i=i.return;i!==null;)i.childLanes|=o,c=i.alternate,c!==null&&(c.childLanes|=o),c=i,i=i.return;return c.tag===3?c.stateNode:null}var st=!1;function nr(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Qt(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function zt(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ir(i,o,c){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,wt&2){var y=f.pending;return y===null?o.next=o:(o.next=y.next,y.next=o),f.pending=o,Ct(i,c)}return y=f.interleaved,y===null?(o.next=o,ta(f)):(o.next=y.next,y.next=o),f.interleaved=o,Ct(i,c)}function Oi(i,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,Fa(i,c)}}function sr(i,o){var c=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var y=null,S=null;if(c=c.firstBaseUpdate,c!==null){do{var k={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};S===null?y=S=k:S=S.next=k,c=c.next}while(c!==null);S===null?y=S=o:S=S.next=o}else y=S=o;c={baseState:f.baseState,firstBaseUpdate:y,lastBaseUpdate:S,shared:f.shared,effects:f.effects},i.updateQueue=c;return}i=c.lastBaseUpdate,i===null?c.firstBaseUpdate=o:i.next=o,c.lastBaseUpdate=o}function ys(i,o,c,f){var y=i.updateQueue;st=!1;var S=y.firstBaseUpdate,k=y.lastBaseUpdate,$=y.shared.pending;if($!==null){y.shared.pending=null;var W=$,oe=W.next;W.next=null,k===null?S=oe:k.next=oe,k=W;var be=i.alternate;be!==null&&(be=be.updateQueue,$=be.lastBaseUpdate,$!==k&&($===null?be.firstBaseUpdate=oe:$.next=oe,be.lastBaseUpdate=W))}if(S!==null){var Ae=y.baseState;k=0,be=oe=W=null,$=S;do{var we=$.lane,Le=$.eventTime;if((f&we)===we){be!==null&&(be=be.next={eventTime:Le,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var Ue=i,$e=$;switch(we=o,Le=c,$e.tag){case 1:if(Ue=$e.payload,typeof Ue=="function"){Ae=Ue.call(Le,Ae,we);break e}Ae=Ue;break e;case 3:Ue.flags=Ue.flags&-65537|128;case 0:if(Ue=$e.payload,we=typeof Ue=="function"?Ue.call(Le,Ae,we):Ue,we==null)break e;Ae=L({},Ae,we);break e;case 2:st=!0}}$.callback!==null&&$.lane!==0&&(i.flags|=64,we=y.effects,we===null?y.effects=[$]:we.push($))}else Le={eventTime:Le,lane:we,tag:$.tag,payload:$.payload,callback:$.callback,next:null},be===null?(oe=be=Le,W=Ae):be=be.next=Le,k|=we;if($=$.next,$===null){if($=y.shared.pending,$===null)break;we=$,$=we.next,we.next=null,y.lastBaseUpdate=we,y.shared.pending=null}}while(!0);if(be===null&&(W=Ae),y.baseState=W,y.firstBaseUpdate=oe,y.lastBaseUpdate=be,o=y.shared.interleaved,o!==null){y=o;do k|=y.lane,y=y.next;while(y!==o)}else S===null&&(y.shared.lanes=0);xl|=k,i.lanes=k,i.memoizedState=Ae}}function vs(i,o,c){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var f=i[o],y=f.callback;if(y!==null){if(f.callback=null,f=c,typeof y!="function")throw Error(t(191,y));y.call(f)}}}var _s={},kn=Mi(_s),Di=Mi(_s),Sr=Mi(_s);function Bi(i){if(i===_s)throw Error(t(174));return i}function fl(i,o){switch(Et(Sr,o),Et(Di,i),Et(kn,_s),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:Ca(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=Ca(o,i)}Lt(kn),Et(kn,o)}function cn(){Lt(kn),Lt(Di),Lt(Sr)}function so(i){Bi(Sr.current);var o=Bi(kn.current),c=Ca(o,i.type);o!==c&&(Et(Di,i),Et(kn,c))}function Pu(i){Di.current===i&&(Lt(kn),Lt(Di))}var Ft=Mi(0);function ra(i){for(var o=i;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var li=[];function na(){for(var i=0;i<li.length;i++)li[i]._workInProgressVersionPrimary=null;li.length=0}var Wn=G.ReactCurrentDispatcher,ia=G.ReactCurrentBatchConfig,Xn=0,Gt=null,Xt=null,Kt=null,hr=!1,Mn=!1,Nr=0,Jr=0;function br(){throw Error(t(321))}function pl(i,o){if(o===null)return!1;for(var c=0;c<o.length&&c<i.length;c++)if(!ln(i[c],o[c]))return!1;return!0}function ml(i,o,c,f,y,S){if(Xn=S,Gt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,Wn.current=i===null||i.memoizedState===null?Lu:vp,i=c(f,y),Mn){S=0;do{if(Mn=!1,Nr=0,25<=S)throw Error(t(301));S+=1,Kt=Xt=null,o.updateQueue=null,Wn.current=_p,i=c(f,y)}while(Mn)}if(Wn.current=_l,o=Xt!==null&&Xt.next!==null,Xn=0,Kt=Xt=Gt=null,hr=!1,o)throw Error(t(300));return i}function ui(){var i=Nr!==0;return Nr=0,i}function Yn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Gt.memoizedState=Kt=i:Kt=Kt.next=i,Kt}function hn(){if(Xt===null){var i=Gt.alternate;i=i!==null?i.memoizedState:null}else i=Xt.next;var o=Kt===null?Gt.memoizedState:Kt.next;if(o!==null)Kt=o,Xt=i;else{if(i===null)throw Error(t(310));Xt=i,i={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Kt===null?Gt.memoizedState=Kt=i:Kt=Kt.next=i}return Kt}function oo(i,o){return typeof o=="function"?o(i):o}function Ui(i){var o=hn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var f=Xt,y=f.baseQueue,S=c.pending;if(S!==null){if(y!==null){var k=y.next;y.next=S.next,S.next=k}f.baseQueue=y=S,c.pending=null}if(y!==null){S=y.next,f=f.baseState;var $=k=null,W=null,oe=S;do{var be=oe.lane;if((Xn&be)===be)W!==null&&(W=W.next={lane:0,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),f=oe.hasEagerState?oe.eagerState:i(f,oe.action);else{var Ae={lane:be,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null};W===null?($=W=Ae,k=f):W=W.next=Ae,Gt.lanes|=be,xl|=be}oe=oe.next}while(oe!==null&&oe!==S);W===null?k=f:W.next=$,ln(f,o.memoizedState)||(Q=!0),o.memoizedState=f,o.baseState=k,o.baseQueue=W,c.lastRenderedState=f}if(i=c.interleaved,i!==null){y=i;do S=y.lane,Gt.lanes|=S,xl|=S,y=y.next;while(y!==i)}else y===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function Iu(i){var o=hn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=i;var f=c.dispatch,y=c.pending,S=o.memoizedState;if(y!==null){c.pending=null;var k=y=y.next;do S=i(S,k.action),k=k.next;while(k!==y);ln(S,o.memoizedState)||(Q=!0),o.memoizedState=S,o.baseQueue===null&&(o.baseState=S),c.lastRenderedState=S}return[S,f]}function Zc(){}function Ru(i,o){var c=Gt,f=hn(),y=o(),S=!ln(f.memoizedState,y);if(S&&(f.memoizedState=y,Q=!0),f=f.queue,nh(ad.bind(null,c,f,i),[i]),f.getSnapshot!==o||S||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,qn(9,od.bind(null,c,f,y,o),void 0,null),Lr===null)throw Error(t(349));Xn&30||gl(c,o,y)}return y}function gl(i,o,c){i.flags|=16384,i={getSnapshot:o,value:c},o=Gt.updateQueue,o===null?(o={lastEffect:null,stores:null},Gt.updateQueue=o,o.stores=[i]):(c=o.stores,c===null?o.stores=[i]:c.push(i))}function od(i,o,c,f){o.value=c,o.getSnapshot=f,Jc(o)&&eh(i)}function ad(i,o,c){return c(function(){Jc(o)&&eh(i)})}function Jc(i){var o=i.getSnapshot;i=i.value;try{var c=o();return!ln(i,c)}catch{return!0}}function eh(i){var o=Ct(i,1);o!==null&&Hi(o,i,1,-1)}function ao(i){var o=Yn();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:i},o.queue=i,i=i.dispatch=yp.bind(null,Gt,i),[o.memoizedState,i]}function qn(i,o,c,f){return i={tag:i,create:o,destroy:c,deps:f,next:null},o=Gt.updateQueue,o===null?(o={lastEffect:null,stores:null},Gt.updateQueue=o,o.lastEffect=i.next=i):(c=o.lastEffect,c===null?o.lastEffect=i.next=i:(f=c.next,c.next=i,i.next=f,o.lastEffect=i)),i}function th(){return hn().memoizedState}function Rt(i,o,c,f){var y=Yn();Gt.flags|=i,y.memoizedState=qn(1|o,c,void 0,f===void 0?null:f)}function ku(i,o,c,f){var y=hn();f=f===void 0?null:f;var S=void 0;if(Xt!==null){var k=Xt.memoizedState;if(S=k.destroy,f!==null&&pl(f,k.deps)){y.memoizedState=qn(o,c,S,f);return}}Gt.flags|=i,y.memoizedState=qn(1|o,c,S,f)}function rh(i,o){return Rt(8390656,8,i,o)}function nh(i,o){return ku(2048,8,i,o)}function ld(i,o){return ku(4,2,i,o)}function ih(i,o){return ku(4,4,i,o)}function ud(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function dn(i,o,c){return c=c!=null?c.concat([i]):null,ku(4,4,ud.bind(null,o,i),c)}function yl(){}function zi(i,o){var c=hn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&pl(o,f[1])?f[0]:(c.memoizedState=[i,o],i)}function vl(i,o){var c=hn();o=o===void 0?null:o;var f=c.memoizedState;return f!==null&&o!==null&&pl(o,f[1])?f[0]:(i=i(),c.memoizedState=[i,o],i)}function xs(i,o,c){return Xn&21?(ln(c,o)||(c=gn(),Gt.lanes|=c,xl|=c,i.baseState=!0),o):(i.baseState&&(i.baseState=!1,Q=!0),i.memoizedState=c)}function Mu(i,o){var c=pt;pt=c!==0&&4>c?c:4,i(!0);var f=ia.transition;ia.transition={};try{i(!1),o()}finally{pt=c,ia.transition=f}}function Nu(){return hn().memoizedState}function sh(i,o,c){var f=la(i);if(c={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null},oh(i))ah(o,c);else if(c=Cu(i,o,c,f),c!==null){var y=fn();Hi(c,i,f,y),lh(c,o,f)}}function yp(i,o,c){var f=la(i),y={lane:f,action:c,hasEagerState:!1,eagerState:null,next:null};if(oh(i))ah(o,y);else{var S=i.alternate;if(i.lanes===0&&(S===null||S.lanes===0)&&(S=o.lastRenderedReducer,S!==null))try{var k=o.lastRenderedState,$=S(k,c);if(y.hasEagerState=!0,y.eagerState=$,ln($,k)){var W=o.interleaved;W===null?(y.next=y,ta(o)):(y.next=W.next,W.next=y),o.interleaved=y;return}}catch{}finally{}c=Cu(i,o,y,f),c!==null&&(y=fn(),Hi(c,i,f,y),lh(c,o,f))}}function oh(i){var o=i.alternate;return i===Gt||o!==null&&o===Gt}function ah(i,o){Mn=hr=!0;var c=i.pending;c===null?o.next=o:(o.next=c.next,c.next=o),i.pending=o}function lh(i,o,c){if(c&4194240){var f=o.lanes;f&=i.pendingLanes,c|=f,o.lanes=c,Fa(i,c)}}var _l={readContext:Zr,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},Lu={readContext:Zr,useCallback:function(i,o){return Yn().memoizedState=[i,o===void 0?null:o],i},useContext:Zr,useEffect:rh,useImperativeHandle:function(i,o,c){return c=c!=null?c.concat([i]):null,Rt(4194308,4,ud.bind(null,o,i),c)},useLayoutEffect:function(i,o){return Rt(4194308,4,i,o)},useInsertionEffect:function(i,o){return Rt(4,2,i,o)},useMemo:function(i,o){var c=Yn();return o=o===void 0?null:o,i=i(),c.memoizedState=[i,o],i},useReducer:function(i,o,c){var f=Yn();return o=c!==void 0?c(o):o,f.memoizedState=f.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},f.queue=i,i=i.dispatch=sh.bind(null,Gt,i),[f.memoizedState,i]},useRef:function(i){var o=Yn();return i={current:i},o.memoizedState=i},useState:ao,useDebugValue:yl,useDeferredValue:function(i){return Yn().memoizedState=i},useTransition:function(){var i=ao(!1),o=i[0];return i=Mu.bind(null,i[1]),Yn().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,c){var f=Gt,y=Yn();if(Ut){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),Lr===null)throw Error(t(349));Xn&30||gl(f,o,c)}y.memoizedState=c;var S={value:c,getSnapshot:o};return y.queue=S,rh(ad.bind(null,f,S,i),[i]),f.flags|=2048,qn(9,od.bind(null,f,S,c,o),void 0,null),c},useId:function(){var i=Yn(),o=Lr.identifierPrefix;if(Ut){var c=ai,f=qr;c=(f&~(1<<32-gr(f)-1)).toString(32)+c,o=":"+o+"R"+c,c=Nr++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=Jr++,o=":"+o+"r"+c.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},vp={readContext:Zr,useCallback:zi,useContext:Zr,useEffect:nh,useImperativeHandle:dn,useInsertionEffect:ld,useLayoutEffect:ih,useMemo:vl,useReducer:Ui,useRef:th,useState:function(){return Ui(oo)},useDebugValue:yl,useDeferredValue:function(i){var o=hn();return xs(o,Xt.memoizedState,i)},useTransition:function(){var i=Ui(oo)[0],o=hn().memoizedState;return[i,o]},useMutableSource:Zc,useSyncExternalStore:Ru,useId:Nu,unstable_isNewReconciler:!1},_p={readContext:Zr,useCallback:zi,useContext:Zr,useEffect:nh,useImperativeHandle:dn,useInsertionEffect:ld,useLayoutEffect:ih,useMemo:vl,useReducer:Iu,useRef:th,useState:function(){return Iu(oo)},useDebugValue:yl,useDeferredValue:function(i){var o=hn();return Xt===null?o.memoizedState=i:xs(o,Xt.memoizedState,i)},useTransition:function(){var i=Iu(oo)[0],o=hn().memoizedState;return[i,o]},useMutableSource:Zc,useSyncExternalStore:Ru,useId:Nu,unstable_isNewReconciler:!1};function l(i,o){if(i&&i.defaultProps){o=L({},o),i=i.defaultProps;for(var c in i)o[c]===void 0&&(o[c]=i[c]);return o}return o}function u(i,o,c,f){o=i.memoizedState,c=c(f,o),c=c==null?o:L({},o,c),i.memoizedState=c,i.lanes===0&&(i.updateQueue.baseState=c)}var m={isMounted:function(i){return(i=i._reactInternals)?ri(i)===i:!1},enqueueSetState:function(i,o,c){i=i._reactInternals;var f=fn(),y=la(i),S=zt(f,y);S.payload=o,c!=null&&(S.callback=c),o=ir(i,S,y),o!==null&&(Hi(o,i,y,f),Oi(o,i,y))},enqueueReplaceState:function(i,o,c){i=i._reactInternals;var f=fn(),y=la(i),S=zt(f,y);S.tag=1,S.payload=o,c!=null&&(S.callback=c),o=ir(i,S,y),o!==null&&(Hi(o,i,y,f),Oi(o,i,y))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var c=fn(),f=la(i),y=zt(c,f);y.tag=2,o!=null&&(y.callback=o),o=ir(i,y,f),o!==null&&(Hi(o,i,f,c),Oi(o,i,f))}};function v(i,o,c,f,y,S,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,S,k):o.prototype&&o.prototype.isPureReactComponent?!cs(c,f)||!cs(y,S):!0}function x(i,o,c){var f=!1,y=wn,S=o.contextType;return typeof S=="object"&&S!==null?S=Zr(S):(y=zr(o)?Ni:cr.current,f=o.contextTypes,S=(f=f!=null)?ms(i,y):wn),o=new o(c,S),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=m,i.stateNode=o,o._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=y,i.__reactInternalMemoizedMaskedChildContext=S),o}function A(i,o,c,f){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,f),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,f),o.state!==i&&m.enqueueReplaceState(o,o.state,null)}function D(i,o,c,f){var y=i.stateNode;y.props=c,y.state=i.memoizedState,y.refs={},nr(i);var S=o.contextType;typeof S=="object"&&S!==null?y.context=Zr(S):(S=zr(o)?Ni:cr.current,y.context=ms(i,S)),y.state=i.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(u(i,o,S,c),y.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(o=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),o!==y.state&&m.enqueueReplaceState(y,y.state,null),ys(i,c,y,f),y.state=i.memoizedState),typeof y.componentDidMount=="function"&&(i.flags|=4194308)}function Y(i,o){try{var c="",f=o;do c+=le(f),f=f.return;while(f);var y=c}catch(S){y=`
Error generating stack: `+S.message+`
`+S.stack}return{value:i,source:o,stack:y,digest:null}}function te(i,o,c){return{value:i,source:null,stack:c??null,digest:o??null}}function pe(i,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var ve=typeof WeakMap=="function"?WeakMap:Map;function ke(i,o,c){c=zt(-1,c),c.tag=3,c.payload={element:null};var f=o.value;return c.callback=function(){yd||(yd=!0,Mp=f),pe(i,o)},c}function ge(i,o,c){c=zt(-1,c),c.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var y=o.value;c.payload=function(){return f(y)},c.callback=function(){pe(i,o)}}var S=i.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(c.callback=function(){pe(i,o),typeof f!="function"&&(oa===null?oa=new Set([this]):oa.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),c}function Ce(i,o,c){var f=i.pingCache;if(f===null){f=i.pingCache=new ve;var y=new Set;f.set(o,y)}else y=f.get(o),y===void 0&&(y=new Set,f.set(o,y));y.has(c)||(y.add(c),i=sw.bind(null,i,o,c),o.then(i,i))}function Be(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function ot(i,o,c,f,y){return i.mode&1?(i.flags|=65536,i.lanes=y,i):(i===o?i.flags|=65536:(i.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=zt(-1,1),o.tag=2,ir(c,o,1))),c.lanes|=1),i)}var _e=G.ReactCurrentOwner,Q=!1;function ae(i,o,c,f){o.child=i===null?ul(o,null,c,f):Li(o,i.child,c,f)}function Ee(i,o,c,f,y){c=c.render;var S=o.ref;return no(o,y),f=ml(i,o,c,f,S,y),c=ui(),i!==null&&!Q?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,lo(i,o,y)):(Ut&&c&&Jo(o),o.flags|=1,ae(i,o,f,y),o.child)}function qe(i,o,c,f,y){if(i===null){var S=c.type;return typeof S=="function"&&!Up(S)&&S.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=S,_t(i,o,S,f,y)):(i=bd(c.type,null,f,o,o.mode,y),i.ref=o.ref,i.return=o,o.child=i)}if(S=i.child,!(i.lanes&y)){var k=S.memoizedProps;if(c=c.compare,c=c!==null?c:cs,c(k,f)&&i.ref===o.ref)return lo(i,o,y)}return o.flags|=1,i=ca(S,f),i.ref=o.ref,i.return=o,o.child=i}function _t(i,o,c,f,y){if(i!==null){var S=i.memoizedProps;if(cs(S,f)&&i.ref===o.ref)if(Q=!1,o.pendingProps=f=S,(i.lanes&y)!==0)i.flags&131072&&(Q=!0);else return o.lanes=i.lanes,lo(i,o,y)}return dr(i,o,c,f,y)}function Ge(i,o,c){var f=o.pendingProps,y=f.children,S=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(o.mode&1))o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Et(Ou,Qn),Qn|=c;else{if(!(c&1073741824))return i=S!==null?S.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Et(Ou,Qn),Qn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=S!==null?S.baseLanes:c,Et(Ou,Qn),Qn|=f}else S!==null?(f=S.baseLanes|c,o.memoizedState=null):f=c,Et(Ou,Qn),Qn|=f;return ae(i,o,y,c),o.child}function mt(i,o){var c=o.ref;(i===null&&c!==null||i!==null&&i.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function dr(i,o,c,f,y){var S=zr(c)?Ni:cr.current;return S=ms(o,S),no(o,y),c=ml(i,o,c,f,S,y),f=ui(),i!==null&&!Q?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~y,lo(i,o,y)):(Ut&&f&&Jo(o),o.flags|=1,ae(i,o,c,y),o.child)}function xt(i,o,c,f,y){if(zr(c)){var S=!0;Qo(o)}else S=!1;if(no(o,y),o.stateNode===null)dd(i,o),x(o,c,f),D(o,c,f,y),f=!0;else if(i===null){var k=o.stateNode,$=o.memoizedProps;k.props=$;var W=k.context,oe=c.contextType;typeof oe=="object"&&oe!==null?oe=Zr(oe):(oe=zr(c)?Ni:cr.current,oe=ms(o,oe));var be=c.getDerivedStateFromProps,Ae=typeof be=="function"||typeof k.getSnapshotBeforeUpdate=="function";Ae||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==f||W!==oe)&&A(o,k,f,oe),st=!1;var we=o.memoizedState;k.state=we,ys(o,f,k,y),W=o.memoizedState,$!==f||we!==W||wr.current||st?(typeof be=="function"&&(u(o,c,be,f),W=o.memoizedState),($=st||v(o,c,$,f,we,W,oe))?(Ae||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=f,o.memoizedState=W),k.props=f,k.state=W,k.context=oe,f=$):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),f=!1)}else{k=o.stateNode,Qt(i,o),$=o.memoizedProps,oe=o.type===o.elementType?$:l(o.type,$),k.props=oe,Ae=o.pendingProps,we=k.context,W=c.contextType,typeof W=="object"&&W!==null?W=Zr(W):(W=zr(c)?Ni:cr.current,W=ms(o,W));var Le=c.getDerivedStateFromProps;(be=typeof Le=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||($!==Ae||we!==W)&&A(o,k,f,W),st=!1,we=o.memoizedState,k.state=we,ys(o,f,k,y);var Ue=o.memoizedState;$!==Ae||we!==Ue||wr.current||st?(typeof Le=="function"&&(u(o,c,Le,f),Ue=o.memoizedState),(oe=st||v(o,c,oe,f,we,Ue,W)||!1)?(be||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(f,Ue,W),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(f,Ue,W)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||$===i.memoizedProps&&we===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===i.memoizedProps&&we===i.memoizedState||(o.flags|=1024),o.memoizedProps=f,o.memoizedState=Ue),k.props=f,k.state=Ue,k.context=W,f=oe):(typeof k.componentDidUpdate!="function"||$===i.memoizedProps&&we===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||$===i.memoizedProps&&we===i.memoizedState||(o.flags|=1024),f=!1)}return ci(i,o,c,f,S,y)}function ci(i,o,c,f,y,S){mt(i,o);var k=(o.flags&128)!==0;if(!f&&!k)return y&&Yc(o,c,!1),lo(i,o,S);f=o.stateNode,_e.current=o;var $=k&&typeof c.getDerivedStateFromError!="function"?null:f.render();return o.flags|=1,i!==null&&k?(o.child=Li(o,i.child,null,S),o.child=Li(o,null,$,S)):ae(i,o,$,S),o.memoizedState=f.state,y&&Yc(o,c,!0),o.child}function cd(i){var o=i.stateNode;o.pendingContext?sl(i,o.pendingContext,o.pendingContext!==o.context):o.context&&sl(i,o.context,!1),fl(i,o.containerInfo)}function ky(i,o,c,f,y){return Js(),Rn(y),o.flags|=256,ae(i,o,c,f),o.child}var xp={dehydrated:null,treeContext:null,retryLane:0};function wp(i){return{baseLanes:i,cachePool:null,transitions:null}}function My(i,o,c){var f=o.pendingProps,y=Ft.current,S=!1,k=(o.flags&128)!==0,$;if(($=k)||($=i!==null&&i.memoizedState===null?!1:(y&2)!==0),$?(S=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(y|=1),Et(Ft,y&1),i===null)return Pn(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(o.mode&1?i.data==="$!"?o.lanes=8:o.lanes=1073741824:o.lanes=1,null):(k=f.children,i=f.fallback,S?(f=o.mode,S=o.child,k={mode:"hidden",children:k},!(f&1)&&S!==null?(S.childLanes=0,S.pendingProps=k):S=Ed(k,f,0,null),i=El(i,f,c,null),S.return=o,i.return=o,S.sibling=i,o.child=S,o.child.memoizedState=wp(c),o.memoizedState=xp,i):Sp(o,k));if(y=i.memoizedState,y!==null&&($=y.dehydrated,$!==null))return Xx(i,o,k,f,$,y,c);if(S){S=f.fallback,k=o.mode,y=i.child,$=y.sibling;var W={mode:"hidden",children:f.children};return!(k&1)&&o.child!==y?(f=o.child,f.childLanes=0,f.pendingProps=W,o.deletions=null):(f=ca(y,W),f.subtreeFlags=y.subtreeFlags&14680064),$!==null?S=ca($,S):(S=El(S,k,c,null),S.flags|=2),S.return=o,f.return=o,f.sibling=S,o.child=f,f=S,S=o.child,k=i.child.memoizedState,k=k===null?wp(c):{baseLanes:k.baseLanes|c,cachePool:null,transitions:k.transitions},S.memoizedState=k,S.childLanes=i.childLanes&~c,o.memoizedState=xp,f}return S=i.child,i=S.sibling,f=ca(S,{mode:"visible",children:f.children}),!(o.mode&1)&&(f.lanes=c),f.return=o,f.sibling=null,i!==null&&(c=o.deletions,c===null?(o.deletions=[i],o.flags|=16):c.push(i)),o.child=f,o.memoizedState=null,f}function Sp(i,o){return o=Ed({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function hd(i,o,c,f){return f!==null&&Rn(f),Li(o,i.child,null,c),i=Sp(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Xx(i,o,c,f,y,S,k){if(c)return o.flags&256?(o.flags&=-257,f=te(Error(t(422))),hd(i,o,k,f)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(S=f.fallback,y=o.mode,f=Ed({mode:"visible",children:f.children},y,0,null),S=El(S,y,k,null),S.flags|=2,f.return=o,S.return=o,f.sibling=S,o.child=f,o.mode&1&&Li(o,i.child,null,k),o.child.memoizedState=wp(k),o.memoizedState=xp,S);if(!(o.mode&1))return hd(i,o,k,null);if(y.data==="$!"){if(f=y.nextSibling&&y.nextSibling.dataset,f)var $=f.dgst;return f=$,S=Error(t(419)),f=te(S,f,void 0),hd(i,o,k,f)}if($=(k&i.childLanes)!==0,Q||$){if(f=Lr,f!==null){switch(k&-k){case 4:y=2;break;case 16:y=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:y=32;break;case 536870912:y=268435456;break;default:y=0}y=y&(f.suspendedLanes|k)?0:y,y!==0&&y!==S.retryLane&&(S.retryLane=y,Ct(i,y),Hi(f,i,y,-1))}return Bp(),f=te(Error(t(421))),hd(i,o,k,f)}return y.data==="$?"?(o.flags|=128,o.child=i.child,o=ow.bind(null,i),y._reactRetry=o,null):(i=S.treeContext,Kr=ki(y.nextSibling),Qr=o,Ut=!0,un=null,i!==null&&(It[An++]=qr,It[An++]=ai,It[An++]=Me,qr=i.id,ai=i.overflow,Me=o),o=Sp(o,f.children),o.flags|=4096,o)}function Ny(i,o,c){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o),dl(i.return,o,c)}function bp(i,o,c,f,y){var S=i.memoizedState;S===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:y}:(S.isBackwards=o,S.rendering=null,S.renderingStartTime=0,S.last=f,S.tail=c,S.tailMode=y)}function Ly(i,o,c){var f=o.pendingProps,y=f.revealOrder,S=f.tail;if(ae(i,o,f.children,c),f=Ft.current,f&2)f=f&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ny(i,c,o);else if(i.tag===19)Ny(i,c,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(Et(Ft,f),!(o.mode&1))o.memoizedState=null;else switch(y){case"forwards":for(c=o.child,y=null;c!==null;)i=c.alternate,i!==null&&ra(i)===null&&(y=c),c=c.sibling;c=y,c===null?(y=o.child,o.child=null):(y=c.sibling,c.sibling=null),bp(o,!1,y,c,S);break;case"backwards":for(c=null,y=o.child,o.child=null;y!==null;){if(i=y.alternate,i!==null&&ra(i)===null){o.child=y;break}i=y.sibling,y.sibling=c,c=y,y=i}bp(o,!0,c,null,S);break;case"together":bp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function dd(i,o){!(o.mode&1)&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function lo(i,o,c){if(i!==null&&(o.dependencies=i.dependencies),xl|=o.lanes,!(c&o.childLanes))return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,c=ca(i,i.pendingProps),o.child=c,c.return=o;i.sibling!==null;)i=i.sibling,c=c.sibling=ca(i,i.pendingProps),c.return=o;c.sibling=null}return o.child}function Yx(i,o,c){switch(o.tag){case 3:cd(o),Js();break;case 5:so(o);break;case 1:zr(o.type)&&Qo(o);break;case 4:fl(o,o.stateNode.containerInfo);break;case 10:var f=o.type._context,y=o.memoizedProps.value;Et(eo,f._currentValue),f._currentValue=y;break;case 13:if(f=o.memoizedState,f!==null)return f.dehydrated!==null?(Et(Ft,Ft.current&1),o.flags|=128,null):c&o.child.childLanes?My(i,o,c):(Et(Ft,Ft.current&1),i=lo(i,o,c),i!==null?i.sibling:null);Et(Ft,Ft.current&1);break;case 19:if(f=(c&o.childLanes)!==0,i.flags&128){if(f)return Ly(i,o,c);o.flags|=128}if(y=o.memoizedState,y!==null&&(y.rendering=null,y.tail=null,y.lastEffect=null),Et(Ft,Ft.current),f)break;return null;case 22:case 23:return o.lanes=0,Ge(i,o,c)}return lo(i,o,c)}var Fy,Ep,Oy,Dy;Fy=function(i,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)i.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ep=function(){},Oy=function(i,o,c,f){var y=i.memoizedProps;if(y!==f){i=o.stateNode,Bi(kn.current);var S=null;switch(c){case"input":y=dt(i,y),f=dt(i,f),S=[];break;case"select":y=L({},y,{value:void 0}),f=L({},f,{value:void 0}),S=[];break;case"textarea":y=Ta(i,y),f=Ta(i,f),S=[];break;default:typeof y.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=nl)}se(c,f);var k;c=null;for(oe in y)if(!f.hasOwnProperty(oe)&&y.hasOwnProperty(oe)&&y[oe]!=null)if(oe==="style"){var $=y[oe];for(k in $)$.hasOwnProperty(k)&&(c||(c={}),c[k]="")}else oe!=="dangerouslySetInnerHTML"&&oe!=="children"&&oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&oe!=="autoFocus"&&(s.hasOwnProperty(oe)?S||(S=[]):(S=S||[]).push(oe,null));for(oe in f){var W=f[oe];if($=y!=null?y[oe]:void 0,f.hasOwnProperty(oe)&&W!==$&&(W!=null||$!=null))if(oe==="style")if($){for(k in $)!$.hasOwnProperty(k)||W&&W.hasOwnProperty(k)||(c||(c={}),c[k]="");for(k in W)W.hasOwnProperty(k)&&$[k]!==W[k]&&(c||(c={}),c[k]=W[k])}else c||(S||(S=[]),S.push(oe,c)),c=W;else oe==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,$=$?$.__html:void 0,W!=null&&$!==W&&(S=S||[]).push(oe,W)):oe==="children"?typeof W!="string"&&typeof W!="number"||(S=S||[]).push(oe,""+W):oe!=="suppressContentEditableWarning"&&oe!=="suppressHydrationWarning"&&(s.hasOwnProperty(oe)?(W!=null&&oe==="onScroll"&&Nt("scroll",i),S||$===W||(S=[])):(S=S||[]).push(oe,W))}c&&(S=S||[]).push("style",c);var oe=S;(o.updateQueue=oe)&&(o.flags|=4)}},Dy=function(i,o,c,f){c!==f&&(o.flags|=4)};function uh(i,o){if(!Ut)switch(i.tailMode){case"hidden":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?i.tail=null:c.sibling=null;break;case"collapsed":c=i.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function en(i){var o=i.alternate!==null&&i.alternate.child===i.child,c=0,f=0;if(o)for(var y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags&14680064,f|=y.flags&14680064,y.return=i,y=y.sibling;else for(y=i.child;y!==null;)c|=y.lanes|y.childLanes,f|=y.subtreeFlags,f|=y.flags,y.return=i,y=y.sibling;return i.subtreeFlags|=f,i.childLanes=c,o}function qx(i,o,c){var f=o.pendingProps;switch(ol(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return en(o),null;case 1:return zr(o.type)&&qo(),en(o),null;case 3:return f=o.stateNode,cn(),Lt(wr),Lt(cr),na(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(al(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,un!==null&&(Fp(un),un=null))),Ep(i,o),en(o),null;case 5:Pu(o);var y=Bi(Sr.current);if(c=o.type,i!==null&&o.stateNode!=null)Oy(i,o,c,f,y),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!f){if(o.stateNode===null)throw Error(t(166));return en(o),null}if(i=Bi(kn.current),al(o)){f=o.stateNode,c=o.type;var S=o.memoizedProps;switch(f[Vn]=o,f[il]=S,i=(o.mode&1)!==0,c){case"dialog":Nt("cancel",f),Nt("close",f);break;case"iframe":case"object":case"embed":Nt("load",f);break;case"video":case"audio":for(y=0;y<ds.length;y++)Nt(ds[y],f);break;case"source":Nt("error",f);break;case"img":case"image":case"link":Nt("error",f),Nt("load",f);break;case"details":Nt("toggle",f);break;case"input":Ve(f,S),Nt("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!S.multiple},Nt("invalid",f);break;case"textarea":Vl(f,S),Nt("invalid",f)}se(c,S),y=null;for(var k in S)if(S.hasOwnProperty(k)){var $=S[k];k==="children"?typeof $=="string"?f.textContent!==$&&(S.suppressHydrationWarning!==!0&&rl(f.textContent,$,i),y=["children",$]):typeof $=="number"&&f.textContent!==""+$&&(S.suppressHydrationWarning!==!0&&rl(f.textContent,$,i),y=["children",""+$]):s.hasOwnProperty(k)&&$!=null&&k==="onScroll"&&Nt("scroll",f)}switch(c){case"input":Pe(f),Yt(f,S,!0);break;case"textarea":Pe(f),Wl(f);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(f.onclick=nl)}f=y,o.updateQueue=f,f!==null&&(o.flags|=4)}else{k=y.nodeType===9?y:y.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Aa(c)),i==="http://www.w3.org/1999/xhtml"?c==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=k.createElement(c,{is:f.is}):(i=k.createElement(c),c==="select"&&(k=i,f.multiple?k.multiple=!0:f.size&&(k.size=f.size))):i=k.createElementNS(i,c),i[Vn]=o,i[il]=f,Fy(i,o,!1,!1),o.stateNode=i;e:{switch(k=lt(c,f),c){case"dialog":Nt("cancel",i),Nt("close",i),y=f;break;case"iframe":case"object":case"embed":Nt("load",i),y=f;break;case"video":case"audio":for(y=0;y<ds.length;y++)Nt(ds[y],i);y=f;break;case"source":Nt("error",i),y=f;break;case"img":case"image":case"link":Nt("error",i),Nt("load",i),y=f;break;case"details":Nt("toggle",i),y=f;break;case"input":Ve(i,f),y=dt(i,f),Nt("invalid",i);break;case"option":y=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},y=L({},f,{value:void 0}),Nt("invalid",i);break;case"textarea":Vl(i,f),y=Ta(i,f),Nt("invalid",i);break;default:y=f}se(c,y),$=y;for(S in $)if($.hasOwnProperty(S)){var W=$[S];S==="style"?Ls(i,W):S==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&wo(i,W)):S==="children"?typeof W=="string"?(c!=="textarea"||W!=="")&&es(i,W):typeof W=="number"&&es(i,""+W):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(s.hasOwnProperty(S)?W!=null&&S==="onScroll"&&Nt("scroll",i):W!=null&&N(i,S,W,k))}switch(c){case"input":Pe(i),Yt(i,f,!1);break;case"textarea":Pe(i),Wl(i);break;case"option":f.value!=null&&i.setAttribute("value",""+me(f.value));break;case"select":i.multiple=!!f.multiple,S=f.value,S!=null?rn(i,!!f.multiple,S,!1):f.defaultValue!=null&&rn(i,!!f.multiple,f.defaultValue,!0);break;default:typeof y.onClick=="function"&&(i.onclick=nl)}switch(c){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}}f&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return en(o),null;case 6:if(i&&o.stateNode!=null)Dy(i,o,i.memoizedProps,f);else{if(typeof f!="string"&&o.stateNode===null)throw Error(t(166));if(c=Bi(Sr.current),Bi(kn.current),al(o)){if(f=o.stateNode,c=o.memoizedProps,f[Vn]=o,(S=f.nodeValue!==c)&&(i=Qr,i!==null))switch(i.tag){case 3:rl(f.nodeValue,c,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&rl(f.nodeValue,c,(i.mode&1)!==0)}S&&(o.flags|=4)}else f=(c.nodeType===9?c:c.ownerDocument).createTextNode(f),f[Vn]=o,o.stateNode=f}return en(o),null;case 13:if(Lt(Ft),f=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ut&&Kr!==null&&o.mode&1&&!(o.flags&128))In(),Js(),o.flags|=98560,S=!1;else if(S=al(o),f!==null&&f.dehydrated!==null){if(i===null){if(!S)throw Error(t(318));if(S=o.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[Vn]=o}else Js(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;en(o),S=!1}else un!==null&&(Fp(un),un=null),S=!0;if(!S)return o.flags&65536?o:null}return o.flags&128?(o.lanes=c,o):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(o.child.flags|=8192,o.mode&1&&(i===null||Ft.current&1?Er===0&&(Er=3):Bp())),o.updateQueue!==null&&(o.flags|=4),en(o),null);case 4:return cn(),Ep(i,o),i===null&&jo(o.stateNode.containerInfo),en(o),null;case 10:return hl(o.type._context),en(o),null;case 17:return zr(o.type)&&qo(),en(o),null;case 19:if(Lt(Ft),S=o.memoizedState,S===null)return en(o),null;if(f=(o.flags&128)!==0,k=S.rendering,k===null)if(f)uh(S,!1);else{if(Er!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(k=ra(i),k!==null){for(o.flags|=128,uh(S,!1),f=k.updateQueue,f!==null&&(o.updateQueue=f,o.flags|=4),o.subtreeFlags=0,f=c,c=o.child;c!==null;)S=c,i=f,S.flags&=14680066,k=S.alternate,k===null?(S.childLanes=0,S.lanes=i,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=k.childLanes,S.lanes=k.lanes,S.child=k.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=k.memoizedProps,S.memoizedState=k.memoizedState,S.updateQueue=k.updateQueue,S.type=k.type,i=k.dependencies,S.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),c=c.sibling;return Et(Ft,Ft.current&1|2),o.child}i=i.sibling}S.tail!==null&&qt()>Du&&(o.flags|=128,f=!0,uh(S,!1),o.lanes=4194304)}else{if(!f)if(i=ra(k),i!==null){if(o.flags|=128,f=!0,c=i.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),uh(S,!0),S.tail===null&&S.tailMode==="hidden"&&!k.alternate&&!Ut)return en(o),null}else 2*qt()-S.renderingStartTime>Du&&c!==1073741824&&(o.flags|=128,f=!0,uh(S,!1),o.lanes=4194304);S.isBackwards?(k.sibling=o.child,o.child=k):(c=S.last,c!==null?c.sibling=k:o.child=k,S.last=k)}return S.tail!==null?(o=S.tail,S.rendering=o,S.tail=o.sibling,S.renderingStartTime=qt(),o.sibling=null,c=Ft.current,Et(Ft,f?c&1|2:c&1),o):(en(o),null);case 22:case 23:return Dp(),f=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(o.flags|=8192),f&&o.mode&1?Qn&1073741824&&(en(o),o.subtreeFlags&6&&(o.flags|=8192)):en(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function Qx(i,o){switch(ol(o),o.tag){case 1:return zr(o.type)&&qo(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return cn(),Lt(wr),Lt(cr),na(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 5:return Pu(o),null;case 13:if(Lt(Ft),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Js()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Lt(Ft),null;case 4:return cn(),null;case 10:return hl(o.type._context),null;case 22:case 23:return Dp(),null;case 24:return null;default:return null}}var fd=!1,tn=!1,Kx=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function Fu(i,o){var c=i.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(f){or(i,o,f)}else c.current=null}function Tp(i,o,c){try{c()}catch(f){or(i,o,f)}}var By=!1;function Zx(i,o){if(Vo=sn,i=ur(),er(i)){if("selectionStart"in i)var c={start:i.selectionStart,end:i.selectionEnd};else e:{c=(c=i.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var y=f.anchorOffset,S=f.focusNode;f=f.focusOffset;try{c.nodeType,S.nodeType}catch{c=null;break e}var k=0,$=-1,W=-1,oe=0,be=0,Ae=i,we=null;t:for(;;){for(var Le;Ae!==c||y!==0&&Ae.nodeType!==3||($=k+y),Ae!==S||f!==0&&Ae.nodeType!==3||(W=k+f),Ae.nodeType===3&&(k+=Ae.nodeValue.length),(Le=Ae.firstChild)!==null;)we=Ae,Ae=Le;for(;;){if(Ae===i)break t;if(we===c&&++oe===y&&($=k),we===S&&++be===f&&(W=k),(Le=Ae.nextSibling)!==null)break;Ae=we,we=Ae.parentNode}Ae=Le}c=$===-1||W===-1?null:{start:$,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(jc={focusedElem:i,selectionRange:c},sn=!1,Oe=o;Oe!==null;)if(o=Oe,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Oe=i;else for(;Oe!==null;){o=Oe;try{var Ue=o.alternate;if(o.flags&1024)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ue!==null){var $e=Ue.memoizedProps,fr=Ue.memoizedState,J=o.stateNode,q=J.getSnapshotBeforeUpdate(o.elementType===o.type?$e:l(o.type,$e),fr);J.__reactInternalSnapshotBeforeUpdate=q}break;case 3:var ne=o.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ie){or(o,o.return,Ie)}if(i=o.sibling,i!==null){i.return=o.return,Oe=i;break}Oe=o.return}return Ue=By,By=!1,Ue}function ch(i,o,c){var f=o.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var y=f=f.next;do{if((y.tag&i)===i){var S=y.destroy;y.destroy=void 0,S!==void 0&&Tp(o,c,S)}y=y.next}while(y!==f)}}function pd(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&i)===i){var f=c.create;c.destroy=f()}c=c.next}while(c!==o)}}function Ap(i){var o=i.ref;if(o!==null){var c=i.stateNode;switch(i.tag){case 5:i=c;break;default:i=c}typeof o=="function"?o(i):o.current=i}}function Uy(i){var o=i.alternate;o!==null&&(i.alternate=null,Uy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Vn],delete o[il],delete o[kr],delete o[nd],delete o[id])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function zy(i){return i.tag===5||i.tag===3||i.tag===4}function Gy(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||zy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Cp(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(i,o):c.insertBefore(i,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(i,c)):(o=c,o.appendChild(i)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=nl));else if(f!==4&&(i=i.child,i!==null))for(Cp(i,o,c),i=i.sibling;i!==null;)Cp(i,o,c),i=i.sibling}function Pp(i,o,c){var f=i.tag;if(f===5||f===6)i=i.stateNode,o?c.insertBefore(i,o):c.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(Pp(i,o,c),i=i.sibling;i!==null;)Pp(i,o,c),i=i.sibling}var Gr=null,Gi=!1;function sa(i,o,c){for(c=c.child;c!==null;)jy(i,o,c),c=c.sibling}function jy(i,o,c){if(ft&&typeof ft.onCommitFiberUnmount=="function")try{ft.onCommitFiberUnmount(Gn,c)}catch{}switch(c.tag){case 5:tn||Fu(c,o);case 6:var f=Gr,y=Gi;Gr=null,sa(i,o,c),Gr=f,Gi=y,Gr!==null&&(Gi?(i=Gr,c=c.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)):Gr.removeChild(c.stateNode));break;case 18:Gr!==null&&(Gi?(i=Gr,c=c.stateNode,i.nodeType===8?Su(i.parentNode,c):i.nodeType===1&&Su(i,c),Hs(i)):Su(Gr,c.stateNode));break;case 4:f=Gr,y=Gi,Gr=c.stateNode.containerInfo,Gi=!0,sa(i,o,c),Gr=f,Gi=y;break;case 0:case 11:case 14:case 15:if(!tn&&(f=c.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){y=f=f.next;do{var S=y,k=S.destroy;S=S.tag,k!==void 0&&(S&2||S&4)&&Tp(c,o,k),y=y.next}while(y!==f)}sa(i,o,c);break;case 1:if(!tn&&(Fu(c,o),f=c.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=c.memoizedProps,f.state=c.memoizedState,f.componentWillUnmount()}catch($){or(c,o,$)}sa(i,o,c);break;case 21:sa(i,o,c);break;case 22:c.mode&1?(tn=(f=tn)||c.memoizedState!==null,sa(i,o,c),tn=f):sa(i,o,c);break;default:sa(i,o,c)}}function Hy(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var c=i.stateNode;c===null&&(c=i.stateNode=new Kx),o.forEach(function(f){var y=aw.bind(null,i,f);c.has(f)||(c.add(f),f.then(y,y))})}}function ji(i,o){var c=o.deletions;if(c!==null)for(var f=0;f<c.length;f++){var y=c[f];try{var S=i,k=o,$=k;e:for(;$!==null;){switch($.tag){case 5:Gr=$.stateNode,Gi=!1;break e;case 3:Gr=$.stateNode.containerInfo,Gi=!0;break e;case 4:Gr=$.stateNode.containerInfo,Gi=!0;break e}$=$.return}if(Gr===null)throw Error(t(160));jy(S,k,y),Gr=null,Gi=!1;var W=y.alternate;W!==null&&(W.return=null),y.return=null}catch(oe){or(y,o,oe)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)$y(o,i),o=o.sibling}function $y(i,o){var c=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ji(o,i),ws(i),f&4){try{ch(3,i,i.return),pd(3,i)}catch($e){or(i,i.return,$e)}try{ch(5,i,i.return)}catch($e){or(i,i.return,$e)}}break;case 1:ji(o,i),ws(i),f&512&&c!==null&&Fu(c,c.return);break;case 5:if(ji(o,i),ws(i),f&512&&c!==null&&Fu(c,c.return),i.flags&32){var y=i.stateNode;try{es(y,"")}catch($e){or(i,i.return,$e)}}if(f&4&&(y=i.stateNode,y!=null)){var S=i.memoizedProps,k=c!==null?c.memoizedProps:S,$=i.type,W=i.updateQueue;if(i.updateQueue=null,W!==null)try{$==="input"&&S.type==="radio"&&S.name!=null&&We(y,S),lt($,k);var oe=lt($,S);for(k=0;k<W.length;k+=2){var be=W[k],Ae=W[k+1];be==="style"?Ls(y,Ae):be==="dangerouslySetInnerHTML"?wo(y,Ae):be==="children"?es(y,Ae):N(y,be,Ae,oe)}switch($){case"input":Ot(y,S);break;case"textarea":Ji(y,S);break;case"select":var we=y._wrapperState.wasMultiple;y._wrapperState.wasMultiple=!!S.multiple;var Le=S.value;Le!=null?rn(y,!!S.multiple,Le,!1):we!==!!S.multiple&&(S.defaultValue!=null?rn(y,!!S.multiple,S.defaultValue,!0):rn(y,!!S.multiple,S.multiple?[]:"",!1))}y[il]=S}catch($e){or(i,i.return,$e)}}break;case 6:if(ji(o,i),ws(i),f&4){if(i.stateNode===null)throw Error(t(162));y=i.stateNode,S=i.memoizedProps;try{y.nodeValue=S}catch($e){or(i,i.return,$e)}}break;case 3:if(ji(o,i),ws(i),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Hs(o.containerInfo)}catch($e){or(i,i.return,$e)}break;case 4:ji(o,i),ws(i);break;case 13:ji(o,i),ws(i),y=i.child,y.flags&8192&&(S=y.memoizedState!==null,y.stateNode.isHidden=S,!S||y.alternate!==null&&y.alternate.memoizedState!==null||(kp=qt())),f&4&&Hy(i);break;case 22:if(be=c!==null&&c.memoizedState!==null,i.mode&1?(tn=(oe=tn)||be,ji(o,i),tn=oe):ji(o,i),ws(i),f&8192){if(oe=i.memoizedState!==null,(i.stateNode.isHidden=oe)&&!be&&i.mode&1)for(Oe=i,be=i.child;be!==null;){for(Ae=Oe=be;Oe!==null;){switch(we=Oe,Le=we.child,we.tag){case 0:case 11:case 14:case 15:ch(4,we,we.return);break;case 1:Fu(we,we.return);var Ue=we.stateNode;if(typeof Ue.componentWillUnmount=="function"){f=we,c=we.return;try{o=f,Ue.props=o.memoizedProps,Ue.state=o.memoizedState,Ue.componentWillUnmount()}catch($e){or(f,c,$e)}}break;case 5:Fu(we,we.return);break;case 22:if(we.memoizedState!==null){Xy(Ae);continue}}Le!==null?(Le.return=we,Oe=Le):Xy(Ae)}be=be.sibling}e:for(be=null,Ae=i;;){if(Ae.tag===5){if(be===null){be=Ae;try{y=Ae.stateNode,oe?(S=y.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):($=Ae.stateNode,W=Ae.memoizedProps.style,k=W!=null&&W.hasOwnProperty("display")?W.display:null,$.style.display=So("display",k))}catch($e){or(i,i.return,$e)}}}else if(Ae.tag===6){if(be===null)try{Ae.stateNode.nodeValue=oe?"":Ae.memoizedProps}catch($e){or(i,i.return,$e)}}else if((Ae.tag!==22&&Ae.tag!==23||Ae.memoizedState===null||Ae===i)&&Ae.child!==null){Ae.child.return=Ae,Ae=Ae.child;continue}if(Ae===i)break e;for(;Ae.sibling===null;){if(Ae.return===null||Ae.return===i)break e;be===Ae&&(be=null),Ae=Ae.return}be===Ae&&(be=null),Ae.sibling.return=Ae.return,Ae=Ae.sibling}}break;case 19:ji(o,i),ws(i),f&4&&Hy(i);break;case 21:break;default:ji(o,i),ws(i)}}function ws(i){var o=i.flags;if(o&2){try{e:{for(var c=i.return;c!==null;){if(zy(c)){var f=c;break e}c=c.return}throw Error(t(160))}switch(f.tag){case 5:var y=f.stateNode;f.flags&32&&(es(y,""),f.flags&=-33);var S=Gy(i);Pp(i,S,y);break;case 3:case 4:var k=f.stateNode.containerInfo,$=Gy(i);Cp(i,$,k);break;default:throw Error(t(161))}}catch(W){or(i,i.return,W)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Jx(i,o,c){Oe=i,Vy(i)}function Vy(i,o,c){for(var f=(i.mode&1)!==0;Oe!==null;){var y=Oe,S=y.child;if(y.tag===22&&f){var k=y.memoizedState!==null||fd;if(!k){var $=y.alternate,W=$!==null&&$.memoizedState!==null||tn;$=fd;var oe=tn;if(fd=k,(tn=W)&&!oe)for(Oe=y;Oe!==null;)k=Oe,W=k.child,k.tag===22&&k.memoizedState!==null?Yy(y):W!==null?(W.return=k,Oe=W):Yy(y);for(;S!==null;)Oe=S,Vy(S),S=S.sibling;Oe=y,fd=$,tn=oe}Wy(i)}else y.subtreeFlags&8772&&S!==null?(S.return=y,Oe=S):Wy(i)}}function Wy(i){for(;Oe!==null;){var o=Oe;if(o.flags&8772){var c=o.alternate;try{if(o.flags&8772)switch(o.tag){case 0:case 11:case 15:tn||pd(5,o);break;case 1:var f=o.stateNode;if(o.flags&4&&!tn)if(c===null)f.componentDidMount();else{var y=o.elementType===o.type?c.memoizedProps:l(o.type,c.memoizedProps);f.componentDidUpdate(y,c.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var S=o.updateQueue;S!==null&&vs(o,S,f);break;case 3:var k=o.updateQueue;if(k!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}vs(o,k,c)}break;case 5:var $=o.stateNode;if(c===null&&o.flags&4){c=$;var W=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&c.focus();break;case"img":W.src&&(c.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var oe=o.alternate;if(oe!==null){var be=oe.memoizedState;if(be!==null){var Ae=be.dehydrated;Ae!==null&&Hs(Ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}tn||o.flags&512&&Ap(o)}catch(we){or(o,o.return,we)}}if(o===i){Oe=null;break}if(c=o.sibling,c!==null){c.return=o.return,Oe=c;break}Oe=o.return}}function Xy(i){for(;Oe!==null;){var o=Oe;if(o===i){Oe=null;break}var c=o.sibling;if(c!==null){c.return=o.return,Oe=c;break}Oe=o.return}}function Yy(i){for(;Oe!==null;){var o=Oe;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{pd(4,o)}catch(W){or(o,c,W)}break;case 1:var f=o.stateNode;if(typeof f.componentDidMount=="function"){var y=o.return;try{f.componentDidMount()}catch(W){or(o,y,W)}}var S=o.return;try{Ap(o)}catch(W){or(o,S,W)}break;case 5:var k=o.return;try{Ap(o)}catch(W){or(o,k,W)}}}catch(W){or(o,o.return,W)}if(o===i){Oe=null;break}var $=o.sibling;if($!==null){$.return=o.return,Oe=$;break}Oe=o.return}}var ew=Math.ceil,md=G.ReactCurrentDispatcher,Ip=G.ReactCurrentOwner,hi=G.ReactCurrentBatchConfig,wt=0,Lr=null,yr=null,jr=0,Qn=0,Ou=Mi(0),Er=0,hh=null,xl=0,gd=0,Rp=0,dh=null,Nn=null,kp=0,Du=1/0,uo=null,yd=!1,Mp=null,oa=null,vd=!1,aa=null,_d=0,fh=0,Np=null,xd=-1,wd=0;function fn(){return wt&6?qt():xd!==-1?xd:xd=qt()}function la(i){return i.mode&1?wt&2&&jr!==0?jr&-jr:gp.transition!==null?(wd===0&&(wd=gn()),wd):(i=pt,i!==0||(i=window.event,i=i===void 0?16:on(i.type)),i):1}function Hi(i,o,c,f){if(50<fh)throw fh=0,Np=null,Error(t(185));La(i,c,f),(!(wt&2)||i!==Lr)&&(i===Lr&&(!(wt&2)&&(gd|=c),Er===4&&ua(i,jr)),Ln(i,f),c===1&&wt===0&&!(o.mode&1)&&(Du=qt()+500,bn&&Tn()))}function Ln(i,o){var c=i.callbackNode;Zl(i,o);var f=Na(i,i===Lr?jr:0);if(f===0)c!==null&&$h(c),i.callbackNode=null,i.callbackPriority=0;else if(o=f&-f,i.callbackPriority!==o){if(c!=null&&$h(c),o===1)i.tag===0?sd(Qy.bind(null,i)):qc(Qy.bind(null,i)),Vc(function(){!(wt&6)&&Tn()}),c=null;else{switch(Oa(f)){case 1:c=Ma;break;case 4:c=Ql;break;case 16:c=Kl;break;case 536870912:c=zs;break;default:c=Kl}c=i0(c,qy.bind(null,i))}i.callbackPriority=o,i.callbackNode=c}}function qy(i,o){if(xd=-1,wd=0,wt&6)throw Error(t(327));var c=i.callbackNode;if(Bu()&&i.callbackNode!==c)return null;var f=Na(i,i===Lr?jr:0);if(f===0)return null;if(f&30||f&i.expiredLanes||o)o=Sd(i,f);else{o=f;var y=wt;wt|=2;var S=Zy();(Lr!==i||jr!==o)&&(uo=null,Du=qt()+500,Sl(i,o));do try{nw();break}catch($){Ky(i,$)}while(!0);cl(),md.current=S,wt=y,yr!==null?o=0:(Lr=null,jr=0,o=Er)}if(o!==0){if(o===2&&(y=Jl(i),y!==0&&(f=y,o=Lp(i,y))),o===1)throw c=hh,Sl(i,0),ua(i,f),Ln(i,qt()),c;if(o===6)ua(i,f);else{if(y=i.current.alternate,!(f&30)&&!tw(y)&&(o=Sd(i,f),o===2&&(S=Jl(i),S!==0&&(f=S,o=Lp(i,S))),o===1))throw c=hh,Sl(i,0),ua(i,f),Ln(i,qt()),c;switch(i.finishedWork=y,i.finishedLanes=f,o){case 0:case 1:throw Error(t(345));case 2:bl(i,Nn,uo);break;case 3:if(ua(i,f),(f&130023424)===f&&(o=kp+500-qt(),10<o)){if(Na(i,0)!==0)break;if(y=i.suspendedLanes,(y&f)!==f){fn(),i.pingedLanes|=i.suspendedLanes&y;break}i.timeoutHandle=$c(bl.bind(null,i,Nn,uo),o);break}bl(i,Nn,uo);break;case 4:if(ua(i,f),(f&4194240)===f)break;for(o=i.eventTimes,y=-1;0<f;){var k=31-gr(f);S=1<<k,k=o[k],k>y&&(y=k),f&=~S}if(f=y,f=qt()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*ew(f/1960))-f,10<f){i.timeoutHandle=$c(bl.bind(null,i,Nn,uo),f);break}bl(i,Nn,uo);break;case 5:bl(i,Nn,uo);break;default:throw Error(t(329))}}}return Ln(i,qt()),i.callbackNode===c?qy.bind(null,i):null}function Lp(i,o){var c=dh;return i.current.memoizedState.isDehydrated&&(Sl(i,o).flags|=256),i=Sd(i,o),i!==2&&(o=Nn,Nn=c,o!==null&&Fp(o)),i}function Fp(i){Nn===null?Nn=i:Nn.push.apply(Nn,i)}function tw(i){for(var o=i;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var f=0;f<c.length;f++){var y=c[f],S=y.getSnapshot;y=y.value;try{if(!ln(S(),y))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ua(i,o){for(o&=~Rp,o&=~gd,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var c=31-gr(o),f=1<<c;i[c]=-1,o&=~f}}function Qy(i){if(wt&6)throw Error(t(327));Bu();var o=Na(i,0);if(!(o&1))return Ln(i,qt()),null;var c=Sd(i,o);if(i.tag!==0&&c===2){var f=Jl(i);f!==0&&(o=f,c=Lp(i,f))}if(c===1)throw c=hh,Sl(i,0),ua(i,o),Ln(i,qt()),c;if(c===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,bl(i,Nn,uo),Ln(i,qt()),null}function Op(i,o){var c=wt;wt|=1;try{return i(o)}finally{wt=c,wt===0&&(Du=qt()+500,bn&&Tn())}}function wl(i){aa!==null&&aa.tag===0&&!(wt&6)&&Bu();var o=wt;wt|=1;var c=hi.transition,f=pt;try{if(hi.transition=null,pt=1,i)return i()}finally{pt=f,hi.transition=c,wt=o,!(wt&6)&&Tn()}}function Dp(){Qn=Ou.current,Lt(Ou)}function Sl(i,o){i.finishedWork=null,i.finishedLanes=0;var c=i.timeoutHandle;if(c!==-1&&(i.timeoutHandle=-1,Wo(c)),yr!==null)for(c=yr.return;c!==null;){var f=c;switch(ol(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&qo();break;case 3:cn(),Lt(wr),Lt(cr),na();break;case 5:Pu(f);break;case 4:cn();break;case 13:Lt(Ft);break;case 19:Lt(Ft);break;case 10:hl(f.type._context);break;case 22:case 23:Dp()}c=c.return}if(Lr=i,yr=i=ca(i.current,null),jr=Qn=o,Er=0,hh=null,Rp=gd=xl=0,Nn=dh=null,io!==null){for(o=0;o<io.length;o++)if(c=io[o],f=c.interleaved,f!==null){c.interleaved=null;var y=f.next,S=c.pending;if(S!==null){var k=S.next;S.next=y,f.next=k}c.pending=f}io=null}return i}function Ky(i,o){do{var c=yr;try{if(cl(),Wn.current=_l,hr){for(var f=Gt.memoizedState;f!==null;){var y=f.queue;y!==null&&(y.pending=null),f=f.next}hr=!1}if(Xn=0,Kt=Xt=Gt=null,Mn=!1,Nr=0,Ip.current=null,c===null||c.return===null){Er=1,hh=o,yr=null;break}e:{var S=i,k=c.return,$=c,W=o;if(o=jr,$.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var oe=W,be=$,Ae=be.tag;if(!(be.mode&1)&&(Ae===0||Ae===11||Ae===15)){var we=be.alternate;we?(be.updateQueue=we.updateQueue,be.memoizedState=we.memoizedState,be.lanes=we.lanes):(be.updateQueue=null,be.memoizedState=null)}var Le=Be(k);if(Le!==null){Le.flags&=-257,ot(Le,k,$,S,o),Le.mode&1&&Ce(S,oe,o),o=Le,W=oe;var Ue=o.updateQueue;if(Ue===null){var $e=new Set;$e.add(W),o.updateQueue=$e}else Ue.add(W);break e}else{if(!(o&1)){Ce(S,oe,o),Bp();break e}W=Error(t(426))}}else if(Ut&&$.mode&1){var fr=Be(k);if(fr!==null){!(fr.flags&65536)&&(fr.flags|=256),ot(fr,k,$,S,o),Rn(Y(W,$));break e}}S=W=Y(W,$),Er!==4&&(Er=2),dh===null?dh=[S]:dh.push(S),S=k;do{switch(S.tag){case 3:S.flags|=65536,o&=-o,S.lanes|=o;var J=ke(S,W,o);sr(S,J);break e;case 1:$=W;var q=S.type,ne=S.stateNode;if(!(S.flags&128)&&(typeof q.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(oa===null||!oa.has(ne)))){S.flags|=65536,o&=-o,S.lanes|=o;var Ie=ge(S,$,o);sr(S,Ie);break e}}S=S.return}while(S!==null)}e0(c)}catch(Xe){o=Xe,yr===c&&c!==null&&(yr=c=c.return);continue}break}while(!0)}function Zy(){var i=md.current;return md.current=_l,i===null?_l:i}function Bp(){(Er===0||Er===3||Er===2)&&(Er=4),Lr===null||!(xl&268435455)&&!(gd&268435455)||ua(Lr,jr)}function Sd(i,o){var c=wt;wt|=2;var f=Zy();(Lr!==i||jr!==o)&&(uo=null,Sl(i,o));do try{rw();break}catch(y){Ky(i,y)}while(!0);if(cl(),wt=c,md.current=f,yr!==null)throw Error(t(261));return Lr=null,jr=0,Er}function rw(){for(;yr!==null;)Jy(yr)}function nw(){for(;yr!==null&&!lp();)Jy(yr)}function Jy(i){var o=n0(i.alternate,i,Qn);i.memoizedProps=i.pendingProps,o===null?e0(i):yr=o,Ip.current=null}function e0(i){var o=i;do{var c=o.alternate;if(i=o.return,o.flags&32768){if(c=Qx(c,o),c!==null){c.flags&=32767,yr=c;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Er=6,yr=null;return}}else if(c=qx(c,o,Qn),c!==null){yr=c;return}if(o=o.sibling,o!==null){yr=o;return}yr=o=i}while(o!==null);Er===0&&(Er=5)}function bl(i,o,c){var f=pt,y=hi.transition;try{hi.transition=null,pt=1,iw(i,o,c,f)}finally{hi.transition=y,pt=f}return null}function iw(i,o,c,f){do Bu();while(aa!==null);if(wt&6)throw Error(t(327));c=i.finishedWork;var y=i.finishedLanes;if(c===null)return null;if(i.finishedWork=null,i.finishedLanes=0,c===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var S=c.lanes|c.childLanes;if(_c(i,S),i===Lr&&(yr=Lr=null,jr=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||vd||(vd=!0,i0(Kl,function(){return Bu(),null})),S=(c.flags&15990)!==0,c.subtreeFlags&15990||S){S=hi.transition,hi.transition=null;var k=pt;pt=1;var $=wt;wt|=4,Ip.current=null,Zx(i,c),$y(c,i),hu(jc),sn=!!Vo,jc=Vo=null,i.current=c,Jx(c),up(),wt=$,pt=k,hi.transition=S}else i.current=c;if(vd&&(vd=!1,aa=i,_d=y),S=i.pendingLanes,S===0&&(oa=null),kt(c.stateNode),Ln(i,qt()),o!==null)for(f=i.onRecoverableError,c=0;c<o.length;c++)y=o[c],f(y.value,{componentStack:y.stack,digest:y.digest});if(yd)throw yd=!1,i=Mp,Mp=null,i;return _d&1&&i.tag!==0&&Bu(),S=i.pendingLanes,S&1?i===Np?fh++:(fh=0,Np=i):fh=0,Tn(),null}function Bu(){if(aa!==null){var i=Oa(_d),o=hi.transition,c=pt;try{if(hi.transition=null,pt=16>i?16:i,aa===null)var f=!1;else{if(i=aa,aa=null,_d=0,wt&6)throw Error(t(331));var y=wt;for(wt|=4,Oe=i.current;Oe!==null;){var S=Oe,k=S.child;if(Oe.flags&16){var $=S.deletions;if($!==null){for(var W=0;W<$.length;W++){var oe=$[W];for(Oe=oe;Oe!==null;){var be=Oe;switch(be.tag){case 0:case 11:case 15:ch(8,be,S)}var Ae=be.child;if(Ae!==null)Ae.return=be,Oe=Ae;else for(;Oe!==null;){be=Oe;var we=be.sibling,Le=be.return;if(Uy(be),be===oe){Oe=null;break}if(we!==null){we.return=Le,Oe=we;break}Oe=Le}}}var Ue=S.alternate;if(Ue!==null){var $e=Ue.child;if($e!==null){Ue.child=null;do{var fr=$e.sibling;$e.sibling=null,$e=fr}while($e!==null)}}Oe=S}}if(S.subtreeFlags&2064&&k!==null)k.return=S,Oe=k;else e:for(;Oe!==null;){if(S=Oe,S.flags&2048)switch(S.tag){case 0:case 11:case 15:ch(9,S,S.return)}var J=S.sibling;if(J!==null){J.return=S.return,Oe=J;break e}Oe=S.return}}var q=i.current;for(Oe=q;Oe!==null;){k=Oe;var ne=k.child;if(k.subtreeFlags&2064&&ne!==null)ne.return=k,Oe=ne;else e:for(k=q;Oe!==null;){if($=Oe,$.flags&2048)try{switch($.tag){case 0:case 11:case 15:pd(9,$)}}catch(Xe){or($,$.return,Xe)}if($===k){Oe=null;break e}var Ie=$.sibling;if(Ie!==null){Ie.return=$.return,Oe=Ie;break e}Oe=$.return}}if(wt=y,Tn(),ft&&typeof ft.onPostCommitFiberRoot=="function")try{ft.onPostCommitFiberRoot(Gn,i)}catch{}f=!0}return f}finally{pt=c,hi.transition=o}}return!1}function t0(i,o,c){o=Y(c,o),o=ke(i,o,1),i=ir(i,o,1),o=fn(),i!==null&&(La(i,1,o),Ln(i,o))}function or(i,o,c){if(i.tag===3)t0(i,i,c);else for(;o!==null;){if(o.tag===3){t0(o,i,c);break}else if(o.tag===1){var f=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(oa===null||!oa.has(f))){i=Y(c,i),i=ge(o,i,1),o=ir(o,i,1),i=fn(),o!==null&&(La(o,1,i),Ln(o,i));break}}o=o.return}}function sw(i,o,c){var f=i.pingCache;f!==null&&f.delete(o),o=fn(),i.pingedLanes|=i.suspendedLanes&c,Lr===i&&(jr&c)===c&&(Er===4||Er===3&&(jr&130023424)===jr&&500>qt()-kp?Sl(i,0):Rp|=c),Ln(i,o)}function r0(i,o){o===0&&(i.mode&1?(o=Rr,Rr<<=1,!(Rr&130023424)&&(Rr=4194304)):o=1);var c=fn();i=Ct(i,o),i!==null&&(La(i,o,c),Ln(i,c))}function ow(i){var o=i.memoizedState,c=0;o!==null&&(c=o.retryLane),r0(i,c)}function aw(i,o){var c=0;switch(i.tag){case 13:var f=i.stateNode,y=i.memoizedState;y!==null&&(c=y.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(t(314))}f!==null&&f.delete(o),r0(i,c)}var n0;n0=function(i,o,c){if(i!==null)if(i.memoizedProps!==o.pendingProps||wr.current)Q=!0;else{if(!(i.lanes&c)&&!(o.flags&128))return Q=!1,Yx(i,o,c);Q=!!(i.flags&131072)}else Q=!1,Ut&&o.flags&1048576&&Zo(o,Zs,o.index);switch(o.lanes=0,o.tag){case 2:var f=o.type;dd(i,o),i=o.pendingProps;var y=ms(o,cr.current);no(o,c),y=ml(null,o,f,i,y,c);var S=ui();return o.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,zr(f)?(S=!0,Qo(o)):S=!1,o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,nr(o),y.updater=m,o.stateNode=y,y._reactInternals=o,D(o,f,i,c),o=ci(null,o,f,!0,S,c)):(o.tag=0,Ut&&S&&Jo(o),ae(null,o,y,c),o=o.child),o;case 16:f=o.elementType;e:{switch(dd(i,o),i=o.pendingProps,y=f._init,f=y(f._payload),o.type=f,y=o.tag=uw(f),i=l(f,i),y){case 0:o=dr(null,o,f,i,c);break e;case 1:o=xt(null,o,f,i,c);break e;case 11:o=Ee(null,o,f,i,c);break e;case 14:o=qe(null,o,f,l(f.type,i),c);break e}throw Error(t(306,f,""))}return o;case 0:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),dr(i,o,f,y,c);case 1:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),xt(i,o,f,y,c);case 3:e:{if(cd(o),i===null)throw Error(t(387));f=o.pendingProps,S=o.memoizedState,y=S.element,Qt(i,o),ys(o,f,null,c);var k=o.memoizedState;if(f=k.element,S.isDehydrated)if(S={element:f,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=S,o.memoizedState=S,o.flags&256){y=Y(Error(t(423)),o),o=ky(i,o,f,c,y);break e}else if(f!==y){y=Y(Error(t(424)),o),o=ky(i,o,f,c,y);break e}else for(Kr=ki(o.stateNode.containerInfo.firstChild),Qr=o,Ut=!0,un=null,c=ul(o,null,f,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Js(),f===y){o=lo(i,o,c);break e}ae(i,o,f,c)}o=o.child}return o;case 5:return so(o),i===null&&Pn(o),f=o.type,y=o.pendingProps,S=i!==null?i.memoizedProps:null,k=y.children,Hc(f,y)?k=null:S!==null&&Hc(f,S)&&(o.flags|=32),mt(i,o),ae(i,o,k,c),o.child;case 6:return i===null&&Pn(o),null;case 13:return My(i,o,c);case 4:return fl(o,o.stateNode.containerInfo),f=o.pendingProps,i===null?o.child=Li(o,null,f,c):ae(i,o,f,c),o.child;case 11:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),Ee(i,o,f,y,c);case 7:return ae(i,o,o.pendingProps,c),o.child;case 8:return ae(i,o,o.pendingProps.children,c),o.child;case 12:return ae(i,o,o.pendingProps.children,c),o.child;case 10:e:{if(f=o.type._context,y=o.pendingProps,S=o.memoizedProps,k=y.value,Et(eo,f._currentValue),f._currentValue=k,S!==null)if(ln(S.value,k)){if(S.children===y.children&&!wr.current){o=lo(i,o,c);break e}}else for(S=o.child,S!==null&&(S.return=o);S!==null;){var $=S.dependencies;if($!==null){k=S.child;for(var W=$.firstContext;W!==null;){if(W.context===f){if(S.tag===1){W=zt(-1,c&-c),W.tag=2;var oe=S.updateQueue;if(oe!==null){oe=oe.shared;var be=oe.pending;be===null?W.next=W:(W.next=be.next,be.next=W),oe.pending=W}}S.lanes|=c,W=S.alternate,W!==null&&(W.lanes|=c),dl(S.return,c,o),$.lanes|=c;break}W=W.next}}else if(S.tag===10)k=S.type===o.type?null:S.child;else if(S.tag===18){if(k=S.return,k===null)throw Error(t(341));k.lanes|=c,$=k.alternate,$!==null&&($.lanes|=c),dl(k,c,o),k=S.sibling}else k=S.child;if(k!==null)k.return=S;else for(k=S;k!==null;){if(k===o){k=null;break}if(S=k.sibling,S!==null){S.return=k.return,k=S;break}k=k.return}S=k}ae(i,o,y.children,c),o=o.child}return o;case 9:return y=o.type,f=o.pendingProps.children,no(o,c),y=Zr(y),f=f(y),o.flags|=1,ae(i,o,f,c),o.child;case 14:return f=o.type,y=l(f,o.pendingProps),y=l(f.type,y),qe(i,o,f,y,c);case 15:return _t(i,o,o.type,o.pendingProps,c);case 17:return f=o.type,y=o.pendingProps,y=o.elementType===f?y:l(f,y),dd(i,o),o.tag=1,zr(f)?(i=!0,Qo(o)):i=!1,no(o,c),x(o,f,y),D(o,f,y,c),ci(null,o,f,!0,i,c);case 19:return Ly(i,o,c);case 22:return Ge(i,o,c)}throw Error(t(156,o.tag))};function i0(i,o){return Ra(i,o)}function lw(i,o,c,f){this.tag=i,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function di(i,o,c,f){return new lw(i,o,c,f)}function Up(i){return i=i.prototype,!(!i||!i.isReactComponent)}function uw(i){if(typeof i=="function")return Up(i)?1:0;if(i!=null){if(i=i.$$typeof,i===K)return 11;if(i===Se)return 14}return 2}function ca(i,o){var c=i.alternate;return c===null?(c=di(i.tag,o,i.key,i.mode),c.elementType=i.elementType,c.type=i.type,c.stateNode=i.stateNode,c.alternate=i,i.alternate=c):(c.pendingProps=o,c.type=i.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=i.flags&14680064,c.childLanes=i.childLanes,c.lanes=i.lanes,c.child=i.child,c.memoizedProps=i.memoizedProps,c.memoizedState=i.memoizedState,c.updateQueue=i.updateQueue,o=i.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=i.sibling,c.index=i.index,c.ref=i.ref,c}function bd(i,o,c,f,y,S){var k=2;if(f=i,typeof i=="function")Up(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case F:return El(c.children,y,S,o);case Z:k=8,y|=8;break;case ue:return i=di(12,c,o,y|2),i.elementType=ue,i.lanes=S,i;case ie:return i=di(13,c,o,y),i.elementType=ie,i.lanes=S,i;case he:return i=di(19,c,o,y),i.elementType=he,i.lanes=S,i;case j:return Ed(c,y,S,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ye:k=10;break e;case Te:k=9;break e;case K:k=11;break e;case Se:k=14;break e;case B:k=16,f=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=di(k,c,o,y),o.elementType=i,o.type=f,o.lanes=S,o}function El(i,o,c,f){return i=di(7,i,f,o),i.lanes=c,i}function Ed(i,o,c,f){return i=di(22,i,f,o),i.elementType=j,i.lanes=c,i.stateNode={isHidden:!1},i}function zp(i,o,c){return i=di(6,i,null,o),i.lanes=c,i}function Gp(i,o,c){return o=di(4,i.children!==null?i.children:[],i.key,o),o.lanes=c,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function cw(i,o,c,f,y){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vc(0),this.expirationTimes=vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vc(0),this.identifierPrefix=f,this.onRecoverableError=y,this.mutableSourceEagerHydrationData=null}function jp(i,o,c,f,y,S,k,$,W){return i=new cw(i,o,c,$,W),o===1?(o=1,S===!0&&(o|=8)):o=0,S=di(3,null,null,o),i.current=S,S.stateNode=i,S.memoizedState={element:f,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},nr(S),i}function hw(i,o,c){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:f==null?null:""+f,children:i,containerInfo:o,implementation:c}}function s0(i){if(!i)return wn;i=i._reactInternals;e:{if(ri(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(zr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var c=i.type;if(zr(c))return Xc(i,c,o)}return o}function o0(i,o,c,f,y,S,k,$,W){return i=jp(c,f,!0,i,y,S,k,$,W),i.context=s0(null),c=i.current,f=fn(),y=la(c),S=zt(f,y),S.callback=o??null,ir(c,S,y),i.current.lanes=y,La(i,y,f),Ln(i,f),i}function Td(i,o,c,f){var y=o.current,S=fn(),k=la(y);return c=s0(c),o.context===null?o.context=c:o.pendingContext=c,o=zt(S,k),o.payload={element:i},f=f===void 0?null:f,f!==null&&(o.callback=f),i=ir(y,o,k),i!==null&&(Hi(i,y,k,S),Oi(i,y,k)),k}function Ad(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function a0(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var c=i.retryLane;i.retryLane=c!==0&&c<o?c:o}}function Hp(i,o){a0(i,o),(i=i.alternate)&&a0(i,o)}var l0=typeof reportError=="function"?reportError:function(i){console.error(i)};function $p(i){this._internalRoot=i}Cd.prototype.render=$p.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Td(i,o,null,null)},Cd.prototype.unmount=$p.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;wl(function(){Td(null,i,null,null)}),o[Wt]=null}};function Cd(i){this._internalRoot=i}Cd.prototype.unstable_scheduleHydration=function(i){if(i){var o=eu();i={blockedOn:null,target:i,priority:o};for(var c=0;c<Dt.length&&o!==0&&o<Dt[c].priority;c++);Dt.splice(c,0,i),c===0&&Ga(i)}};function Vp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Pd(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function u0(){}function dw(i,o,c,f,y){if(y){if(typeof f=="function"){var S=f;f=function(){var oe=Ad(k);S.call(oe)}}var k=o0(o,f,i,0,null,!1,!1,"",u0);return i._reactRootContainer=k,i[Wt]=k.current,jo(i.nodeType===8?i.parentNode:i),wl(),k}for(;y=i.lastChild;)i.removeChild(y);if(typeof f=="function"){var $=f;f=function(){var oe=Ad(W);$.call(oe)}}var W=jp(i,0,!1,null,null,!1,!1,"",u0);return i._reactRootContainer=W,i[Wt]=W.current,jo(i.nodeType===8?i.parentNode:i),wl(function(){Td(o,W,c,f)}),W}function Id(i,o,c,f,y){var S=c._reactRootContainer;if(S){var k=S;if(typeof y=="function"){var $=y;y=function(){var W=Ad(k);$.call(W)}}Td(o,k,i,y)}else k=dw(c,o,i,y,f);return Ad(k)}Wh=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var c=js(o.pendingLanes);c!==0&&(Fa(o,c|1),Ln(o,qt()),!(wt&6)&&(Du=qt()+500,Tn()))}break;case 13:wl(function(){var f=Ct(i,1);if(f!==null){var y=fn();Hi(f,i,1,y)}}),Hp(i,1)}},Da=function(i){if(i.tag===13){var o=Ct(i,134217728);if(o!==null){var c=fn();Hi(o,i,134217728,c)}Hp(i,134217728)}},xc=function(i){if(i.tag===13){var o=la(i),c=Ct(i,o);if(c!==null){var f=fn();Hi(c,i,o,f)}Hp(i,o)}},eu=function(){return pt},To=function(i,o){var c=pt;try{return pt=i,o()}finally{pt=c}},nt=function(i,o,c){switch(o){case"input":if(Ot(i,c),o=c.name,c.type==="radio"&&o!=null){for(c=i;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var f=c[o];if(f!==i&&f.form===i.form){var y=Yo(f);if(!y)throw Error(t(90));Re(f),Ot(f,y)}}}break;case"textarea":Ji(i,c);break;case"select":o=c.value,o!=null&&rn(i,!!c.multiple,o,!1)}},xi=Op,Pr=wl;var fw={usingClientEntryPoint:!1,Events:[Xo,Ks,Yo,mn,Fs,Op]},ph={findFiberByHostInstance:fs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},pw={bundleType:ph.bundleType,version:ph.version,rendererPackageName:ph.rendererPackageName,rendererConfig:ph.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:G.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Us(i),i===null?null:i.stateNode},findFiberByHostInstance:ph.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rd.isDisabled&&Rd.supportsFiber)try{Gn=Rd.inject(pw),ft=Rd}catch{}}return Fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fw,Fn.createPortal=function(i,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(o))throw Error(t(200));return hw(i,o,null,c)},Fn.createRoot=function(i,o){if(!Vp(i))throw Error(t(299));var c=!1,f="",y=l0;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onRecoverableError!==void 0&&(y=o.onRecoverableError)),o=jp(i,1,!1,null,null,c,!1,f,y),i[Wt]=o.current,jo(i.nodeType===8?i.parentNode:i),new $p(o)},Fn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Us(o),i=i===null?null:i.stateNode,i},Fn.flushSync=function(i){return wl(i)},Fn.hydrate=function(i,o,c){if(!Pd(o))throw Error(t(200));return Id(null,i,o,!0,c)},Fn.hydrateRoot=function(i,o,c){if(!Vp(i))throw Error(t(405));var f=c!=null&&c.hydratedSources||null,y=!1,S="",k=l0;if(c!=null&&(c.unstable_strictMode===!0&&(y=!0),c.identifierPrefix!==void 0&&(S=c.identifierPrefix),c.onRecoverableError!==void 0&&(k=c.onRecoverableError)),o=o0(o,null,i,1,c??null,y,!1,S,k),i[Wt]=o.current,jo(i),f)for(i=0;i<f.length;i++)c=f[i],y=c._getVersion,y=y(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,y]:o.mutableSourceEagerHydrationData.push(c,y);return new Cd(o)},Fn.render=function(i,o,c){if(!Pd(o))throw Error(t(200));return Id(null,i,o,!1,c)},Fn.unmountComponentAtNode=function(i){if(!Pd(i))throw Error(t(40));return i._reactRootContainer?(wl(function(){Id(null,null,i,!1,function(){i._reactRootContainer=null,i[Wt]=null})}),!0):!1},Fn.unstable_batchedUpdates=Op,Fn.unstable_renderSubtreeIntoContainer=function(i,o,c,f){if(!Pd(c))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return Id(i,o,c,!1,f)},Fn.version="18.3.1-next-f1338f8080-20240426",Fn}var y0;function bw(){if(y0)return Yp.exports;y0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yp.exports=Sw(),Yp.exports}var v0;function Ew(){if(v0)return kd;v0=1;var r=bw();return kd.createRoot=r.createRoot,kd.hydrateRoot=r.hydrateRoot,kd}var Tw=Ew(),On=function(){return On=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},On.apply(this,arguments)};function vf(r,e,t){if(t||arguments.length===2)for(var n=0,s=e.length,a;n<s;n++)(a||!(n in e))&&(a||(a=Array.prototype.slice.call(e,0,n)),a[n]=e[n]);return r.concat(a||Array.prototype.slice.call(e))}var Ht="-ms-",Rh="-moz-",Pt="-webkit-",W1="comm",Gf="rule",fy="decl",Aw="@import",X1="@keyframes",Cw="@layer",Y1=Math.abs,py=String.fromCharCode,Sg=Object.assign;function Pw(r,e){return Or(r,0)^45?(((e<<2^Or(r,0))<<2^Or(r,1))<<2^Or(r,2))<<2^Or(r,3):0}function q1(r){return r.trim()}function po(r,e){return(r=e.exec(r))?r[0]:r}function at(r,e,t){return r.replace(e,t)}function tf(r,e,t){return r.indexOf(e,t)}function Or(r,e){return r.charCodeAt(e)|0}function ic(r,e,t){return r.slice(e,t)}function As(r){return r.length}function Q1(r){return r.length}function wh(r,e){return e.push(r),r}function Iw(r,e){return r.map(e).join("")}function _0(r,e){return r.filter(function(t){return!po(t,e)})}var jf=1,sc=1,K1=0,_i=0,_r=0,dc="";function Hf(r,e,t,n,s,a,h,d){return{value:r,root:e,parent:t,type:n,props:s,children:a,line:jf,column:sc,length:h,return:"",siblings:d}}function fa(r,e){return Sg(Hf("",null,null,"",null,null,0,r.siblings),r,{length:-r.length},e)}function Uu(r){for(;r.root;)r=fa(r.root,{children:[r]});wh(r,r.siblings)}function Rw(){return _r}function kw(){return _r=_i>0?Or(dc,--_i):0,sc--,_r===10&&(sc=1,jf--),_r}function Qi(){return _r=_i<K1?Or(dc,_i++):0,sc++,_r===10&&(sc=1,jf++),_r}function zl(){return Or(dc,_i)}function rf(){return _i}function $f(r,e){return ic(dc,r,e)}function bg(r){switch(r){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Mw(r){return jf=sc=1,K1=As(dc=r),_i=0,[]}function Nw(r){return dc="",r}function Kp(r){return q1($f(_i-1,Eg(r===91?r+2:r===40?r+1:r)))}function Lw(r){for(;(_r=zl())&&_r<33;)Qi();return bg(r)>2||bg(_r)>3?"":" "}function Fw(r,e){for(;--e&&Qi()&&!(_r<48||_r>102||_r>57&&_r<65||_r>70&&_r<97););return $f(r,rf()+(e<6&&zl()==32&&Qi()==32))}function Eg(r){for(;Qi();)switch(_r){case r:return _i;case 34:case 39:r!==34&&r!==39&&Eg(_r);break;case 40:r===41&&Eg(r);break;case 92:Qi();break}return _i}function Ow(r,e){for(;Qi()&&r+_r!==57;)if(r+_r===84&&zl()===47)break;return"/*"+$f(e,_i-1)+"*"+py(r===47?r:Qi())}function Dw(r){for(;!bg(zl());)Qi();return $f(r,_i)}function Bw(r){return Nw(nf("",null,null,null,[""],r=Mw(r),0,[0],r))}function nf(r,e,t,n,s,a,h,d,p){for(var g=0,_=0,w=h,b=0,E=0,T=0,I=1,C=1,M=1,z=0,N="",G=s,O=a,V=n,F=N;C;)switch(T=z,z=Qi()){case 40:if(T!=108&&Or(F,w-1)==58){tf(F+=at(Kp(z),"&","&\f"),"&\f",Y1(g?d[g-1]:0))!=-1&&(M=-1);break}case 34:case 39:case 91:F+=Kp(z);break;case 9:case 10:case 13:case 32:F+=Lw(T);break;case 92:F+=Fw(rf()-1,7);continue;case 47:switch(zl()){case 42:case 47:wh(Uw(Ow(Qi(),rf()),e,t,p),p);break;default:F+="/"}break;case 123*I:d[g++]=As(F)*M;case 125*I:case 59:case 0:switch(z){case 0:case 125:C=0;case 59+_:M==-1&&(F=at(F,/\f/g,"")),E>0&&As(F)-w&&wh(E>32?w0(F+";",n,t,w-1,p):w0(at(F," ","")+";",n,t,w-2,p),p);break;case 59:F+=";";default:if(wh(V=x0(F,e,t,g,_,s,d,N,G=[],O=[],w,a),a),z===123)if(_===0)nf(F,e,V,V,G,a,w,d,O);else switch(b===99&&Or(F,3)===110?100:b){case 100:case 108:case 109:case 115:nf(r,V,V,n&&wh(x0(r,V,V,0,0,s,d,N,s,G=[],w,O),O),s,O,w,d,n?G:O);break;default:nf(F,V,V,V,[""],O,0,d,O)}}g=_=E=0,I=M=1,N=F="",w=h;break;case 58:w=1+As(F),E=T;default:if(I<1){if(z==123)--I;else if(z==125&&I++==0&&kw()==125)continue}switch(F+=py(z),z*I){case 38:M=_>0?1:(F+="\f",-1);break;case 44:d[g++]=(As(F)-1)*M,M=1;break;case 64:zl()===45&&(F+=Kp(Qi())),b=zl(),_=w=As(N=F+=Dw(rf())),z++;break;case 45:T===45&&As(F)==2&&(I=0)}}return a}function x0(r,e,t,n,s,a,h,d,p,g,_,w){for(var b=s-1,E=s===0?a:[""],T=Q1(E),I=0,C=0,M=0;I<n;++I)for(var z=0,N=ic(r,b+1,b=Y1(C=h[I])),G=r;z<T;++z)(G=q1(C>0?E[z]+" "+N:at(N,/&\f/g,E[z])))&&(p[M++]=G);return Hf(r,e,t,s===0?Gf:d,p,g,_,w)}function Uw(r,e,t,n){return Hf(r,e,t,W1,py(Rw()),ic(r,2,-2),0,n)}function w0(r,e,t,n,s){return Hf(r,e,t,fy,ic(r,0,n),ic(r,n+1,-1),n,s)}function Z1(r,e,t){switch(Pw(r,e)){case 5103:return Pt+"print-"+r+r;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Pt+r+r;case 4789:return Rh+r+r;case 5349:case 4246:case 4810:case 6968:case 2756:return Pt+r+Rh+r+Ht+r+r;case 5936:switch(Or(r,e+11)){case 114:return Pt+r+Ht+at(r,/[svh]\w+-[tblr]{2}/,"tb")+r;case 108:return Pt+r+Ht+at(r,/[svh]\w+-[tblr]{2}/,"tb-rl")+r;case 45:return Pt+r+Ht+at(r,/[svh]\w+-[tblr]{2}/,"lr")+r}case 6828:case 4268:case 2903:return Pt+r+Ht+r+r;case 6165:return Pt+r+Ht+"flex-"+r+r;case 5187:return Pt+r+at(r,/(\w+).+(:[^]+)/,Pt+"box-$1$2"+Ht+"flex-$1$2")+r;case 5443:return Pt+r+Ht+"flex-item-"+at(r,/flex-|-self/g,"")+(po(r,/flex-|baseline/)?"":Ht+"grid-row-"+at(r,/flex-|-self/g,""))+r;case 4675:return Pt+r+Ht+"flex-line-pack"+at(r,/align-content|flex-|-self/g,"")+r;case 5548:return Pt+r+Ht+at(r,"shrink","negative")+r;case 5292:return Pt+r+Ht+at(r,"basis","preferred-size")+r;case 6060:return Pt+"box-"+at(r,"-grow","")+Pt+r+Ht+at(r,"grow","positive")+r;case 4554:return Pt+at(r,/([^-])(transform)/g,"$1"+Pt+"$2")+r;case 6187:return at(at(at(r,/(zoom-|grab)/,Pt+"$1"),/(image-set)/,Pt+"$1"),r,"")+r;case 5495:case 3959:return at(r,/(image-set\([^]*)/,Pt+"$1$`$1");case 4968:return at(at(r,/(.+:)(flex-)?(.*)/,Pt+"box-pack:$3"+Ht+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Pt+r+r;case 4200:if(!po(r,/flex-|baseline/))return Ht+"grid-column-align"+ic(r,e)+r;break;case 2592:case 3360:return Ht+at(r,"template-","")+r;case 4384:case 3616:return t&&t.some(function(n,s){return e=s,po(n.props,/grid-\w+-end/)})?~tf(r+(t=t[e].value),"span",0)?r:Ht+at(r,"-start","")+r+Ht+"grid-row-span:"+(~tf(t,"span",0)?po(t,/\d+/):+po(t,/\d+/)-+po(r,/\d+/))+";":Ht+at(r,"-start","")+r;case 4896:case 4128:return t&&t.some(function(n){return po(n.props,/grid-\w+-start/)})?r:Ht+at(at(r,"-end","-span"),"span ","")+r;case 4095:case 3583:case 4068:case 2532:return at(r,/(.+)-inline(.+)/,Pt+"$1$2")+r;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(As(r)-1-e>6)switch(Or(r,e+1)){case 109:if(Or(r,e+4)!==45)break;case 102:return at(r,/(.+:)(.+)-([^]+)/,"$1"+Pt+"$2-$3$1"+Rh+(Or(r,e+3)==108?"$3":"$2-$3"))+r;case 115:return~tf(r,"stretch",0)?Z1(at(r,"stretch","fill-available"),e,t)+r:r}break;case 5152:case 5920:return at(r,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,s,a,h,d,p,g){return Ht+s+":"+a+g+(h?Ht+s+"-span:"+(d?p:+p-+a)+g:"")+r});case 4949:if(Or(r,e+6)===121)return at(r,":",":"+Pt)+r;break;case 6444:switch(Or(r,Or(r,14)===45?18:11)){case 120:return at(r,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Pt+(Or(r,14)===45?"inline-":"")+"box$3$1"+Pt+"$2$3$1"+Ht+"$2box$3")+r;case 100:return at(r,":",":"+Ht)+r}break;case 5719:case 2647:case 2135:case 3927:case 2391:return at(r,"scroll-","scroll-snap-")+r}return r}function _f(r,e){for(var t="",n=0;n<r.length;n++)t+=e(r[n],n,r,e)||"";return t}function zw(r,e,t,n){switch(r.type){case Cw:if(r.children.length)break;case Aw:case fy:return r.return=r.return||r.value;case W1:return"";case X1:return r.return=r.value+"{"+_f(r.children,n)+"}";case Gf:if(!As(r.value=r.props.join(",")))return""}return As(t=_f(r.children,n))?r.return=r.value+"{"+t+"}":""}function Gw(r){var e=Q1(r);return function(t,n,s,a){for(var h="",d=0;d<e;d++)h+=r[d](t,n,s,a)||"";return h}}function jw(r){return function(e){e.root||(e=e.return)&&r(e)}}function Hw(r,e,t,n){if(r.length>-1&&!r.return)switch(r.type){case fy:r.return=Z1(r.value,r.length,t);return;case X1:return _f([fa(r,{value:at(r.value,"@","@"+Pt)})],n);case Gf:if(r.length)return Iw(t=r.props,function(s){switch(po(s,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Uu(fa(r,{props:[at(s,/:(read-\w+)/,":"+Rh+"$1")]})),Uu(fa(r,{props:[s]})),Sg(r,{props:_0(t,n)});break;case"::placeholder":Uu(fa(r,{props:[at(s,/:(plac\w+)/,":"+Pt+"input-$1")]})),Uu(fa(r,{props:[at(s,/:(plac\w+)/,":"+Rh+"$1")]})),Uu(fa(r,{props:[at(s,/:(plac\w+)/,Ht+"input-$1")]})),Uu(fa(r,{props:[s]})),Sg(r,{props:_0(t,n)});break}return""})}}var $w={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Zn={},oc=typeof process<"u"&&Zn!==void 0&&(Zn.REACT_APP_SC_ATTR||Zn.SC_ATTR)||"data-styled",J1="active",e_="data-styled-version",Vf="6.1.13",my=`/*!sc*/
`,xf=typeof window<"u"&&"HTMLElement"in window,Vw=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Zn!==void 0&&Zn.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Zn.REACT_APP_SC_DISABLE_SPEEDY!==""?Zn.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Zn.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Zn!==void 0&&Zn.SC_DISABLE_SPEEDY!==void 0&&Zn.SC_DISABLE_SPEEDY!==""&&Zn.SC_DISABLE_SPEEDY!=="false"&&Zn.SC_DISABLE_SPEEDY),Wf=Object.freeze([]),ac=Object.freeze({});function Ww(r,e,t){return t===void 0&&(t=ac),r.theme!==t.theme&&r.theme||e||t.theme}var t_=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Xw=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Yw=/(^-|-$)/g;function S0(r){return r.replace(Xw,"-").replace(Yw,"")}var qw=/(a)(d)/gi,Md=52,b0=function(r){return String.fromCharCode(r+(r>25?39:97))};function Tg(r){var e,t="";for(e=Math.abs(r);e>Md;e=e/Md|0)t=b0(e%Md)+t;return(b0(e%Md)+t).replace(qw,"$1-$2")}var Zp,r_=5381,Xu=function(r,e){for(var t=e.length;t;)r=33*r^e.charCodeAt(--t);return r},n_=function(r){return Xu(r_,r)};function Qw(r){return Tg(n_(r)>>>0)}function Kw(r){return r.displayName||r.name||"Component"}function Jp(r){return typeof r=="string"&&!0}var i_=typeof Symbol=="function"&&Symbol.for,s_=i_?Symbol.for("react.memo"):60115,Zw=i_?Symbol.for("react.forward_ref"):60112,Jw={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},eS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o_={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tS=((Zp={})[Zw]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zp[s_]=o_,Zp);function E0(r){return("type"in(e=r)&&e.type.$$typeof)===s_?o_:"$$typeof"in r?tS[r.$$typeof]:Jw;var e}var rS=Object.defineProperty,nS=Object.getOwnPropertyNames,T0=Object.getOwnPropertySymbols,iS=Object.getOwnPropertyDescriptor,sS=Object.getPrototypeOf,A0=Object.prototype;function a_(r,e,t){if(typeof e!="string"){if(A0){var n=sS(e);n&&n!==A0&&a_(r,n,t)}var s=nS(e);T0&&(s=s.concat(T0(e)));for(var a=E0(r),h=E0(e),d=0;d<s.length;++d){var p=s[d];if(!(p in eS||t&&t[p]||h&&p in h||a&&p in a)){var g=iS(e,p);try{rS(r,p,g)}catch{}}}}return r}function lc(r){return typeof r=="function"}function gy(r){return typeof r=="object"&&"styledComponentId"in r}function Ul(r,e){return r&&e?"".concat(r," ").concat(e):r||e||""}function C0(r,e){if(r.length===0)return"";for(var t=r[0],n=1;n<r.length;n++)t+=r[n];return t}function Lh(r){return r!==null&&typeof r=="object"&&r.constructor.name===Object.name&&!("props"in r&&r.$$typeof)}function Ag(r,e,t){if(t===void 0&&(t=!1),!t&&!Lh(r)&&!Array.isArray(r))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)r[n]=Ag(r[n],e[n]);else if(Lh(e))for(var n in e)r[n]=Ag(r[n],e[n]);return r}function yy(r,e){Object.defineProperty(r,"toString",{value:e})}function Gh(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(r," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var oS=function(){function r(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return r.prototype.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},r.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,s=n.length,a=s;e>=a;)if((a<<=1)<0)throw Gh(16,"".concat(e));this.groupSizes=new Uint32Array(a),this.groupSizes.set(n),this.length=a;for(var h=s;h<a;h++)this.groupSizes[h]=0}for(var d=this.indexOfGroup(e+1),p=(h=0,t.length);h<p;h++)this.tag.insertRule(d,t[h])&&(this.groupSizes[e]++,d++)},r.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),s=n+t;this.groupSizes[e]=0;for(var a=n;a<s;a++)this.tag.deleteRule(n)}},r.prototype.getGroup=function(e){var t="";if(e>=this.length||this.groupSizes[e]===0)return t;for(var n=this.groupSizes[e],s=this.indexOfGroup(e),a=s+n,h=s;h<a;h++)t+="".concat(this.tag.getRule(h)).concat(my);return t},r}(),sf=new Map,wf=new Map,of=1,Nd=function(r){if(sf.has(r))return sf.get(r);for(;wf.has(of);)of++;var e=of++;return sf.set(r,e),wf.set(e,r),e},aS=function(r,e){of=e+1,sf.set(r,e),wf.set(e,r)},lS="style[".concat(oc,"][").concat(e_,'="').concat(Vf,'"]'),uS=new RegExp("^".concat(oc,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),cS=function(r,e,t){for(var n,s=t.split(","),a=0,h=s.length;a<h;a++)(n=s[a])&&r.registerName(e,n)},hS=function(r,e){for(var t,n=((t=e.textContent)!==null&&t!==void 0?t:"").split(my),s=[],a=0,h=n.length;a<h;a++){var d=n[a].trim();if(d){var p=d.match(uS);if(p){var g=0|parseInt(p[1],10),_=p[2];g!==0&&(aS(_,g),cS(r,_,p[3]),r.getTag().insertRules(g,s)),s.length=0}else s.push(d)}}},P0=function(r){for(var e=document.querySelectorAll(lS),t=0,n=e.length;t<n;t++){var s=e[t];s&&s.getAttribute(oc)!==J1&&(hS(r,s),s.parentNode&&s.parentNode.removeChild(s))}};function dS(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var l_=function(r){var e=document.head,t=r||e,n=document.createElement("style"),s=function(d){var p=Array.from(d.querySelectorAll("style[".concat(oc,"]")));return p[p.length-1]}(t),a=s!==void 0?s.nextSibling:null;n.setAttribute(oc,J1),n.setAttribute(e_,Vf);var h=dS();return h&&n.setAttribute("nonce",h),t.insertBefore(n,a),n},fS=function(){function r(e){this.element=l_(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(t){if(t.sheet)return t.sheet;for(var n=document.styleSheets,s=0,a=n.length;s<a;s++){var h=n[s];if(h.ownerNode===t)return h}throw Gh(17)}(this.element),this.length=0}return r.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch{return!1}},r.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},r.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},r}(),pS=function(){function r(e){this.element=l_(e),this.nodes=this.element.childNodes,this.length=0}return r.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},r.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},r.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},r}(),mS=function(){function r(e){this.rules=[],this.length=0}return r.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},r.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},r.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},r}(),I0=xf,gS={isServer:!xf,useCSSOMInjection:!Vw},u_=function(){function r(e,t,n){e===void 0&&(e=ac),t===void 0&&(t={});var s=this;this.options=On(On({},gS),e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&xf&&I0&&(I0=!1,P0(this)),yy(this,function(){return function(a){for(var h=a.getTag(),d=h.length,p="",g=function(w){var b=function(M){return wf.get(M)}(w);if(b===void 0)return"continue";var E=a.names.get(b),T=h.getGroup(w);if(E===void 0||!E.size||T.length===0)return"continue";var I="".concat(oc,".g").concat(w,'[id="').concat(b,'"]'),C="";E!==void 0&&E.forEach(function(M){M.length>0&&(C+="".concat(M,","))}),p+="".concat(T).concat(I,'{content:"').concat(C,'"}').concat(my)},_=0;_<d;_++)g(_);return p}(s)})}return r.registerId=function(e){return Nd(e)},r.prototype.rehydrate=function(){!this.server&&xf&&P0(this)},r.prototype.reconstructWithOptions=function(e,t){return t===void 0&&(t=!0),new r(On(On({},this.options),e),this.gs,t&&this.names||void 0)},r.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},r.prototype.getTag=function(){return this.tag||(this.tag=(e=function(t){var n=t.useCSSOMInjection,s=t.target;return t.isServer?new mS(s):n?new fS(s):new pS(s)}(this.options),new oS(e)));var e},r.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},r.prototype.registerName=function(e,t){if(Nd(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},r.prototype.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(Nd(e),n)},r.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},r.prototype.clearRules=function(e){this.getTag().clearGroup(Nd(e)),this.clearNames(e)},r.prototype.clearTag=function(){this.tag=void 0},r}(),yS=/&/g,vS=/^\s*\/\/.*$/gm;function c_(r,e){return r.map(function(t){return t.type==="rule"&&(t.value="".concat(e," ").concat(t.value),t.value=t.value.replaceAll(",",",".concat(e," ")),t.props=t.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(t.children)&&t.type!=="@keyframes"&&(t.children=c_(t.children,e)),t})}function _S(r){var e,t,n,s=ac,a=s.options,h=a===void 0?ac:a,d=s.plugins,p=d===void 0?Wf:d,g=function(b,E,T){return T.startsWith(t)&&T.endsWith(t)&&T.replaceAll(t,"").length>0?".".concat(e):b},_=p.slice();_.push(function(b){b.type===Gf&&b.value.includes("&")&&(b.props[0]=b.props[0].replace(yS,t).replace(n,g))}),h.prefix&&_.push(Hw),_.push(zw);var w=function(b,E,T,I){E===void 0&&(E=""),T===void 0&&(T=""),I===void 0&&(I="&"),e=I,t=E,n=new RegExp("\\".concat(t,"\\b"),"g");var C=b.replace(vS,""),M=Bw(T||E?"".concat(T," ").concat(E," { ").concat(C," }"):C);h.namespace&&(M=c_(M,h.namespace));var z=[];return _f(M,Gw(_.concat(jw(function(N){return z.push(N)})))),z};return w.hash=p.length?p.reduce(function(b,E){return E.name||Gh(15),Xu(b,E.name)},r_).toString():"",w}var xS=new u_,Cg=_S(),h_=Dn.createContext({shouldForwardProp:void 0,styleSheet:xS,stylis:Cg});h_.Consumer;Dn.createContext(void 0);function R0(){return Ke.useContext(h_)}var wS=function(){function r(e,t){var n=this;this.inject=function(s,a){a===void 0&&(a=Cg);var h=n.name+a.hash;s.hasNameForId(n.id,h)||s.insertRules(n.id,h,a(n.rules,h,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,yy(this,function(){throw Gh(12,String(n.name))})}return r.prototype.getName=function(e){return e===void 0&&(e=Cg),this.name+e.hash},r}(),SS=function(r){return r>="A"&&r<="Z"};function k0(r){for(var e="",t=0;t<r.length;t++){var n=r[t];if(t===1&&n==="-"&&r[0]==="-")return r;SS(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var d_=function(r){return r==null||r===!1||r===""},f_=function(r){var e,t,n=[];for(var s in r){var a=r[s];r.hasOwnProperty(s)&&!d_(a)&&(Array.isArray(a)&&a.isCss||lc(a)?n.push("".concat(k0(s),":"),a,";"):Lh(a)?n.push.apply(n,vf(vf(["".concat(s," {")],f_(a),!1),["}"],!1)):n.push("".concat(k0(s),": ").concat((e=s,(t=a)==null||typeof t=="boolean"||t===""?"":typeof t!="number"||t===0||e in $w||e.startsWith("--")?String(t).trim():"".concat(t,"px")),";")))}return n};function Gl(r,e,t,n){if(d_(r))return[];if(gy(r))return[".".concat(r.styledComponentId)];if(lc(r)){if(!lc(a=r)||a.prototype&&a.prototype.isReactComponent||!e)return[r];var s=r(e);return Gl(s,e,t,n)}var a;return r instanceof wS?t?(r.inject(t,n),[r.getName(n)]):[r]:Lh(r)?f_(r):Array.isArray(r)?Array.prototype.concat.apply(Wf,r.map(function(h){return Gl(h,e,t,n)})):[r.toString()]}function bS(r){for(var e=0;e<r.length;e+=1){var t=r[e];if(lc(t)&&!gy(t))return!1}return!0}var ES=n_(Vf),TS=function(){function r(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&bS(e),this.componentId=t,this.baseHash=Xu(ES,t),this.baseStyle=n,u_.registerId(t)}return r.prototype.generateAndInjectStyles=function(e,t,n){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))s=Ul(s,this.staticRulesId);else{var a=C0(Gl(this.rules,e,t,n)),h=Tg(Xu(this.baseHash,a)>>>0);if(!t.hasNameForId(this.componentId,h)){var d=n(a,".".concat(h),void 0,this.componentId);t.insertRules(this.componentId,h,d)}s=Ul(s,h),this.staticRulesId=h}else{for(var p=Xu(this.baseHash,n.hash),g="",_=0;_<this.rules.length;_++){var w=this.rules[_];if(typeof w=="string")g+=w;else if(w){var b=C0(Gl(w,e,t,n));p=Xu(p,b+_),g+=b}}if(g){var E=Tg(p>>>0);t.hasNameForId(this.componentId,E)||t.insertRules(this.componentId,E,n(g,".".concat(E),void 0,this.componentId)),s=Ul(s,E)}}return s},r}(),p_=Dn.createContext(void 0);p_.Consumer;var em={};function AS(r,e,t){var n=gy(r),s=r,a=!Jp(r),h=e.attrs,d=h===void 0?Wf:h,p=e.componentId,g=p===void 0?function(G,O){var V=typeof G!="string"?"sc":S0(G);em[V]=(em[V]||0)+1;var F="".concat(V,"-").concat(Qw(Vf+V+em[V]));return O?"".concat(O,"-").concat(F):F}(e.displayName,e.parentComponentId):p,_=e.displayName,w=_===void 0?function(G){return Jp(G)?"styled.".concat(G):"Styled(".concat(Kw(G),")")}(r):_,b=e.displayName&&e.componentId?"".concat(S0(e.displayName),"-").concat(e.componentId):e.componentId||g,E=n&&s.attrs?s.attrs.concat(d).filter(Boolean):d,T=e.shouldForwardProp;if(n&&s.shouldForwardProp){var I=s.shouldForwardProp;if(e.shouldForwardProp){var C=e.shouldForwardProp;T=function(G,O){return I(G,O)&&C(G,O)}}else T=I}var M=new TS(t,b,n?s.componentStyle:void 0);function z(G,O){return function(V,F,Z){var ue=V.attrs,ye=V.componentStyle,Te=V.defaultProps,K=V.foldedComponentIds,ie=V.styledComponentId,he=V.target,Se=Dn.useContext(p_),B=R0(),j=V.shouldForwardProp||B.shouldForwardProp,P=Ww(F,Se,Te)||ac,H=function(le,de,fe){for(var me,xe=On(On({},de),{className:void 0,theme:fe}),ce=0;ce<le.length;ce+=1){var Pe=lc(me=le[ce])?me(xe):me;for(var Re in Pe)xe[Re]=Re==="className"?Ul(xe[Re],Pe[Re]):Re==="style"?On(On({},xe[Re]),Pe[Re]):Pe[Re]}return de.className&&(xe.className=Ul(xe.className,de.className)),xe}(ue,F,P),L=H.as||he,R={};for(var U in H)H[U]===void 0||U[0]==="$"||U==="as"||U==="theme"&&H.theme===P||(U==="forwardedAs"?R.as=H.forwardedAs:j&&!j(U,L)||(R[U]=H[U]));var X=function(le,de){var fe=R0(),me=le.generateAndInjectStyles(de,fe.styleSheet,fe.stylis);return me}(ye,H),ee=Ul(K,ie);return X&&(ee+=" "+X),H.className&&(ee+=" "+H.className),R[Jp(L)&&!t_.has(L)?"class":"className"]=ee,R.ref=Z,Ke.createElement(L,R)}(N,G,O)}z.displayName=w;var N=Dn.forwardRef(z);return N.attrs=E,N.componentStyle=M,N.displayName=w,N.shouldForwardProp=T,N.foldedComponentIds=n?Ul(s.foldedComponentIds,s.styledComponentId):"",N.styledComponentId=b,N.target=n?s.target:r,Object.defineProperty(N,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(G){this._foldedDefaultProps=n?function(O){for(var V=[],F=1;F<arguments.length;F++)V[F-1]=arguments[F];for(var Z=0,ue=V;Z<ue.length;Z++)Ag(O,ue[Z],!0);return O}({},s.defaultProps,G):G}}),yy(N,function(){return".".concat(N.styledComponentId)}),a&&a_(N,r,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),N}function M0(r,e){for(var t=[r[0]],n=0,s=e.length;n<s;n+=1)t.push(e[n],r[n+1]);return t}var N0=function(r){return Object.assign(r,{isCss:!0})};function CS(r){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(lc(r)||Lh(r))return N0(Gl(M0(Wf,vf([r],e,!0))));var n=r;return e.length===0&&n.length===1&&typeof n[0]=="string"?Gl(n):N0(Gl(M0(n,e)))}function Pg(r,e,t){if(t===void 0&&(t=ac),!e)throw Gh(1,e);var n=function(s){for(var a=[],h=1;h<arguments.length;h++)a[h-1]=arguments[h];return r(e,t,CS.apply(void 0,vf([s],a,!1)))};return n.attrs=function(s){return Pg(r,e,On(On({},t),{attrs:Array.prototype.concat(t.attrs,s).filter(Boolean)}))},n.withConfig=function(s){return Pg(r,e,On(On({},t),s))},n}var m_=function(r){return Pg(AS,r)},jh=m_;t_.forEach(function(r){jh[r]=m_(r)});const PS=jh.div`
  display: flex;
  flex-direction: column;
  gap: 20px;
  align-items: center;
`,IS=jh.button`
  padding: 20px 40px;
  font-size: 24px;
  border-radius: 12px;
  border: none;
  background-color: #4CAF50;
  color: white;
  cursor: pointer;
  transition: transform 0.2s;

  &:hover {
    transform: scale(1.05);
  }
`,RS=({onSelectGame:r})=>je.jsxs(PS,{children:[je.jsx("h1",{children:"Choose Your Game!"}),je.jsx(IS,{onClick:()=>r("gameXmas"),children:"Game Xmas"})]});var kh={exports:{}},Hl=(r=>(r[r.WEBGL_LEGACY=0]="WEBGL_LEGACY",r[r.WEBGL=1]="WEBGL",r[r.WEBGL2=2]="WEBGL2",r))(Hl||{}),g_=(r=>(r[r.UNKNOWN=0]="UNKNOWN",r[r.WEBGL=1]="WEBGL",r[r.CANVAS=2]="CANVAS",r))(g_||{}),Ig=(r=>(r[r.COLOR=16384]="COLOR",r[r.DEPTH=256]="DEPTH",r[r.STENCIL=1024]="STENCIL",r))(Ig||{}),tt=(r=>(r[r.NORMAL=0]="NORMAL",r[r.ADD=1]="ADD",r[r.MULTIPLY=2]="MULTIPLY",r[r.SCREEN=3]="SCREEN",r[r.OVERLAY=4]="OVERLAY",r[r.DARKEN=5]="DARKEN",r[r.LIGHTEN=6]="LIGHTEN",r[r.COLOR_DODGE=7]="COLOR_DODGE",r[r.COLOR_BURN=8]="COLOR_BURN",r[r.HARD_LIGHT=9]="HARD_LIGHT",r[r.SOFT_LIGHT=10]="SOFT_LIGHT",r[r.DIFFERENCE=11]="DIFFERENCE",r[r.EXCLUSION=12]="EXCLUSION",r[r.HUE=13]="HUE",r[r.SATURATION=14]="SATURATION",r[r.COLOR=15]="COLOR",r[r.LUMINOSITY=16]="LUMINOSITY",r[r.NORMAL_NPM=17]="NORMAL_NPM",r[r.ADD_NPM=18]="ADD_NPM",r[r.SCREEN_NPM=19]="SCREEN_NPM",r[r.NONE=20]="NONE",r[r.SRC_OVER=0]="SRC_OVER",r[r.SRC_IN=21]="SRC_IN",r[r.SRC_OUT=22]="SRC_OUT",r[r.SRC_ATOP=23]="SRC_ATOP",r[r.DST_OVER=24]="DST_OVER",r[r.DST_IN=25]="DST_IN",r[r.DST_OUT=26]="DST_OUT",r[r.DST_ATOP=27]="DST_ATOP",r[r.ERASE=26]="ERASE",r[r.SUBTRACT=28]="SUBTRACT",r[r.XOR=29]="XOR",r))(tt||{}),Yi=(r=>(r[r.POINTS=0]="POINTS",r[r.LINES=1]="LINES",r[r.LINE_LOOP=2]="LINE_LOOP",r[r.LINE_STRIP=3]="LINE_STRIP",r[r.TRIANGLES=4]="TRIANGLES",r[r.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",r[r.TRIANGLE_FAN=6]="TRIANGLE_FAN",r))(Yi||{}),Ne=(r=>(r[r.RGBA=6408]="RGBA",r[r.RGB=6407]="RGB",r[r.RG=33319]="RG",r[r.RED=6403]="RED",r[r.RGBA_INTEGER=36249]="RGBA_INTEGER",r[r.RGB_INTEGER=36248]="RGB_INTEGER",r[r.RG_INTEGER=33320]="RG_INTEGER",r[r.RED_INTEGER=36244]="RED_INTEGER",r[r.ALPHA=6406]="ALPHA",r[r.LUMINANCE=6409]="LUMINANCE",r[r.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",r[r.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",r[r.DEPTH_STENCIL=34041]="DEPTH_STENCIL",r))(Ne||{}),Ju=(r=>(r[r.TEXTURE_2D=3553]="TEXTURE_2D",r[r.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",r[r.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",r[r.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",r[r.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",r[r.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",r[r.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",r[r.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",r))(Ju||{}),it=(r=>(r[r.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",r[r.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",r[r.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",r[r.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",r[r.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",r[r.UNSIGNED_INT=5125]="UNSIGNED_INT",r[r.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",r[r.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",r[r.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",r[r.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",r[r.BYTE=5120]="BYTE",r[r.SHORT=5122]="SHORT",r[r.INT=5124]="INT",r[r.FLOAT=5126]="FLOAT",r[r.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",r[r.HALF_FLOAT=36193]="HALF_FLOAT",r))(it||{}),Fe=(r=>(r[r.FLOAT=0]="FLOAT",r[r.INT=1]="INT",r[r.UINT=2]="UINT",r))(Fe||{}),mo=(r=>(r[r.NEAREST=0]="NEAREST",r[r.LINEAR=1]="LINEAR",r))(mo||{}),yo=(r=>(r[r.CLAMP=33071]="CLAMP",r[r.REPEAT=10497]="REPEAT",r[r.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",r))(yo||{}),xa=(r=>(r[r.OFF=0]="OFF",r[r.POW2=1]="POW2",r[r.ON=2]="ON",r[r.ON_MANUAL=3]="ON_MANUAL",r))(xa||{}),mi=(r=>(r[r.NPM=0]="NPM",r[r.UNPACK=1]="UNPACK",r[r.PMA=2]="PMA",r[r.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",r[r.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",r[r.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",r))(mi||{}),Rl=(r=>(r[r.NO=0]="NO",r[r.YES=1]="YES",r[r.AUTO=2]="AUTO",r[r.BLEND=0]="BLEND",r[r.CLEAR=1]="CLEAR",r[r.BLIT=2]="BLIT",r))(Rl||{}),vy=(r=>(r[r.AUTO=0]="AUTO",r[r.MANUAL=1]="MANUAL",r))(vy||{}),gi=(r=>(r.LOW="lowp",r.MEDIUM="mediump",r.HIGH="highp",r))(gi||{}),Tr=(r=>(r[r.NONE=0]="NONE",r[r.SCISSOR=1]="SCISSOR",r[r.STENCIL=2]="STENCIL",r[r.SPRITE=3]="SPRITE",r[r.COLOR=4]="COLOR",r))(Tr||{}),vr=(r=>(r[r.NONE=0]="NONE",r[r.LOW=2]="LOW",r[r.MEDIUM=4]="MEDIUM",r[r.HIGH=8]="HIGH",r))(vr||{}),Ps=(r=>(r[r.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",r[r.ARRAY_BUFFER=34962]="ARRAY_BUFFER",r[r.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",r))(Ps||{});const kS={createCanvas:(r,e)=>{const t=document.createElement("canvas");return t.width=r,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(r,e)=>fetch(r,e),parseXML:r=>new DOMParser().parseFromString(r,"text/xml")},Qe={ADAPTER:kS,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var tm=/iPhone/i,L0=/iPod/i,F0=/iPad/i,O0=/\biOS-universal(?:.+)Mac\b/i,rm=/\bAndroid(?:.+)Mobile\b/i,D0=/Android/i,zu=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ld=/Silk/i,co=/Windows Phone/i,B0=/\bWindows(?:.+)ARM\b/i,U0=/BlackBerry/i,z0=/BB10/i,G0=/Opera Mini/i,j0=/\b(CriOS|Chrome)(?:.+)Mobile/i,H0=/Mobile(?:.+)Firefox\b/i,$0=function(r){return typeof r<"u"&&r.platform==="MacIntel"&&typeof r.maxTouchPoints=="number"&&r.maxTouchPoints>1&&typeof MSStream>"u"};function MS(r){return function(e){return e.test(r)}}function V0(r){var e={userAgent:"",platform:"",maxTouchPoints:0};!r&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof r=="string"?e.userAgent=r:r&&r.userAgent&&(e={userAgent:r.userAgent,platform:r.platform,maxTouchPoints:r.maxTouchPoints||0});var t=e.userAgent,n=t.split("[FBAN");typeof n[1]<"u"&&(t=n[0]),n=t.split("Twitter"),typeof n[1]<"u"&&(t=n[0]);var s=MS(t),a={apple:{phone:s(tm)&&!s(co),ipod:s(L0),tablet:!s(tm)&&(s(F0)||$0(e))&&!s(co),universal:s(O0),device:(s(tm)||s(L0)||s(F0)||s(O0)||$0(e))&&!s(co)},amazon:{phone:s(zu),tablet:!s(zu)&&s(Ld),device:s(zu)||s(Ld)},android:{phone:!s(co)&&s(zu)||!s(co)&&s(rm),tablet:!s(co)&&!s(zu)&&!s(rm)&&(s(Ld)||s(D0)),device:!s(co)&&(s(zu)||s(Ld)||s(rm)||s(D0))||s(/\bokhttp\b/i)},windows:{phone:s(co),tablet:s(B0),device:s(co)||s(B0)},other:{blackberry:s(U0),blackberry10:s(z0),opera:s(G0),firefox:s(H0),chrome:s(j0),device:s(U0)||s(z0)||s(G0)||s(H0)||s(j0)},any:!1,phone:!1,tablet:!1};return a.any=a.apple.device||a.android.device||a.windows.device||a.other.device,a.phone=a.apple.phone||a.android.phone||a.windows.phone,a.tablet=a.apple.tablet||a.android.tablet||a.windows.tablet,a}const NS=V0.default??V0,Yu=NS(globalThis.navigator);Qe.RETINA_PREFIX=/@([0-9\.]+)x/;Qe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var nm={exports:{}},W0;function LS(){return W0||(W0=1,function(r){var e=Object.prototype.hasOwnProperty,t="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(t=!1));function s(p,g,_){this.fn=p,this.context=g,this.once=_||!1}function a(p,g,_,w,b){if(typeof _!="function")throw new TypeError("The listener must be a function");var E=new s(_,w||p,b),T=t?t+g:g;return p._events[T]?p._events[T].fn?p._events[T]=[p._events[T],E]:p._events[T].push(E):(p._events[T]=E,p._eventsCount++),p}function h(p,g){--p._eventsCount===0?p._events=new n:delete p._events[g]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var g=[],_,w;if(this._eventsCount===0)return g;for(w in _=this._events)e.call(_,w)&&g.push(t?w.slice(1):w);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(_)):g},d.prototype.listeners=function(g){var _=t?t+g:g,w=this._events[_];if(!w)return[];if(w.fn)return[w.fn];for(var b=0,E=w.length,T=new Array(E);b<E;b++)T[b]=w[b].fn;return T},d.prototype.listenerCount=function(g){var _=t?t+g:g,w=this._events[_];return w?w.fn?1:w.length:0},d.prototype.emit=function(g,_,w,b,E,T){var I=t?t+g:g;if(!this._events[I])return!1;var C=this._events[I],M=arguments.length,z,N;if(C.fn){switch(C.once&&this.removeListener(g,C.fn,void 0,!0),M){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,_),!0;case 3:return C.fn.call(C.context,_,w),!0;case 4:return C.fn.call(C.context,_,w,b),!0;case 5:return C.fn.call(C.context,_,w,b,E),!0;case 6:return C.fn.call(C.context,_,w,b,E,T),!0}for(N=1,z=new Array(M-1);N<M;N++)z[N-1]=arguments[N];C.fn.apply(C.context,z)}else{var G=C.length,O;for(N=0;N<G;N++)switch(C[N].once&&this.removeListener(g,C[N].fn,void 0,!0),M){case 1:C[N].fn.call(C[N].context);break;case 2:C[N].fn.call(C[N].context,_);break;case 3:C[N].fn.call(C[N].context,_,w);break;case 4:C[N].fn.call(C[N].context,_,w,b);break;default:if(!z)for(O=1,z=new Array(M-1);O<M;O++)z[O-1]=arguments[O];C[N].fn.apply(C[N].context,z)}}return!0},d.prototype.on=function(g,_,w){return a(this,g,_,w,!1)},d.prototype.once=function(g,_,w){return a(this,g,_,w,!0)},d.prototype.removeListener=function(g,_,w,b){var E=t?t+g:g;if(!this._events[E])return this;if(!_)return h(this,E),this;var T=this._events[E];if(T.fn)T.fn===_&&(!b||T.once)&&(!w||T.context===w)&&h(this,E);else{for(var I=0,C=[],M=T.length;I<M;I++)(T[I].fn!==_||b&&!T[I].once||w&&T[I].context!==w)&&C.push(T[I]);C.length?this._events[E]=C.length===1?C[0]:C:h(this,E)}return this},d.prototype.removeAllListeners=function(g){var _;return g?(_=t?t+g:g,this._events[_]&&h(this,_)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=t,d.EventEmitter=d,r.exports=d}(nm)),nm.exports}var FS=LS();const Hh=zf(FS);var Fd={exports:{}},X0;function OS(){if(X0)return Fd.exports;X0=1,Fd.exports=r,Fd.exports.default=r;function r(B,j,P){P=P||2;var H=j&&j.length,L=H?j[0]*P:B.length,R=e(B,0,L,P,!0),U=[];if(!R||R.next===R.prev)return U;var X,ee,le,de,fe,me,xe;if(H&&(R=p(B,j,R,P)),B.length>80*P){X=le=B[0],ee=de=B[1];for(var ce=P;ce<L;ce+=P)fe=B[ce],me=B[ce+1],fe<X&&(X=fe),me<ee&&(ee=me),fe>le&&(le=fe),me>de&&(de=me);xe=Math.max(le-X,de-ee),xe=xe!==0?32767/xe:0}return n(R,U,P,X,ee,xe,0),U}function e(B,j,P,H,L){var R,U;if(L===Se(B,j,P,H)>0)for(R=j;R<P;R+=H)U=K(R,B[R],B[R+1],U);else for(R=P-H;R>=j;R-=H)U=K(R,B[R],B[R+1],U);return U&&G(U,U.next)&&(ie(U),U=U.next),U}function t(B,j){if(!B)return B;j||(j=B);var P=B,H;do if(H=!1,!P.steiner&&(G(P,P.next)||N(P.prev,P,P.next)===0)){if(ie(P),P=j=P.prev,P===P.next)break;H=!0}else P=P.next;while(H||P!==j);return j}function n(B,j,P,H,L,R,U){if(B){!U&&R&&E(B,H,L,R);for(var X=B,ee,le;B.prev!==B.next;){if(ee=B.prev,le=B.next,R?a(B,H,L,R):s(B)){j.push(ee.i/P|0),j.push(B.i/P|0),j.push(le.i/P|0),ie(B),B=le.next,X=le.next;continue}if(B=le,B===X){U?U===1?(B=h(t(B),j,P),n(B,j,P,H,L,R,2)):U===2&&d(B,j,P,H,L,R):n(t(B),j,P,H,L,R,1);break}}}}function s(B){var j=B.prev,P=B,H=B.next;if(N(j,P,H)>=0)return!1;for(var L=j.x,R=P.x,U=H.x,X=j.y,ee=P.y,le=H.y,de=L<R?L<U?L:U:R<U?R:U,fe=X<ee?X<le?X:le:ee<le?ee:le,me=L>R?L>U?L:U:R>U?R:U,xe=X>ee?X>le?X:le:ee>le?ee:le,ce=H.next;ce!==j;){if(ce.x>=de&&ce.x<=me&&ce.y>=fe&&ce.y<=xe&&M(L,X,R,ee,U,le,ce.x,ce.y)&&N(ce.prev,ce,ce.next)>=0)return!1;ce=ce.next}return!0}function a(B,j,P,H){var L=B.prev,R=B,U=B.next;if(N(L,R,U)>=0)return!1;for(var X=L.x,ee=R.x,le=U.x,de=L.y,fe=R.y,me=U.y,xe=X<ee?X<le?X:le:ee<le?ee:le,ce=de<fe?de<me?de:me:fe<me?fe:me,Pe=X>ee?X>le?X:le:ee>le?ee:le,Re=de>fe?de>me?de:me:fe>me?fe:me,He=I(xe,ce,j,P,H),dt=I(Pe,Re,j,P,H),Ve=B.prevZ,We=B.nextZ;Ve&&Ve.z>=He&&We&&We.z<=dt;){if(Ve.x>=xe&&Ve.x<=Pe&&Ve.y>=ce&&Ve.y<=Re&&Ve!==L&&Ve!==U&&M(X,de,ee,fe,le,me,Ve.x,Ve.y)&&N(Ve.prev,Ve,Ve.next)>=0||(Ve=Ve.prevZ,We.x>=xe&&We.x<=Pe&&We.y>=ce&&We.y<=Re&&We!==L&&We!==U&&M(X,de,ee,fe,le,me,We.x,We.y)&&N(We.prev,We,We.next)>=0))return!1;We=We.nextZ}for(;Ve&&Ve.z>=He;){if(Ve.x>=xe&&Ve.x<=Pe&&Ve.y>=ce&&Ve.y<=Re&&Ve!==L&&Ve!==U&&M(X,de,ee,fe,le,me,Ve.x,Ve.y)&&N(Ve.prev,Ve,Ve.next)>=0)return!1;Ve=Ve.prevZ}for(;We&&We.z<=dt;){if(We.x>=xe&&We.x<=Pe&&We.y>=ce&&We.y<=Re&&We!==L&&We!==U&&M(X,de,ee,fe,le,me,We.x,We.y)&&N(We.prev,We,We.next)>=0)return!1;We=We.nextZ}return!0}function h(B,j,P){var H=B;do{var L=H.prev,R=H.next.next;!G(L,R)&&O(L,H,H.next,R)&&ue(L,R)&&ue(R,L)&&(j.push(L.i/P|0),j.push(H.i/P|0),j.push(R.i/P|0),ie(H),ie(H.next),H=B=R),H=H.next}while(H!==B);return t(H)}function d(B,j,P,H,L,R){var U=B;do{for(var X=U.next.next;X!==U.prev;){if(U.i!==X.i&&z(U,X)){var ee=Te(U,X);U=t(U,U.next),ee=t(ee,ee.next),n(U,j,P,H,L,R,0),n(ee,j,P,H,L,R,0);return}X=X.next}U=U.next}while(U!==B)}function p(B,j,P,H){var L=[],R,U,X,ee,le;for(R=0,U=j.length;R<U;R++)X=j[R]*H,ee=R<U-1?j[R+1]*H:B.length,le=e(B,X,ee,H,!1),le===le.next&&(le.steiner=!0),L.push(C(le));for(L.sort(g),R=0;R<L.length;R++)P=_(L[R],P);return P}function g(B,j){return B.x-j.x}function _(B,j){var P=w(B,j);if(!P)return j;var H=Te(P,B);return t(H,H.next),t(P,P.next)}function w(B,j){var P=j,H=B.x,L=B.y,R=-1/0,U;do{if(L<=P.y&&L>=P.next.y&&P.next.y!==P.y){var X=P.x+(L-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(X<=H&&X>R&&(R=X,U=P.x<P.next.x?P:P.next,X===H))return U}P=P.next}while(P!==j);if(!U)return null;var ee=U,le=U.x,de=U.y,fe=1/0,me;P=U;do H>=P.x&&P.x>=le&&H!==P.x&&M(L<de?H:R,L,le,de,L<de?R:H,L,P.x,P.y)&&(me=Math.abs(L-P.y)/(H-P.x),ue(P,B)&&(me<fe||me===fe&&(P.x>U.x||P.x===U.x&&b(U,P)))&&(U=P,fe=me)),P=P.next;while(P!==ee);return U}function b(B,j){return N(B.prev,B,j.prev)<0&&N(j.next,B,B.next)<0}function E(B,j,P,H){var L=B;do L.z===0&&(L.z=I(L.x,L.y,j,P,H)),L.prevZ=L.prev,L.nextZ=L.next,L=L.next;while(L!==B);L.prevZ.nextZ=null,L.prevZ=null,T(L)}function T(B){var j,P,H,L,R,U,X,ee,le=1;do{for(P=B,B=null,R=null,U=0;P;){for(U++,H=P,X=0,j=0;j<le&&(X++,H=H.nextZ,!!H);j++);for(ee=le;X>0||ee>0&&H;)X!==0&&(ee===0||!H||P.z<=H.z)?(L=P,P=P.nextZ,X--):(L=H,H=H.nextZ,ee--),R?R.nextZ=L:B=L,L.prevZ=R,R=L;P=H}R.nextZ=null,le*=2}while(U>1);return B}function I(B,j,P,H,L){return B=(B-P)*L|0,j=(j-H)*L|0,B=(B|B<<8)&16711935,B=(B|B<<4)&252645135,B=(B|B<<2)&858993459,B=(B|B<<1)&1431655765,j=(j|j<<8)&16711935,j=(j|j<<4)&252645135,j=(j|j<<2)&858993459,j=(j|j<<1)&1431655765,B|j<<1}function C(B){var j=B,P=B;do(j.x<P.x||j.x===P.x&&j.y<P.y)&&(P=j),j=j.next;while(j!==B);return P}function M(B,j,P,H,L,R,U,X){return(L-U)*(j-X)>=(B-U)*(R-X)&&(B-U)*(H-X)>=(P-U)*(j-X)&&(P-U)*(R-X)>=(L-U)*(H-X)}function z(B,j){return B.next.i!==j.i&&B.prev.i!==j.i&&!Z(B,j)&&(ue(B,j)&&ue(j,B)&&ye(B,j)&&(N(B.prev,B,j.prev)||N(B,j.prev,j))||G(B,j)&&N(B.prev,B,B.next)>0&&N(j.prev,j,j.next)>0)}function N(B,j,P){return(j.y-B.y)*(P.x-j.x)-(j.x-B.x)*(P.y-j.y)}function G(B,j){return B.x===j.x&&B.y===j.y}function O(B,j,P,H){var L=F(N(B,j,P)),R=F(N(B,j,H)),U=F(N(P,H,B)),X=F(N(P,H,j));return!!(L!==R&&U!==X||L===0&&V(B,P,j)||R===0&&V(B,H,j)||U===0&&V(P,B,H)||X===0&&V(P,j,H))}function V(B,j,P){return j.x<=Math.max(B.x,P.x)&&j.x>=Math.min(B.x,P.x)&&j.y<=Math.max(B.y,P.y)&&j.y>=Math.min(B.y,P.y)}function F(B){return B>0?1:B<0?-1:0}function Z(B,j){var P=B;do{if(P.i!==B.i&&P.next.i!==B.i&&P.i!==j.i&&P.next.i!==j.i&&O(P,P.next,B,j))return!0;P=P.next}while(P!==B);return!1}function ue(B,j){return N(B.prev,B,B.next)<0?N(B,j,B.next)>=0&&N(B,B.prev,j)>=0:N(B,j,B.prev)<0||N(B,B.next,j)<0}function ye(B,j){var P=B,H=!1,L=(B.x+j.x)/2,R=(B.y+j.y)/2;do P.y>R!=P.next.y>R&&P.next.y!==P.y&&L<(P.next.x-P.x)*(R-P.y)/(P.next.y-P.y)+P.x&&(H=!H),P=P.next;while(P!==B);return H}function Te(B,j){var P=new he(B.i,B.x,B.y),H=new he(j.i,j.x,j.y),L=B.next,R=j.prev;return B.next=j,j.prev=B,P.next=L,L.prev=P,H.next=P,P.prev=H,R.next=H,H.prev=R,H}function K(B,j,P,H){var L=new he(B,j,P);return H?(L.next=H.next,L.prev=H,H.next.prev=L,H.next=L):(L.prev=L,L.next=L),L}function ie(B){B.next.prev=B.prev,B.prev.next=B.next,B.prevZ&&(B.prevZ.nextZ=B.nextZ),B.nextZ&&(B.nextZ.prevZ=B.prevZ)}function he(B,j,P){this.i=B,this.x=j,this.y=P,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}r.deviation=function(B,j,P,H){var L=j&&j.length,R=L?j[0]*P:B.length,U=Math.abs(Se(B,0,R,P));if(L)for(var X=0,ee=j.length;X<ee;X++){var le=j[X]*P,de=X<ee-1?j[X+1]*P:B.length;U-=Math.abs(Se(B,le,de,P))}var fe=0;for(X=0;X<H.length;X+=3){var me=H[X]*P,xe=H[X+1]*P,ce=H[X+2]*P;fe+=Math.abs((B[me]-B[ce])*(B[xe+1]-B[me+1])-(B[me]-B[xe])*(B[ce+1]-B[me+1]))}return U===0&&fe===0?0:Math.abs((fe-U)/U)};function Se(B,j,P,H){for(var L=0,R=j,U=P-H;R<P;R+=H)L+=(B[U]-B[R])*(B[R+1]+B[U+1]),U=R;return L}return r.flatten=function(B){for(var j=B[0][0].length,P={vertices:[],holes:[],dimensions:j},H=0,L=0;L<B.length;L++){for(var R=0;R<B[L].length;R++)for(var U=0;U<j;U++)P.vertices.push(B[L][R][U]);L>0&&(H+=B[L-1].length,P.holes.push(H))}return P},Fd.exports}var DS=OS();const BS=zf(DS);var Tl={},Sh={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */var US=Sh.exports,Y0;function zS(){return Y0||(Y0=1,function(r,e){(function(t){var n=e&&!e.nodeType&&e,s=!r.nodeType&&r,a=typeof yf=="object"&&yf;(a.global===a||a.window===a||a.self===a)&&(t=a);var h,d=2147483647,p=36,g=1,_=26,w=38,b=700,E=72,T=128,I="-",C=/^xn--/,M=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},G=p-g,O=Math.floor,V=String.fromCharCode,F;function Z(L){throw new RangeError(N[L])}function ue(L,R){for(var U=L.length,X=[];U--;)X[U]=R(L[U]);return X}function ye(L,R){var U=L.split("@"),X="";U.length>1&&(X=U[0]+"@",L=U[1]),L=L.replace(z,".");var ee=L.split("."),le=ue(ee,R).join(".");return X+le}function Te(L){for(var R=[],U=0,X=L.length,ee,le;U<X;)ee=L.charCodeAt(U++),ee>=55296&&ee<=56319&&U<X?(le=L.charCodeAt(U++),(le&64512)==56320?R.push(((ee&1023)<<10)+(le&1023)+65536):(R.push(ee),U--)):R.push(ee);return R}function K(L){return ue(L,function(R){var U="";return R>65535&&(R-=65536,U+=V(R>>>10&1023|55296),R=56320|R&1023),U+=V(R),U}).join("")}function ie(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:p}function he(L,R){return L+22+75*(L<26)-((R!=0)<<5)}function Se(L,R,U){var X=0;for(L=U?O(L/b):L>>1,L+=O(L/R);L>G*_>>1;X+=p)L=O(L/G);return O(X+(G+1)*L/(L+w))}function B(L){var R=[],U=L.length,X,ee=0,le=T,de=E,fe,me,xe,ce,Pe,Re,He,dt,Ve;for(fe=L.lastIndexOf(I),fe<0&&(fe=0),me=0;me<fe;++me)L.charCodeAt(me)>=128&&Z("not-basic"),R.push(L.charCodeAt(me));for(xe=fe>0?fe+1:0;xe<U;){for(ce=ee,Pe=1,Re=p;xe>=U&&Z("invalid-input"),He=ie(L.charCodeAt(xe++)),(He>=p||He>O((d-ee)/Pe))&&Z("overflow"),ee+=He*Pe,dt=Re<=de?g:Re>=de+_?_:Re-de,!(He<dt);Re+=p)Ve=p-dt,Pe>O(d/Ve)&&Z("overflow"),Pe*=Ve;X=R.length+1,de=Se(ee-ce,X,ce==0),O(ee/X)>d-le&&Z("overflow"),le+=O(ee/X),ee%=X,R.splice(ee++,0,le)}return K(R)}function j(L){var R,U,X,ee,le,de,fe,me,xe,ce,Pe,Re=[],He,dt,Ve,We;for(L=Te(L),He=L.length,R=T,U=0,le=E,de=0;de<He;++de)Pe=L[de],Pe<128&&Re.push(V(Pe));for(X=ee=Re.length,ee&&Re.push(I);X<He;){for(fe=d,de=0;de<He;++de)Pe=L[de],Pe>=R&&Pe<fe&&(fe=Pe);for(dt=X+1,fe-R>O((d-U)/dt)&&Z("overflow"),U+=(fe-R)*dt,R=fe,de=0;de<He;++de)if(Pe=L[de],Pe<R&&++U>d&&Z("overflow"),Pe==R){for(me=U,xe=p;ce=xe<=le?g:xe>=le+_?_:xe-le,!(me<ce);xe+=p)We=me-ce,Ve=p-ce,Re.push(V(he(ce+We%Ve,0))),me=O(We/Ve);Re.push(V(he(me,0))),le=Se(U,dt,X==ee),U=0,++X}++U,++R}return Re.join("")}function P(L){return ye(L,function(R){return C.test(R)?B(R.slice(4).toLowerCase()):R})}function H(L){return ye(L,function(R){return M.test(R)?"xn--"+j(R):R})}if(h={version:"1.4.1",ucs2:{decode:Te,encode:K},decode:B,encode:j,toASCII:H,toUnicode:P},n&&s)if(r.exports==n)s.exports=h;else for(F in h)h.hasOwnProperty(F)&&(n[F]=h[F]);else t.punycode=h})(US)}(Sh,Sh.exports)),Sh.exports}var im,q0;function fc(){return q0||(q0=1,im=TypeError),im}const GS={},jS=Object.freeze(Object.defineProperty({__proto__:null,default:GS},Symbol.toStringTag,{value:"Module"})),HS=V1(jS);var sm,Q0;function Xf(){if(Q0)return sm;Q0=1;var r=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=r&&e&&typeof e.get=="function"?e.get:null,n=r&&Map.prototype.forEach,s=typeof Set=="function"&&Set.prototype,a=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,h=s&&a&&typeof a.get=="function"?a.get:null,d=s&&Set.prototype.forEach,p=typeof WeakMap=="function"&&WeakMap.prototype,g=p?WeakMap.prototype.has:null,_=typeof WeakSet=="function"&&WeakSet.prototype,w=_?WeakSet.prototype.has:null,b=typeof WeakRef=="function"&&WeakRef.prototype,E=b?WeakRef.prototype.deref:null,T=Boolean.prototype.valueOf,I=Object.prototype.toString,C=Function.prototype.toString,M=String.prototype.match,z=String.prototype.slice,N=String.prototype.replace,G=String.prototype.toUpperCase,O=String.prototype.toLowerCase,V=RegExp.prototype.test,F=Array.prototype.concat,Z=Array.prototype.join,ue=Array.prototype.slice,ye=Math.floor,Te=typeof BigInt=="function"?BigInt.prototype.valueOf:null,K=Object.getOwnPropertySymbols,ie=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,he=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Se=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===he||!0)?Symbol.toStringTag:null,B=Object.prototype.propertyIsEnumerable,j=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(re){return re.__proto__}:null);function P(re,se){if(re===1/0||re===-1/0||re!==re||re&&re>-1e3&&re<1e3||V.call(/e/,se))return se;var lt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof re=="number"){var bt=re<0?-ye(-re):ye(re);if(bt!==re){var At=String(bt),nt=z.call(se,At.length+1);return N.call(At,lt,"$&_")+"."+N.call(N.call(nt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return N.call(se,lt,"$&_")}var H=HS,L=H.custom,R=He(L)?L:null,U={__proto__:null,double:'"',single:"'"},X={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};sm=function re(se,lt,bt,At){var nt=lt||{};if(We(nt,"quoteStyle")&&!We(U,nt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(We(nt,"maxStringLength")&&(typeof nt.maxStringLength=="number"?nt.maxStringLength<0&&nt.maxStringLength!==1/0:nt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Br=We(nt,"customInspect")?nt.customInspect:!0;if(typeof Br!="boolean"&&Br!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(We(nt,"indent")&&nt.indent!==null&&nt.indent!=="	"&&!(parseInt(nt.indent,10)===nt.indent&&nt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(We(nt,"numericSeparator")&&typeof nt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var $r=nt.numericSeparator;if(typeof se>"u")return"undefined";if(se===null)return"null";if(typeof se=="boolean")return se?"true":"false";if(typeof se=="string")return Aa(se,nt);if(typeof se=="number"){if(se===0)return 1/0/se>0?"0":"-0";var Cr=String(se);return $r?P(se,Cr):Cr}if(typeof se=="bigint"){var mn=String(se)+"n";return $r?P(se,mn):mn}var Fs=typeof nt.depth>"u"?5:nt.depth;if(typeof bt>"u"&&(bt=0),bt>=Fs&&Fs>0&&typeof se=="object")return de(se)?"[Array]":"[Object]";var xi=gc(nt,bt);if(typeof At>"u")At=[];else if(Un(At,se)>=0)return"[Circular]";function Pr(ns,Us,ql){if(Us&&(At=ue.call(At),At.push(Us)),ql){var Ra={depth:nt.depth};return We(nt,"quoteStyle")&&(Ra.quoteStyle=nt.quoteStyle),re(ns,Ra,bt+1,At)}return re(ns,nt,bt+1,At)}if(typeof se=="function"&&!me(se)){var Os=Yt(se),bo=Ls(se,Pr);return"[Function"+(Os?": "+Os:" (anonymous)")+"]"+(bo.length>0?" { "+Z.call(bo,", ")+" }":"")}if(He(se)){var ts=he?N.call(String(se),/^(Symbol\(.*\))_[^)]*$/,"$1"):ie.call(se);return typeof se=="object"&&!he?ti(ts):ts}if(Wl(se)){for(var wi="<"+O.call(String(se.nodeName)),Si=se.attributes||[],Ds=0;Ds<Si.length;Ds++)wi+=" "+Si[Ds].name+"="+ee(le(Si[Ds].value),"double",nt);return wi+=">",se.childNodes&&se.childNodes.length&&(wi+="..."),wi+="</"+O.call(String(se.nodeName))+">",wi}if(de(se)){if(se.length===0)return"[]";var zn=Ls(se,Pr);return xi&&!Ns(zn)?"["+So(zn,xi)+"]":"[ "+Z.call(zn,", ")+" ]"}if(xe(se)){var rs=Ls(se,Pr);return!("cause"in Error.prototype)&&"cause"in se&&!B.call(se,"cause")?"{ ["+String(se)+"] "+Z.call(F.call("[cause]: "+Pr(se.cause),rs),", ")+" }":rs.length===0?"["+String(se)+"]":"{ ["+String(se)+"] "+Z.call(rs,", ")+" }"}if(typeof se=="object"&&Br){if(R&&typeof se[R]=="function"&&H)return H(se,{depth:Fs-bt});if(Br!=="symbol"&&typeof se.inspect=="function")return se.inspect()}if(Ar(se)){var Bs=[];return n&&n.call(se,function(ns,Us){Bs.push(Pr(Us,se,!0)+" => "+Pr(ns,se))}),es("Map",t.call(se),Bs,xi)}if(Vl(se)){var bi=[];return d&&d.call(se,function(ns){bi.push(Pr(ns,se))}),es("Set",h.call(se),bi,xi)}if(rn(se))return wo("WeakMap");if(Ji(se))return wo("WeakSet");if(Ta(se))return wo("WeakRef");if(Pe(se))return ti(Pr(Number(se)));if(dt(se))return ti(Pr(Te.call(se)));if(Re(se))return ti(T.call(se));if(ce(se))return ti(Pr(String(se)));if(typeof window<"u"&&se===window)return"{ [object Window] }";if(typeof globalThis<"u"&&se===globalThis||typeof yf<"u"&&se===yf)return"{ [object globalThis] }";if(!fe(se)&&!me(se)){var Pa=Ls(se,Pr),Xl=j?j(se)===Object.prototype:se instanceof Object||se.constructor===Object,Ia=se instanceof Object?"":"null prototype",ri=!Xl&&Se&&Object(se)===se&&Se in se?z.call(Ot(se),8,-1):Ia?"Object":"",Yl=Xl||typeof se.constructor!="function"?"":se.constructor.name?se.constructor.name+" ":"",Eo=Yl+(ri||Ia?"["+Z.call(F.call([],ri||[],Ia||[]),": ")+"] ":"");return Pa.length===0?Eo+"{}":xi?Eo+"{"+So(Pa,xi)+"}":Eo+"{ "+Z.call(Pa,", ")+" }"}return String(se)};function ee(re,se,lt){var bt=lt.quoteStyle||se,At=U[bt];return At+re+At}function le(re){return N.call(String(re),/"/g,"&quot;")}function de(re){return Ot(re)==="[object Array]"&&(!Se||!(typeof re=="object"&&Se in re))}function fe(re){return Ot(re)==="[object Date]"&&(!Se||!(typeof re=="object"&&Se in re))}function me(re){return Ot(re)==="[object RegExp]"&&(!Se||!(typeof re=="object"&&Se in re))}function xe(re){return Ot(re)==="[object Error]"&&(!Se||!(typeof re=="object"&&Se in re))}function ce(re){return Ot(re)==="[object String]"&&(!Se||!(typeof re=="object"&&Se in re))}function Pe(re){return Ot(re)==="[object Number]"&&(!Se||!(typeof re=="object"&&Se in re))}function Re(re){return Ot(re)==="[object Boolean]"&&(!Se||!(typeof re=="object"&&Se in re))}function He(re){if(he)return re&&typeof re=="object"&&re instanceof Symbol;if(typeof re=="symbol")return!0;if(!re||typeof re!="object"||!ie)return!1;try{return ie.call(re),!0}catch{}return!1}function dt(re){if(!re||typeof re!="object"||!Te)return!1;try{return Te.call(re),!0}catch{}return!1}var Ve=Object.prototype.hasOwnProperty||function(re){return re in this};function We(re,se){return Ve.call(re,se)}function Ot(re){return I.call(re)}function Yt(re){if(re.name)return re.name;var se=M.call(C.call(re),/^function\s*([\w$]+)/);return se?se[1]:null}function Un(re,se){if(re.indexOf)return re.indexOf(se);for(var lt=0,bt=re.length;lt<bt;lt++)if(re[lt]===se)return lt;return-1}function Ar(re){if(!t||!re||typeof re!="object")return!1;try{t.call(re);try{h.call(re)}catch{return!0}return re instanceof Map}catch{}return!1}function rn(re){if(!g||!re||typeof re!="object")return!1;try{g.call(re,g);try{w.call(re,w)}catch{return!0}return re instanceof WeakMap}catch{}return!1}function Ta(re){if(!E||!re||typeof re!="object")return!1;try{return E.call(re),!0}catch{}return!1}function Vl(re){if(!h||!re||typeof re!="object")return!1;try{h.call(re);try{t.call(re)}catch{return!0}return re instanceof Set}catch{}return!1}function Ji(re){if(!w||!re||typeof re!="object")return!1;try{w.call(re,w);try{g.call(re,g)}catch{return!0}return re instanceof WeakSet}catch{}return!1}function Wl(re){return!re||typeof re!="object"?!1:typeof HTMLElement<"u"&&re instanceof HTMLElement?!0:typeof re.nodeName=="string"&&typeof re.getAttribute=="function"}function Aa(re,se){if(re.length>se.maxStringLength){var lt=re.length-se.maxStringLength,bt="... "+lt+" more character"+(lt>1?"s":"");return Aa(z.call(re,0,se.maxStringLength),se)+bt}var At=X[se.quoteStyle||"single"];At.lastIndex=0;var nt=N.call(N.call(re,At,"\\$1"),/[\x00-\x1f]/g,Ca);return ee(nt,"single",se)}function Ca(re){var se=re.charCodeAt(0),lt={8:"b",9:"t",10:"n",12:"f",13:"r"}[se];return lt?"\\"+lt:"\\x"+(se<16?"0":"")+G.call(se.toString(16))}function ti(re){return"Object("+re+")"}function wo(re){return re+" { ? }"}function es(re,se,lt,bt){var At=bt?So(lt,bt):Z.call(lt,", ");return re+" ("+se+") {"+At+"}"}function Ns(re){for(var se=0;se<re.length;se++)if(Un(re[se],`
`)>=0)return!1;return!0}function gc(re,se){var lt;if(re.indent==="	")lt="	";else if(typeof re.indent=="number"&&re.indent>0)lt=Z.call(Array(re.indent+1)," ");else return null;return{base:lt,prev:Z.call(Array(se+1),lt)}}function So(re,se){if(re.length===0)return"";var lt=`
`+se.prev+se.base;return lt+Z.call(re,","+lt)+`
`+se.prev}function Ls(re,se){var lt=de(re),bt=[];if(lt){bt.length=re.length;for(var At=0;At<re.length;At++)bt[At]=We(re,At)?se(re[At],re):""}var nt=typeof K=="function"?K(re):[],Br;if(he){Br={};for(var $r=0;$r<nt.length;$r++)Br["$"+nt[$r]]=nt[$r]}for(var Cr in re)We(re,Cr)&&(lt&&String(Number(Cr))===Cr&&Cr<re.length||he&&Br["$"+Cr]instanceof Symbol||(V.call(/[^\w$]/,Cr)?bt.push(se(Cr,re)+": "+se(re[Cr],re)):bt.push(Cr+": "+se(re[Cr],re))));if(typeof K=="function")for(var mn=0;mn<nt.length;mn++)B.call(re,nt[mn])&&bt.push("["+se(nt[mn])+"]: "+se(re[nt[mn]],re));return bt}return sm}var om,K0;function $S(){if(K0)return om;K0=1;var r=Xf(),e=fc(),t=function(d,p,g){for(var _=d,w;(w=_.next)!=null;_=w)if(w.key===p)return _.next=w.next,g||(w.next=d.next,d.next=w),w},n=function(d,p){if(d){var g=t(d,p);return g&&g.value}},s=function(d,p,g){var _=t(d,p);_?_.value=g:d.next={key:p,next:d.next,value:g}},a=function(d,p){return d?!!t(d,p):!1},h=function(d,p){if(d)return t(d,p,!0)};return om=function(){var p,g={assert:function(_){if(!g.has(_))throw new e("Side channel does not contain "+r(_))},delete:function(_){var w=p&&p.next,b=h(p,_);return b&&w&&w===b&&(p=void 0),!!b},get:function(_){return n(p,_)},has:function(_){return a(p,_)},set:function(_,w){p||(p={next:void 0}),s(p,_,w)}};return g},om}var am,Z0;function VS(){return Z0||(Z0=1,am=Object),am}var lm,J0;function WS(){return J0||(J0=1,lm=Error),lm}var um,ev;function XS(){return ev||(ev=1,um=EvalError),um}var cm,tv;function YS(){return tv||(tv=1,cm=RangeError),cm}var hm,rv;function qS(){return rv||(rv=1,hm=ReferenceError),hm}var dm,nv;function QS(){return nv||(nv=1,dm=SyntaxError),dm}var fm,iv;function KS(){return iv||(iv=1,fm=URIError),fm}var pm,sv;function ZS(){return sv||(sv=1,pm=Math.abs),pm}var mm,ov;function JS(){return ov||(ov=1,mm=Math.floor),mm}var gm,av;function eb(){return av||(av=1,gm=Math.max),gm}var ym,lv;function tb(){return lv||(lv=1,ym=Math.min),ym}var vm,uv;function rb(){return uv||(uv=1,vm=Math.pow),vm}var _m,cv;function nb(){return cv||(cv=1,_m=Object.getOwnPropertyDescriptor),_m}var xm,hv;function y_(){if(hv)return xm;hv=1;var r=nb();if(r)try{r([],"length")}catch{r=null}return xm=r,xm}var wm,dv;function ib(){if(dv)return wm;dv=1;var r=Object.defineProperty||!1;if(r)try{r({},"a",{value:1})}catch{r=!1}return wm=r,wm}var Sm,fv;function sb(){return fv||(fv=1,Sm=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var s=42;e[t]=s;for(var a in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var h=Object.getOwnPropertySymbols(e);if(h.length!==1||h[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var d=Object.getOwnPropertyDescriptor(e,t);if(d.value!==s||d.enumerable!==!0)return!1}return!0}),Sm}var bm,pv;function ob(){if(pv)return bm;pv=1;var r=typeof Symbol<"u"&&Symbol,e=sb();return bm=function(){return typeof r!="function"||typeof Symbol!="function"||typeof r("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},bm}var Em,mv;function ab(){if(mv)return Em;mv=1;var r="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,n="[object Function]",s=function(p,g){for(var _=[],w=0;w<p.length;w+=1)_[w]=p[w];for(var b=0;b<g.length;b+=1)_[b+p.length]=g[b];return _},a=function(p,g){for(var _=[],w=g,b=0;w<p.length;w+=1,b+=1)_[b]=p[w];return _},h=function(d,p){for(var g="",_=0;_<d.length;_+=1)g+=d[_],_+1<d.length&&(g+=p);return g};return Em=function(p){var g=this;if(typeof g!="function"||e.apply(g)!==n)throw new TypeError(r+g);for(var _=a(arguments,1),w,b=function(){if(this instanceof w){var M=g.apply(this,s(_,arguments));return Object(M)===M?M:this}return g.apply(p,s(_,arguments))},E=t(0,g.length-_.length),T=[],I=0;I<E;I++)T[I]="$"+I;if(w=Function("binder","return function ("+h(T,",")+"){ return binder.apply(this,arguments); }")(b),g.prototype){var C=function(){};C.prototype=g.prototype,w.prototype=new C,C.prototype=null}return w},Em}var Tm,gv;function Yf(){if(gv)return Tm;gv=1;var r=ab();return Tm=Function.prototype.bind||r,Tm}var Am,yv;function _y(){return yv||(yv=1,Am=Function.prototype.call),Am}var Cm,vv;function v_(){return vv||(vv=1,Cm=Function.prototype.apply),Cm}var Pm,_v;function lb(){return _v||(_v=1,Pm=typeof Reflect<"u"&&Reflect&&Reflect.apply),Pm}var Im,xv;function ub(){if(xv)return Im;xv=1;var r=Yf(),e=v_(),t=_y(),n=lb();return Im=n||r.call(t,e),Im}var Rm,wv;function __(){if(wv)return Rm;wv=1;var r=Yf(),e=fc(),t=_y(),n=ub();return Rm=function(a){if(a.length<1||typeof a[0]!="function")throw new e("a function is required");return n(r,t,a)},Rm}var km,Sv;function cb(){if(Sv)return km;Sv=1;var r=__(),e=y_(),t;try{t=[].__proto__===Array.prototype}catch(h){if(!h||typeof h!="object"||!("code"in h)||h.code!=="ERR_PROTO_ACCESS")throw h}var n=!!t&&e&&e(Object.prototype,"__proto__"),s=Object,a=s.getPrototypeOf;return km=n&&typeof n.get=="function"?r([n.get]):typeof a=="function"?function(d){return a(d==null?d:s(d))}:!1,km}var Mm,bv;function hb(){if(bv)return Mm;bv=1;var r=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Yf();return Mm=t.call(r,e),Mm}var Nm,Ev;function xy(){if(Ev)return Nm;Ev=1;var r,e=VS(),t=WS(),n=XS(),s=YS(),a=qS(),h=QS(),d=fc(),p=KS(),g=ZS(),_=JS(),w=eb(),b=tb(),E=rb(),T=Function,I=function(de){try{return T('"use strict"; return ('+de+").constructor;")()}catch{}},C=y_(),M=ib(),z=function(){throw new d},N=C?function(){try{return arguments.callee,z}catch{try{return C(arguments,"callee").get}catch{return z}}}():z,G=ob()(),O=cb(),V=typeof Reflect=="function"&&Reflect.getPrototypeOf||e.getPrototypeOf||O,F=v_(),Z=_y(),ue={},ye=typeof Uint8Array>"u"||!V?r:V(Uint8Array),Te={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?r:ArrayBuffer,"%ArrayIteratorPrototype%":G&&V?V([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":ue,"%AsyncGenerator%":ue,"%AsyncGeneratorFunction%":ue,"%AsyncIteratorPrototype%":ue,"%Atomics%":typeof Atomics>"u"?r:Atomics,"%BigInt%":typeof BigInt>"u"?r:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?r:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float32Array%":typeof Float32Array>"u"?r:Float32Array,"%Float64Array%":typeof Float64Array>"u"?r:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?r:FinalizationRegistry,"%Function%":T,"%GeneratorFunction%":ue,"%Int8Array%":typeof Int8Array>"u"?r:Int8Array,"%Int16Array%":typeof Int16Array>"u"?r:Int16Array,"%Int32Array%":typeof Int32Array>"u"?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":G&&V?V(V([][Symbol.iterator]())):r,"%JSON%":typeof JSON=="object"?JSON:r,"%Map%":typeof Map>"u"?r:Map,"%MapIteratorPrototype%":typeof Map>"u"||!G||!V?r:V(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":C,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?r:Promise,"%Proxy%":typeof Proxy>"u"?r:Proxy,"%RangeError%":s,"%ReferenceError%":a,"%Reflect%":typeof Reflect>"u"?r:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?r:Set,"%SetIteratorPrototype%":typeof Set>"u"||!G||!V?r:V(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":G&&V?V(""[Symbol.iterator]()):r,"%Symbol%":G?Symbol:r,"%SyntaxError%":h,"%ThrowTypeError%":N,"%TypedArray%":ye,"%TypeError%":d,"%Uint8Array%":typeof Uint8Array>"u"?r:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?r:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?r:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?r:Uint32Array,"%URIError%":p,"%WeakMap%":typeof WeakMap>"u"?r:WeakMap,"%WeakRef%":typeof WeakRef>"u"?r:WeakRef,"%WeakSet%":typeof WeakSet>"u"?r:WeakSet,"%Function.prototype.call%":Z,"%Function.prototype.apply%":F,"%Object.defineProperty%":M,"%Math.abs%":g,"%Math.floor%":_,"%Math.max%":w,"%Math.min%":b,"%Math.pow%":E};if(V)try{null.error}catch(de){var K=V(V(de));Te["%Error.prototype%"]=K}var ie=function de(fe){var me;if(fe==="%AsyncFunction%")me=I("async function () {}");else if(fe==="%GeneratorFunction%")me=I("function* () {}");else if(fe==="%AsyncGeneratorFunction%")me=I("async function* () {}");else if(fe==="%AsyncGenerator%"){var xe=de("%AsyncGeneratorFunction%");xe&&(me=xe.prototype)}else if(fe==="%AsyncIteratorPrototype%"){var ce=de("%AsyncGenerator%");ce&&V&&(me=V(ce.prototype))}return Te[fe]=me,me},he={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Se=Yf(),B=hb(),j=Se.call(Z,Array.prototype.concat),P=Se.call(F,Array.prototype.splice),H=Se.call(Z,String.prototype.replace),L=Se.call(Z,String.prototype.slice),R=Se.call(Z,RegExp.prototype.exec),U=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,X=/\\(\\)?/g,ee=function(fe){var me=L(fe,0,1),xe=L(fe,-1);if(me==="%"&&xe!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(xe==="%"&&me!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var ce=[];return H(fe,U,function(Pe,Re,He,dt){ce[ce.length]=He?H(dt,X,"$1"):Re||Pe}),ce},le=function(fe,me){var xe=fe,ce;if(B(he,xe)&&(ce=he[xe],xe="%"+ce[0]+"%"),B(Te,xe)){var Pe=Te[xe];if(Pe===ue&&(Pe=ie(xe)),typeof Pe>"u"&&!me)throw new d("intrinsic "+fe+" exists, but is not available. Please file an issue!");return{alias:ce,name:xe,value:Pe}}throw new h("intrinsic "+fe+" does not exist!")};return Nm=function(fe,me){if(typeof fe!="string"||fe.length===0)throw new d("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof me!="boolean")throw new d('"allowMissing" argument must be a boolean');if(R(/^%?[^%]*%?$/,fe)===null)throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var xe=ee(fe),ce=xe.length>0?xe[0]:"",Pe=le("%"+ce+"%",me),Re=Pe.name,He=Pe.value,dt=!1,Ve=Pe.alias;Ve&&(ce=Ve[0],P(xe,j([0,1],Ve)));for(var We=1,Ot=!0;We<xe.length;We+=1){var Yt=xe[We],Un=L(Yt,0,1),Ar=L(Yt,-1);if((Un==='"'||Un==="'"||Un==="`"||Ar==='"'||Ar==="'"||Ar==="`")&&Un!==Ar)throw new h("property names with quotes must have matching quotes");if((Yt==="constructor"||!Ot)&&(dt=!0),ce+="."+Yt,Re="%"+ce+"%",B(Te,Re))He=Te[Re];else if(He!=null){if(!(Yt in He)){if(!me)throw new d("base intrinsic for "+fe+" exists, but the property is not available.");return}if(C&&We+1>=xe.length){var rn=C(He,Yt);Ot=!!rn,Ot&&"get"in rn&&!("originalValue"in rn.get)?He=rn.get:He=He[Yt]}else Ot=B(He,Yt),He=He[Yt];Ot&&!dt&&(Te[Re]=He)}}return He},Nm}var Lm,Tv;function x_(){if(Tv)return Lm;Tv=1;var r=xy(),e=__(),t=e([r("%String.prototype.indexOf%")]);return Lm=function(s,a){var h=r(s,!!a);return typeof h=="function"&&t(s,".prototype.")>-1?e([h]):h},Lm}var Fm,Av;function w_(){if(Av)return Fm;Av=1;var r=xy(),e=x_(),t=Xf(),n=fc(),s=r("%Map%",!0),a=e("Map.prototype.get",!0),h=e("Map.prototype.set",!0),d=e("Map.prototype.has",!0),p=e("Map.prototype.delete",!0),g=e("Map.prototype.size",!0);return Fm=!!s&&function(){var w,b={assert:function(E){if(!b.has(E))throw new n("Side channel does not contain "+t(E))},delete:function(E){if(w){var T=p(w,E);return g(w)===0&&(w=void 0),T}return!1},get:function(E){if(w)return a(w,E)},has:function(E){return w?d(w,E):!1},set:function(E,T){w||(w=new s),h(w,E,T)}};return b},Fm}var Om,Cv;function db(){if(Cv)return Om;Cv=1;var r=xy(),e=x_(),t=Xf(),n=w_(),s=fc(),a=r("%WeakMap%",!0),h=e("WeakMap.prototype.get",!0),d=e("WeakMap.prototype.set",!0),p=e("WeakMap.prototype.has",!0),g=e("WeakMap.prototype.delete",!0);return Om=a?function(){var w,b,E={assert:function(T){if(!E.has(T))throw new s("Side channel does not contain "+t(T))},delete:function(T){if(a&&T&&(typeof T=="object"||typeof T=="function")){if(w)return g(w,T)}else if(n&&b)return b.delete(T);return!1},get:function(T){return a&&T&&(typeof T=="object"||typeof T=="function")&&w?h(w,T):b&&b.get(T)},has:function(T){return a&&T&&(typeof T=="object"||typeof T=="function")&&w?p(w,T):!!b&&b.has(T)},set:function(T,I){a&&T&&(typeof T=="object"||typeof T=="function")?(w||(w=new a),d(w,T,I)):n&&(b||(b=n()),b.set(T,I))}};return E}:n,Om}var Dm,Pv;function fb(){if(Pv)return Dm;Pv=1;var r=fc(),e=Xf(),t=$S(),n=w_(),s=db(),a=s||n||t;return Dm=function(){var d,p={assert:function(g){if(!p.has(g))throw new r("Side channel does not contain "+e(g))},delete:function(g){return!!d&&d.delete(g)},get:function(g){return d&&d.get(g)},has:function(g){return!!d&&d.has(g)},set:function(g,_){d||(d=a()),d.set(g,_)}};return p},Dm}var Bm,Iv;function wy(){if(Iv)return Bm;Iv=1;var r=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Bm={default:t.RFC3986,formatters:{RFC1738:function(n){return r.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},Bm}var Um,Rv;function S_(){if(Rv)return Um;Rv=1;var r=wy(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n=function(){for(var C=[],M=0;M<256;++M)C.push("%"+((M<16?"0":"")+M.toString(16)).toUpperCase());return C}(),s=function(M){for(;M.length>1;){var z=M.pop(),N=z.obj[z.prop];if(t(N)){for(var G=[],O=0;O<N.length;++O)typeof N[O]<"u"&&G.push(N[O]);z.obj[z.prop]=G}}},a=function(M,z){for(var N=z&&z.plainObjects?{__proto__:null}:{},G=0;G<M.length;++G)typeof M[G]<"u"&&(N[G]=M[G]);return N},h=function C(M,z,N){if(!z)return M;if(typeof z!="object"&&typeof z!="function"){if(t(M))M.push(z);else if(M&&typeof M=="object")(N&&(N.plainObjects||N.allowPrototypes)||!e.call(Object.prototype,z))&&(M[z]=!0);else return[M,z];return M}if(!M||typeof M!="object")return[M].concat(z);var G=M;return t(M)&&!t(z)&&(G=a(M,N)),t(M)&&t(z)?(z.forEach(function(O,V){if(e.call(M,V)){var F=M[V];F&&typeof F=="object"&&O&&typeof O=="object"?M[V]=C(F,O,N):M.push(O)}else M[V]=O}),M):Object.keys(z).reduce(function(O,V){var F=z[V];return e.call(O,V)?O[V]=C(O[V],F,N):O[V]=F,O},G)},d=function(M,z){return Object.keys(z).reduce(function(N,G){return N[G]=z[G],N},M)},p=function(C,M,z){var N=C.replace(/\+/g," ");if(z==="iso-8859-1")return N.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(N)}catch{return N}},g=1024,_=function(M,z,N,G,O){if(M.length===0)return M;var V=M;if(typeof M=="symbol"?V=Symbol.prototype.toString.call(M):typeof M!="string"&&(V=String(M)),N==="iso-8859-1")return escape(V).replace(/%u[0-9a-f]{4}/gi,function(ie){return"%26%23"+parseInt(ie.slice(2),16)+"%3B"});for(var F="",Z=0;Z<V.length;Z+=g){for(var ue=V.length>=g?V.slice(Z,Z+g):V,ye=[],Te=0;Te<ue.length;++Te){var K=ue.charCodeAt(Te);if(K===45||K===46||K===95||K===126||K>=48&&K<=57||K>=65&&K<=90||K>=97&&K<=122||O===r.RFC1738&&(K===40||K===41)){ye[ye.length]=ue.charAt(Te);continue}if(K<128){ye[ye.length]=n[K];continue}if(K<2048){ye[ye.length]=n[192|K>>6]+n[128|K&63];continue}if(K<55296||K>=57344){ye[ye.length]=n[224|K>>12]+n[128|K>>6&63]+n[128|K&63];continue}Te+=1,K=65536+((K&1023)<<10|ue.charCodeAt(Te)&1023),ye[ye.length]=n[240|K>>18]+n[128|K>>12&63]+n[128|K>>6&63]+n[128|K&63]}F+=ye.join("")}return F},w=function(M){for(var z=[{obj:{o:M},prop:"o"}],N=[],G=0;G<z.length;++G)for(var O=z[G],V=O.obj[O.prop],F=Object.keys(V),Z=0;Z<F.length;++Z){var ue=F[Z],ye=V[ue];typeof ye=="object"&&ye!==null&&N.indexOf(ye)===-1&&(z.push({obj:V,prop:ue}),N.push(ye))}return s(z),M},b=function(M){return Object.prototype.toString.call(M)==="[object RegExp]"},E=function(M){return!M||typeof M!="object"?!1:!!(M.constructor&&M.constructor.isBuffer&&M.constructor.isBuffer(M))},T=function(M,z){return[].concat(M,z)},I=function(M,z){if(t(M)){for(var N=[],G=0;G<M.length;G+=1)N.push(z(M[G]));return N}return z(M)};return Um={arrayToObject:a,assign:d,combine:T,compact:w,decode:p,encode:_,isBuffer:E,isRegExp:b,maybeMap:I,merge:h},Um}var zm,kv;function pb(){if(kv)return zm;kv=1;var r=fb(),e=S_(),t=wy(),n=Object.prototype.hasOwnProperty,s={brackets:function(C){return C+"[]"},comma:"comma",indices:function(C,M){return C+"["+M+"]"},repeat:function(C){return C}},a=Array.isArray,h=Array.prototype.push,d=function(I,C){h.apply(I,a(C)?C:[C])},p=Date.prototype.toISOString,g=t.default,_={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:g,formatter:t.formatters[g],indices:!1,serializeDate:function(C){return p.call(C)},skipNulls:!1,strictNullHandling:!1},w=function(C){return typeof C=="string"||typeof C=="number"||typeof C=="boolean"||typeof C=="symbol"||typeof C=="bigint"},b={},E=function I(C,M,z,N,G,O,V,F,Z,ue,ye,Te,K,ie,he,Se,B,j){for(var P=C,H=j,L=0,R=!1;(H=H.get(b))!==void 0&&!R;){var U=H.get(C);if(L+=1,typeof U<"u"){if(U===L)throw new RangeError("Cyclic object value");R=!0}typeof H.get(b)>"u"&&(L=0)}if(typeof ue=="function"?P=ue(M,P):P instanceof Date?P=K(P):z==="comma"&&a(P)&&(P=e.maybeMap(P,function(Ve){return Ve instanceof Date?K(Ve):Ve})),P===null){if(O)return Z&&!Se?Z(M,_.encoder,B,"key",ie):M;P=""}if(w(P)||e.isBuffer(P)){if(Z){var X=Se?M:Z(M,_.encoder,B,"key",ie);return[he(X)+"="+he(Z(P,_.encoder,B,"value",ie))]}return[he(M)+"="+he(String(P))]}var ee=[];if(typeof P>"u")return ee;var le;if(z==="comma"&&a(P))Se&&Z&&(P=e.maybeMap(P,Z)),le=[{value:P.length>0?P.join(",")||null:void 0}];else if(a(ue))le=ue;else{var de=Object.keys(P);le=ye?de.sort(ye):de}var fe=F?String(M).replace(/\./g,"%2E"):String(M),me=N&&a(P)&&P.length===1?fe+"[]":fe;if(G&&a(P)&&P.length===0)return me+"[]";for(var xe=0;xe<le.length;++xe){var ce=le[xe],Pe=typeof ce=="object"&&ce&&typeof ce.value<"u"?ce.value:P[ce];if(!(V&&Pe===null)){var Re=Te&&F?String(ce).replace(/\./g,"%2E"):String(ce),He=a(P)?typeof z=="function"?z(me,Re):me:me+(Te?"."+Re:"["+Re+"]");j.set(C,L);var dt=r();dt.set(b,j),d(ee,I(Pe,He,z,N,G,O,V,F,z==="comma"&&Se&&a(P)?null:Z,ue,ye,Te,K,ie,he,Se,B,dt))}}return ee},T=function(C){if(!C)return _;if(typeof C.allowEmptyArrays<"u"&&typeof C.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof C.encodeDotInKeys<"u"&&typeof C.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(C.encoder!==null&&typeof C.encoder<"u"&&typeof C.encoder!="function")throw new TypeError("Encoder has to be a function.");var M=C.charset||_.charset;if(typeof C.charset<"u"&&C.charset!=="utf-8"&&C.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var z=t.default;if(typeof C.format<"u"){if(!n.call(t.formatters,C.format))throw new TypeError("Unknown format option provided.");z=C.format}var N=t.formatters[z],G=_.filter;(typeof C.filter=="function"||a(C.filter))&&(G=C.filter);var O;if(C.arrayFormat in s?O=C.arrayFormat:"indices"in C?O=C.indices?"indices":"repeat":O=_.arrayFormat,"commaRoundTrip"in C&&typeof C.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var V=typeof C.allowDots>"u"?C.encodeDotInKeys===!0?!0:_.allowDots:!!C.allowDots;return{addQueryPrefix:typeof C.addQueryPrefix=="boolean"?C.addQueryPrefix:_.addQueryPrefix,allowDots:V,allowEmptyArrays:typeof C.allowEmptyArrays=="boolean"?!!C.allowEmptyArrays:_.allowEmptyArrays,arrayFormat:O,charset:M,charsetSentinel:typeof C.charsetSentinel=="boolean"?C.charsetSentinel:_.charsetSentinel,commaRoundTrip:!!C.commaRoundTrip,delimiter:typeof C.delimiter>"u"?_.delimiter:C.delimiter,encode:typeof C.encode=="boolean"?C.encode:_.encode,encodeDotInKeys:typeof C.encodeDotInKeys=="boolean"?C.encodeDotInKeys:_.encodeDotInKeys,encoder:typeof C.encoder=="function"?C.encoder:_.encoder,encodeValuesOnly:typeof C.encodeValuesOnly=="boolean"?C.encodeValuesOnly:_.encodeValuesOnly,filter:G,format:z,formatter:N,serializeDate:typeof C.serializeDate=="function"?C.serializeDate:_.serializeDate,skipNulls:typeof C.skipNulls=="boolean"?C.skipNulls:_.skipNulls,sort:typeof C.sort=="function"?C.sort:null,strictNullHandling:typeof C.strictNullHandling=="boolean"?C.strictNullHandling:_.strictNullHandling}};return zm=function(I,C){var M=I,z=T(C),N,G;typeof z.filter=="function"?(G=z.filter,M=G("",M)):a(z.filter)&&(G=z.filter,N=G);var O=[];if(typeof M!="object"||M===null)return"";var V=s[z.arrayFormat],F=V==="comma"&&z.commaRoundTrip;N||(N=Object.keys(M)),z.sort&&N.sort(z.sort);for(var Z=r(),ue=0;ue<N.length;++ue){var ye=N[ue],Te=M[ye];z.skipNulls&&Te===null||d(O,E(Te,ye,V,F,z.allowEmptyArrays,z.strictNullHandling,z.skipNulls,z.encodeDotInKeys,z.encode?z.encoder:null,z.filter,z.sort,z.allowDots,z.serializeDate,z.format,z.formatter,z.encodeValuesOnly,z.charset,Z))}var K=O.join(z.delimiter),ie=z.addQueryPrefix===!0?"?":"";return z.charsetSentinel&&(z.charset==="iso-8859-1"?ie+="utf8=%26%2310003%3B&":ie+="utf8=%E2%9C%93&"),K.length>0?ie+K:""},zm}var Gm,Mv;function mb(){if(Mv)return Gm;Mv=1;var r=S_(),e=Object.prototype.hasOwnProperty,t=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},s=function(b){return b.replace(/&#(\d+);/g,function(E,T){return String.fromCharCode(parseInt(T,10))})},a=function(b,E){return b&&typeof b=="string"&&E.comma&&b.indexOf(",")>-1?b.split(","):b},h="utf8=%26%2310003%3B",d="utf8=%E2%9C%93",p=function(E,T){var I={__proto__:null},C=T.ignoreQueryPrefix?E.replace(/^\?/,""):E;C=C.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var M=T.parameterLimit===1/0?void 0:T.parameterLimit,z=C.split(T.delimiter,M),N=-1,G,O=T.charset;if(T.charsetSentinel)for(G=0;G<z.length;++G)z[G].indexOf("utf8=")===0&&(z[G]===d?O="utf-8":z[G]===h&&(O="iso-8859-1"),N=G,G=z.length);for(G=0;G<z.length;++G)if(G!==N){var V=z[G],F=V.indexOf("]="),Z=F===-1?V.indexOf("="):F+1,ue,ye;Z===-1?(ue=T.decoder(V,n.decoder,O,"key"),ye=T.strictNullHandling?null:""):(ue=T.decoder(V.slice(0,Z),n.decoder,O,"key"),ye=r.maybeMap(a(V.slice(Z+1),T),function(K){return T.decoder(K,n.decoder,O,"value")})),ye&&T.interpretNumericEntities&&O==="iso-8859-1"&&(ye=s(String(ye))),V.indexOf("[]=")>-1&&(ye=t(ye)?[ye]:ye);var Te=e.call(I,ue);Te&&T.duplicates==="combine"?I[ue]=r.combine(I[ue],ye):(!Te||T.duplicates==="last")&&(I[ue]=ye)}return I},g=function(b,E,T,I){for(var C=I?E:a(E,T),M=b.length-1;M>=0;--M){var z,N=b[M];if(N==="[]"&&T.parseArrays)z=T.allowEmptyArrays&&(C===""||T.strictNullHandling&&C===null)?[]:[].concat(C);else{z=T.plainObjects?{__proto__:null}:{};var G=N.charAt(0)==="["&&N.charAt(N.length-1)==="]"?N.slice(1,-1):N,O=T.decodeDotInKeys?G.replace(/%2E/g,"."):G,V=parseInt(O,10);!T.parseArrays&&O===""?z={0:C}:!isNaN(V)&&N!==O&&String(V)===O&&V>=0&&T.parseArrays&&V<=T.arrayLimit?(z=[],z[V]=C):O!=="__proto__"&&(z[O]=C)}C=z}return C},_=function(E,T,I,C){if(E){var M=I.allowDots?E.replace(/\.([^.[]+)/g,"[$1]"):E,z=/(\[[^[\]]*])/,N=/(\[[^[\]]*])/g,G=I.depth>0&&z.exec(M),O=G?M.slice(0,G.index):M,V=[];if(O){if(!I.plainObjects&&e.call(Object.prototype,O)&&!I.allowPrototypes)return;V.push(O)}for(var F=0;I.depth>0&&(G=N.exec(M))!==null&&F<I.depth;){if(F+=1,!I.plainObjects&&e.call(Object.prototype,G[1].slice(1,-1))&&!I.allowPrototypes)return;V.push(G[1])}if(G){if(I.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+I.depth+" and strictDepth is true");V.push("["+M.slice(G.index)+"]")}return g(V,T,I,C)}},w=function(E){if(!E)return n;if(typeof E.allowEmptyArrays<"u"&&typeof E.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof E.decodeDotInKeys<"u"&&typeof E.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(E.decoder!==null&&typeof E.decoder<"u"&&typeof E.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof E.charset<"u"&&E.charset!=="utf-8"&&E.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var T=typeof E.charset>"u"?n.charset:E.charset,I=typeof E.duplicates>"u"?n.duplicates:E.duplicates;if(I!=="combine"&&I!=="first"&&I!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var C=typeof E.allowDots>"u"?E.decodeDotInKeys===!0?!0:n.allowDots:!!E.allowDots;return{allowDots:C,allowEmptyArrays:typeof E.allowEmptyArrays=="boolean"?!!E.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof E.allowPrototypes=="boolean"?E.allowPrototypes:n.allowPrototypes,allowSparse:typeof E.allowSparse=="boolean"?E.allowSparse:n.allowSparse,arrayLimit:typeof E.arrayLimit=="number"?E.arrayLimit:n.arrayLimit,charset:T,charsetSentinel:typeof E.charsetSentinel=="boolean"?E.charsetSentinel:n.charsetSentinel,comma:typeof E.comma=="boolean"?E.comma:n.comma,decodeDotInKeys:typeof E.decodeDotInKeys=="boolean"?E.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof E.decoder=="function"?E.decoder:n.decoder,delimiter:typeof E.delimiter=="string"||r.isRegExp(E.delimiter)?E.delimiter:n.delimiter,depth:typeof E.depth=="number"||E.depth===!1?+E.depth:n.depth,duplicates:I,ignoreQueryPrefix:E.ignoreQueryPrefix===!0,interpretNumericEntities:typeof E.interpretNumericEntities=="boolean"?E.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof E.parameterLimit=="number"?E.parameterLimit:n.parameterLimit,parseArrays:E.parseArrays!==!1,plainObjects:typeof E.plainObjects=="boolean"?E.plainObjects:n.plainObjects,strictDepth:typeof E.strictDepth=="boolean"?!!E.strictDepth:n.strictDepth,strictNullHandling:typeof E.strictNullHandling=="boolean"?E.strictNullHandling:n.strictNullHandling}};return Gm=function(b,E){var T=w(E);if(b===""||b===null||typeof b>"u")return T.plainObjects?{__proto__:null}:{};for(var I=typeof b=="string"?p(b,T):b,C=T.plainObjects?{__proto__:null}:{},M=Object.keys(I),z=0;z<M.length;++z){var N=M[z],G=_(N,I[N],T,typeof b=="string");C=r.merge(C,G,T)}return T.allowSparse===!0?C:r.compact(C)},Gm}var jm,Nv;function gb(){if(Nv)return jm;Nv=1;var r=pb(),e=mb(),t=wy();return jm={formats:t,parse:e,stringify:r},jm}var Lv;function yb(){if(Lv)return Tl;Lv=1;var r=zS();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,a=["<",">",'"',"`"," ","\r",`
`,"	"],h=["{","}","|","\\","^","`"].concat(a),d=["'"].concat(h),p=["%","/","?",";","#"].concat(d),g=["/","?","#"],_=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E={javascript:!0,"javascript:":!0},T={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},C=gb();function M(O,V,F){if(O&&typeof O=="object"&&O instanceof e)return O;var Z=new e;return Z.parse(O,V,F),Z}e.prototype.parse=function(O,V,F){if(typeof O!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof O);var Z=O.indexOf("?"),ue=Z!==-1&&Z<O.indexOf("#")?"?":"#",ye=O.split(ue),Te=/\\/g;ye[0]=ye[0].replace(Te,"/"),O=ye.join(ue);var K=O;if(K=K.trim(),!F&&O.split("#").length===1){var ie=s.exec(K);if(ie)return this.path=K,this.href=K,this.pathname=ie[1],ie[2]?(this.search=ie[2],V?this.query=C.parse(this.search.substr(1)):this.query=this.search.substr(1)):V&&(this.search="",this.query={}),this}var he=t.exec(K);if(he){he=he[0];var Se=he.toLowerCase();this.protocol=Se,K=K.substr(he.length)}if(F||he||K.match(/^\/\/[^@/]+@[^@/]+/)){var B=K.substr(0,2)==="//";B&&!(he&&T[he])&&(K=K.substr(2),this.slashes=!0)}if(!T[he]&&(B||he&&!I[he])){for(var j=-1,P=0;P<g.length;P++){var H=K.indexOf(g[P]);H!==-1&&(j===-1||H<j)&&(j=H)}var L,R;j===-1?R=K.lastIndexOf("@"):R=K.lastIndexOf("@",j),R!==-1&&(L=K.slice(0,R),K=K.slice(R+1),this.auth=decodeURIComponent(L)),j=-1;for(var P=0;P<p.length;P++){var H=K.indexOf(p[P]);H!==-1&&(j===-1||H<j)&&(j=H)}j===-1&&(j=K.length),this.host=K.slice(0,j),K=K.slice(j),this.parseHost(),this.hostname=this.hostname||"";var U=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!U)for(var X=this.hostname.split(/\./),P=0,ee=X.length;P<ee;P++){var le=X[P];if(le&&!le.match(w)){for(var de="",fe=0,me=le.length;fe<me;fe++)le.charCodeAt(fe)>127?de+="x":de+=le[fe];if(!de.match(w)){var xe=X.slice(0,P),ce=X.slice(P+1),Pe=le.match(b);Pe&&(xe.push(Pe[1]),ce.unshift(Pe[2])),ce.length&&(K="/"+ce.join(".")+K),this.hostname=xe.join(".");break}}}this.hostname.length>_?this.hostname="":this.hostname=this.hostname.toLowerCase(),U||(this.hostname=r.toASCII(this.hostname));var Re=this.port?":"+this.port:"",He=this.hostname||"";this.host=He+Re,this.href+=this.host,U&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),K[0]!=="/"&&(K="/"+K))}if(!E[Se])for(var P=0,ee=d.length;P<ee;P++){var dt=d[P];if(K.indexOf(dt)!==-1){var Ve=encodeURIComponent(dt);Ve===dt&&(Ve=escape(dt)),K=K.split(dt).join(Ve)}}var We=K.indexOf("#");We!==-1&&(this.hash=K.substr(We),K=K.slice(0,We));var Ot=K.indexOf("?");if(Ot!==-1?(this.search=K.substr(Ot),this.query=K.substr(Ot+1),V&&(this.query=C.parse(this.query)),K=K.slice(0,Ot)):V&&(this.search="",this.query={}),K&&(this.pathname=K),I[Se]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Re=this.pathname||"",Yt=this.search||"";this.path=Re+Yt}return this.href=this.format(),this};function z(O){return typeof O=="string"&&(O=M(O)),O instanceof e?O.format():e.prototype.format.call(O)}e.prototype.format=function(){var O=this.auth||"";O&&(O=encodeURIComponent(O),O=O.replace(/%3A/i,":"),O+="@");var V=this.protocol||"",F=this.pathname||"",Z=this.hash||"",ue=!1,ye="";this.host?ue=O+this.host:this.hostname&&(ue=O+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(ue+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(ye=C.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var Te=this.search||ye&&"?"+ye||"";return V&&V.substr(-1)!==":"&&(V+=":"),this.slashes||(!V||I[V])&&ue!==!1?(ue="//"+(ue||""),F&&F.charAt(0)!=="/"&&(F="/"+F)):ue||(ue=""),Z&&Z.charAt(0)!=="#"&&(Z="#"+Z),Te&&Te.charAt(0)!=="?"&&(Te="?"+Te),F=F.replace(/[?#]/g,function(K){return encodeURIComponent(K)}),Te=Te.replace("#","%23"),V+ue+F+Te+Z};function N(O,V){return M(O,!1,!0).resolve(V)}e.prototype.resolve=function(O){return this.resolveObject(M(O,!1,!0)).format()};function G(O,V){return O?M(O,!1,!0).resolveObject(V):V}return e.prototype.resolveObject=function(O){if(typeof O=="string"){var V=new e;V.parse(O,!1,!0),O=V}for(var F=new e,Z=Object.keys(this),ue=0;ue<Z.length;ue++){var ye=Z[ue];F[ye]=this[ye]}if(F.hash=O.hash,O.href==="")return F.href=F.format(),F;if(O.slashes&&!O.protocol){for(var Te=Object.keys(O),K=0;K<Te.length;K++){var ie=Te[K];ie!=="protocol"&&(F[ie]=O[ie])}return I[F.protocol]&&F.hostname&&!F.pathname&&(F.pathname="/",F.path=F.pathname),F.href=F.format(),F}if(O.protocol&&O.protocol!==F.protocol){if(!I[O.protocol]){for(var he=Object.keys(O),Se=0;Se<he.length;Se++){var B=he[Se];F[B]=O[B]}return F.href=F.format(),F}if(F.protocol=O.protocol,!O.host&&!T[O.protocol]){for(var ee=(O.pathname||"").split("/");ee.length&&!(O.host=ee.shift()););O.host||(O.host=""),O.hostname||(O.hostname=""),ee[0]!==""&&ee.unshift(""),ee.length<2&&ee.unshift(""),F.pathname=ee.join("/")}else F.pathname=O.pathname;if(F.search=O.search,F.query=O.query,F.host=O.host||"",F.auth=O.auth,F.hostname=O.hostname||O.host,F.port=O.port,F.pathname||F.search){var j=F.pathname||"",P=F.search||"";F.path=j+P}return F.slashes=F.slashes||O.slashes,F.href=F.format(),F}var H=F.pathname&&F.pathname.charAt(0)==="/",L=O.host||O.pathname&&O.pathname.charAt(0)==="/",R=L||H||F.host&&O.pathname,U=R,X=F.pathname&&F.pathname.split("/")||[],ee=O.pathname&&O.pathname.split("/")||[],le=F.protocol&&!I[F.protocol];if(le&&(F.hostname="",F.port=null,F.host&&(X[0]===""?X[0]=F.host:X.unshift(F.host)),F.host="",O.protocol&&(O.hostname=null,O.port=null,O.host&&(ee[0]===""?ee[0]=O.host:ee.unshift(O.host)),O.host=null),R=R&&(ee[0]===""||X[0]==="")),L)F.host=O.host||O.host===""?O.host:F.host,F.hostname=O.hostname||O.hostname===""?O.hostname:F.hostname,F.search=O.search,F.query=O.query,X=ee;else if(ee.length)X||(X=[]),X.pop(),X=X.concat(ee),F.search=O.search,F.query=O.query;else if(O.search!=null){if(le){F.host=X.shift(),F.hostname=F.host;var de=F.host&&F.host.indexOf("@")>0?F.host.split("@"):!1;de&&(F.auth=de.shift(),F.hostname=de.shift(),F.host=F.hostname)}return F.search=O.search,F.query=O.query,(F.pathname!==null||F.search!==null)&&(F.path=(F.pathname?F.pathname:"")+(F.search?F.search:"")),F.href=F.format(),F}if(!X.length)return F.pathname=null,F.search?F.path="/"+F.search:F.path=null,F.href=F.format(),F;for(var fe=X.slice(-1)[0],me=(F.host||O.host||X.length>1)&&(fe==="."||fe==="..")||fe==="",xe=0,ce=X.length;ce>=0;ce--)fe=X[ce],fe==="."?X.splice(ce,1):fe===".."?(X.splice(ce,1),xe++):xe&&(X.splice(ce,1),xe--);if(!R&&!U)for(;xe--;xe)X.unshift("..");R&&X[0]!==""&&(!X[0]||X[0].charAt(0)!=="/")&&X.unshift(""),me&&X.join("/").substr(-1)!=="/"&&X.push("");var Pe=X[0]===""||X[0]&&X[0].charAt(0)==="/";if(le){F.hostname=Pe?"":X.length?X.shift():"",F.host=F.hostname;var de=F.host&&F.host.indexOf("@")>0?F.host.split("@"):!1;de&&(F.auth=de.shift(),F.hostname=de.shift(),F.host=F.hostname)}return R=R||F.host&&X.length,R&&!Pe&&X.unshift(""),X.length>0?F.pathname=X.join("/"):(F.pathname=null,F.path=null),(F.pathname!==null||F.search!==null)&&(F.path=(F.pathname?F.pathname:"")+(F.search?F.search:"")),F.auth=O.auth||F.auth,F.slashes=F.slashes||O.slashes,F.href=F.format(),F},e.prototype.parseHost=function(){var O=this.host,V=n.exec(O);V&&(V=V[0],V!==":"&&(this.port=V.substr(1)),O=O.substr(0,O.length-V.length)),O&&(this.hostname=O)},Tl.parse=M,Tl.resolve=N,Tl.resolveObject=G,Tl.format=z,Tl.Url=e,Tl}yb();const Fv={};function St(r,e,t=3){if(Fv[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`):(n=n.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${r}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${r}`),console.warn(n))),Fv[e]=!0}function $i(r){if(typeof r!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(r)}`)}function gh(r){return r.split("?")[0].split("#")[0]}function vb(r){return r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function _b(r,e,t){return r.replace(new RegExp(vb(e),"g"),t)}function xb(r,e){let t="",n=0,s=-1,a=0,h=-1;for(let d=0;d<=r.length;++d){if(d<r.length)h=r.charCodeAt(d);else{if(h===47)break;h=47}if(h===47){if(!(s===d-1||a===1))if(s!==d-1&&a===2){if(t.length<2||n!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){const p=t.lastIndexOf("/");if(p!==t.length-1){p===-1?(t="",n=0):(t=t.slice(0,p),n=t.length-1-t.lastIndexOf("/")),s=d,a=0;continue}}else if(t.length===2||t.length===1){t="",n=0,s=d,a=0;continue}}}else t.length>0?t+=`/${r.slice(s+1,d)}`:t=r.slice(s+1,d),n=d-s-1;s=d,a=0}else h===46&&a!==-1?++a:a=-1}return t}const vi={toPosix(r){return _b(r,"\\","/")},isUrl(r){return/^https?:/.test(this.toPosix(r))},isDataUrl(r){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(r)},isBlobUrl(r){return r.startsWith("blob:")},hasProtocol(r){return/^[^/:]+:/.test(this.toPosix(r))},getProtocol(r){$i(r),r=this.toPosix(r);const e=/^file:\/\/\//.exec(r);if(e)return e[0];const t=/^[^/:]+:\/{0,2}/.exec(r);return t?t[0]:""},toAbsolute(r,e,t){if($i(r),this.isDataUrl(r)||this.isBlobUrl(r))return r;const n=gh(this.toPosix(e??Qe.ADAPTER.getBaseUrl())),s=gh(this.toPosix(t??this.rootname(n)));return r=this.toPosix(r),r.startsWith("/")?vi.join(s,r.slice(1)):this.isAbsolute(r)?r:this.join(n,r)},normalize(r){if($i(r),r.length===0)return".";if(this.isDataUrl(r)||this.isBlobUrl(r))return r;r=this.toPosix(r);let e="";const t=r.startsWith("/");this.hasProtocol(r)&&(e=this.rootname(r),r=r.slice(e.length));const n=r.endsWith("/");return r=xb(r),r.length>0&&n&&(r+="/"),t?`/${r}`:e+r},isAbsolute(r){return $i(r),r=this.toPosix(r),this.hasProtocol(r)?!0:r.startsWith("/")},join(...r){if(r.length===0)return".";let e;for(let t=0;t<r.length;++t){const n=r[t];if($i(n),n.length>0)if(e===void 0)e=n;else{const s=r[t-1]??"";this.joinExtensions.includes(this.extname(s).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(r){if($i(r),r.length===0)return".";r=this.toPosix(r);let e=r.charCodeAt(0);const t=e===47;let n=-1,s=!0;const a=this.getProtocol(r),h=r;r=r.slice(a.length);for(let d=r.length-1;d>=1;--d)if(e=r.charCodeAt(d),e===47){if(!s){n=d;break}}else s=!1;return n===-1?t?"/":this.isUrl(h)?a+r:a:t&&n===1?"//":a+r.slice(0,n)},rootname(r){$i(r),r=this.toPosix(r);let e="";if(r.startsWith("/")?e="/":e=this.getProtocol(r),this.isUrl(r)){const t=r.indexOf("/",e.length);t!==-1?e=r.slice(0,t):e=r,e.endsWith("/")||(e+="/")}return e},basename(r,e){$i(r),e&&$i(e),r=gh(this.toPosix(r));let t=0,n=-1,s=!0,a;if(e!==void 0&&e.length>0&&e.length<=r.length){if(e.length===r.length&&e===r)return"";let h=e.length-1,d=-1;for(a=r.length-1;a>=0;--a){const p=r.charCodeAt(a);if(p===47){if(!s){t=a+1;break}}else d===-1&&(s=!1,d=a+1),h>=0&&(p===e.charCodeAt(h)?--h===-1&&(n=a):(h=-1,n=d))}return t===n?n=d:n===-1&&(n=r.length),r.slice(t,n)}for(a=r.length-1;a>=0;--a)if(r.charCodeAt(a)===47){if(!s){t=a+1;break}}else n===-1&&(s=!1,n=a+1);return n===-1?"":r.slice(t,n)},extname(r){$i(r),r=gh(this.toPosix(r));let e=-1,t=0,n=-1,s=!0,a=0;for(let h=r.length-1;h>=0;--h){const d=r.charCodeAt(h);if(d===47){if(!s){t=h+1;break}continue}n===-1&&(s=!1,n=h+1),d===46?e===-1?e=h:a!==1&&(a=1):e!==-1&&(a=-1)}return e===-1||n===-1||a===0||a===1&&e===n-1&&e===t+1?"":r.slice(e,n)},parse(r){$i(r);const e={root:"",dir:"",base:"",ext:"",name:""};if(r.length===0)return e;r=gh(this.toPosix(r));let t=r.charCodeAt(0);const n=this.isAbsolute(r);let s;e.root=this.rootname(r),n||this.hasProtocol(r)?s=1:s=0;let a=-1,h=0,d=-1,p=!0,g=r.length-1,_=0;for(;g>=s;--g){if(t=r.charCodeAt(g),t===47){if(!p){h=g+1;break}continue}d===-1&&(p=!1,d=g+1),t===46?a===-1?a=g:_!==1&&(_=1):a!==-1&&(_=-1)}return a===-1||d===-1||_===0||_===1&&a===d-1&&a===h+1?d!==-1&&(h===0&&n?e.base=e.name=r.slice(1,d):e.base=e.name=r.slice(h,d)):(h===0&&n?(e.name=r.slice(1,a),e.base=r.slice(1,d)):(e.name=r.slice(h,a),e.base=r.slice(h,d)),e.ext=r.slice(a,d)),e.dir=this.dirname(r),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Hm;async function wb(){return Hm??(Hm=(async()=>{var a;const r=document.createElement("canvas").getContext("webgl");if(!r)return mi.UNPACK;const e=await new Promise(h=>{const d=document.createElement("video");d.onloadeddata=()=>h(d),d.onerror=()=>h(null),d.autoplay=!1,d.crossOrigin="anonymous",d.preload="auto",d.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",d.load()});if(!e)return mi.UNPACK;const t=r.createTexture();r.bindTexture(r.TEXTURE_2D,t);const n=r.createFramebuffer();r.bindFramebuffer(r.FRAMEBUFFER,n),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t,0),r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),r.pixelStorei(r.UNPACK_COLORSPACE_CONVERSION_WEBGL,r.NONE),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,e);const s=new Uint8Array(4);return r.readPixels(0,0,1,1,r.RGBA,r.UNSIGNED_BYTE,s),r.deleteFramebuffer(n),r.deleteTexture(t),(a=r.getExtension("WEBGL_lose_context"))==null||a.loseContext(),s[0]<=s[3]?mi.PMA:mi.UNPACK})()),Hm}let $m;function Sb(){return typeof $m>"u"&&($m=function(){var e;const r={stencil:!0,failIfMajorPerformanceCaveat:Qe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!Qe.ADAPTER.getWebGLRenderingContext())return!1;const t=Qe.ADAPTER.createCanvas();let n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r);const s=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,s}catch{return!1}}()),$m}var bb={grad:.9,turn:360,rad:360/(2*Math.PI)},ho=function(r){return typeof r=="string"?r.length>0:typeof r=="number"},Dr=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=Math.pow(10,e)),Math.round(t*r)/t+0},yi=function(r,e,t){return e===void 0&&(e=0),t===void 0&&(t=1),r>t?t:r>e?r:e},b_=function(r){return(r=isFinite(r)?r%360:0)>0?r:r+360},Ov=function(r){return{r:yi(r.r,0,255),g:yi(r.g,0,255),b:yi(r.b,0,255),a:yi(r.a)}},Vm=function(r){return{r:Dr(r.r),g:Dr(r.g),b:Dr(r.b),a:Dr(r.a,3)}},Eb=/^#([0-9a-f]{3,8})$/i,Od=function(r){var e=r.toString(16);return e.length<2?"0"+e:e},E_=function(r){var e=r.r,t=r.g,n=r.b,s=r.a,a=Math.max(e,t,n),h=a-Math.min(e,t,n),d=h?a===e?(t-n)/h:a===t?2+(n-e)/h:4+(e-t)/h:0;return{h:60*(d<0?d+6:d),s:a?h/a*100:0,v:a/255*100,a:s}},T_=function(r){var e=r.h,t=r.s,n=r.v,s=r.a;e=e/360*6,t/=100,n/=100;var a=Math.floor(e),h=n*(1-t),d=n*(1-(e-a)*t),p=n*(1-(1-e+a)*t),g=a%6;return{r:255*[n,d,h,h,p,n][g],g:255*[p,n,n,d,h,h][g],b:255*[h,h,p,n,n,d][g],a:s}},Dv=function(r){return{h:b_(r.h),s:yi(r.s,0,100),l:yi(r.l,0,100),a:yi(r.a)}},Bv=function(r){return{h:Dr(r.h),s:Dr(r.s),l:Dr(r.l),a:Dr(r.a,3)}},Uv=function(r){return T_((t=(e=r).s,{h:e.h,s:(t*=((n=e.l)<50?n:100-n)/100)>0?2*t/(n+t)*100:0,v:n+t,a:e.a}));var e,t,n},Mh=function(r){return{h:(e=E_(r)).h,s:(s=(200-(t=e.s))*(n=e.v)/100)>0&&s<200?t*n/100/(s<=100?s:200-s)*100:0,l:s/2,a:e.a};var e,t,n,s},Tb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ab=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Cb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Rg={string:[[function(r){var e=Eb.exec(r);return e?(r=e[1]).length<=4?{r:parseInt(r[0]+r[0],16),g:parseInt(r[1]+r[1],16),b:parseInt(r[2]+r[2],16),a:r.length===4?Dr(parseInt(r[3]+r[3],16)/255,2):1}:r.length===6||r.length===8?{r:parseInt(r.substr(0,2),16),g:parseInt(r.substr(2,2),16),b:parseInt(r.substr(4,2),16),a:r.length===8?Dr(parseInt(r.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(r){var e=Cb.exec(r)||Pb.exec(r);return e?e[2]!==e[4]||e[4]!==e[6]?null:Ov({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(r){var e=Tb.exec(r)||Ab.exec(r);if(!e)return null;var t,n,s=Dv({h:(t=e[1],n=e[2],n===void 0&&(n="deg"),Number(t)*(bb[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Uv(s)},"hsl"]],object:[[function(r){var e=r.r,t=r.g,n=r.b,s=r.a,a=s===void 0?1:s;return ho(e)&&ho(t)&&ho(n)?Ov({r:Number(e),g:Number(t),b:Number(n),a:Number(a)}):null},"rgb"],[function(r){var e=r.h,t=r.s,n=r.l,s=r.a,a=s===void 0?1:s;if(!ho(e)||!ho(t)||!ho(n))return null;var h=Dv({h:Number(e),s:Number(t),l:Number(n),a:Number(a)});return Uv(h)},"hsl"],[function(r){var e=r.h,t=r.s,n=r.v,s=r.a,a=s===void 0?1:s;if(!ho(e)||!ho(t)||!ho(n))return null;var h=function(d){return{h:b_(d.h),s:yi(d.s,0,100),v:yi(d.v,0,100),a:yi(d.a)}}({h:Number(e),s:Number(t),v:Number(n),a:Number(a)});return T_(h)},"hsv"]]},zv=function(r,e){for(var t=0;t<e.length;t++){var n=e[t][0](r);if(n)return[n,e[t][1]]}return[null,void 0]},Ib=function(r){return typeof r=="string"?zv(r.trim(),Rg.string):typeof r=="object"&&r!==null?zv(r,Rg.object):[null,void 0]},Wm=function(r,e){var t=Mh(r);return{h:t.h,s:yi(t.s+100*e,0,100),l:t.l,a:t.a}},Xm=function(r){return(299*r.r+587*r.g+114*r.b)/1e3/255},Gv=function(r,e){var t=Mh(r);return{h:t.h,s:t.s,l:yi(t.l+100*e,0,100),a:t.a}},kg=function(){function r(e){this.parsed=Ib(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return r.prototype.isValid=function(){return this.parsed!==null},r.prototype.brightness=function(){return Dr(Xm(this.rgba),2)},r.prototype.isDark=function(){return Xm(this.rgba)<.5},r.prototype.isLight=function(){return Xm(this.rgba)>=.5},r.prototype.toHex=function(){return e=Vm(this.rgba),t=e.r,n=e.g,s=e.b,h=(a=e.a)<1?Od(Dr(255*a)):"","#"+Od(t)+Od(n)+Od(s)+h;var e,t,n,s,a,h},r.prototype.toRgb=function(){return Vm(this.rgba)},r.prototype.toRgbString=function(){return e=Vm(this.rgba),t=e.r,n=e.g,s=e.b,(a=e.a)<1?"rgba("+t+", "+n+", "+s+", "+a+")":"rgb("+t+", "+n+", "+s+")";var e,t,n,s,a},r.prototype.toHsl=function(){return Bv(Mh(this.rgba))},r.prototype.toHslString=function(){return e=Bv(Mh(this.rgba)),t=e.h,n=e.s,s=e.l,(a=e.a)<1?"hsla("+t+", "+n+"%, "+s+"%, "+a+")":"hsl("+t+", "+n+"%, "+s+"%)";var e,t,n,s,a},r.prototype.toHsv=function(){return e=E_(this.rgba),{h:Dr(e.h),s:Dr(e.s),v:Dr(e.v),a:Dr(e.a,3)};var e},r.prototype.invert=function(){return Ss({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},r.prototype.saturate=function(e){return e===void 0&&(e=.1),Ss(Wm(this.rgba,e))},r.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ss(Wm(this.rgba,-e))},r.prototype.grayscale=function(){return Ss(Wm(this.rgba,-1))},r.prototype.lighten=function(e){return e===void 0&&(e=.1),Ss(Gv(this.rgba,e))},r.prototype.darken=function(e){return e===void 0&&(e=.1),Ss(Gv(this.rgba,-e))},r.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},r.prototype.alpha=function(e){return typeof e=="number"?Ss({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):Dr(this.rgba.a,3);var t},r.prototype.hue=function(e){var t=Mh(this.rgba);return typeof e=="number"?Ss({h:e,s:t.s,l:t.l,a:t.a}):Dr(t.h)},r.prototype.isEqual=function(e){return this.toHex()===Ss(e).toHex()},r}(),Ss=function(r){return r instanceof kg?r:new kg(r)},jv=[],Rb=function(r){r.forEach(function(e){jv.indexOf(e)<0&&(e(kg,Rg),jv.push(e))})};function kb(r,e){var t={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var s in t)n[t[s]]=s;var a={};r.prototype.toName=function(h){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var d,p,g=n[this.toHex()];if(g)return g;if(h!=null&&h.closest){var _=this.toRgb(),w=1/0,b="black";if(!a.length)for(var E in t)a[E]=new r(t[E]).toRgb();for(var T in t){var I=(d=_,p=a[T],Math.pow(d.r-p.r,2)+Math.pow(d.g-p.g,2)+Math.pow(d.b-p.b,2));I<w&&(w=I,b=T)}return b}},e.string.push([function(h){var d=h.toLowerCase(),p=d==="transparent"?"#0000":t[d];return p?new r(p).toRgb():null},"name"])}Rb([kb]);const $u=class af{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof af)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const n=typeof e;if(n!==typeof t)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((s,a)=>s===t[a]);if(e!==null&&t!==null){const s=Object.keys(e),a=Object.keys(t);return s.length!==a.length?!1:s.every(h=>e[h]===t[h])}return e===t}toRgba(){const[e,t,n,s]=this._components;return{r:e,g:t,b:n,a:s}}toRgb(){const[e,t,n]=this._components;return{r:e,g:t,b:n}}toRgbaString(){const[e,t,n]=this.toUint8RgbArray();return`rgba(${e},${t},${n},${this.alpha})`}toUint8RgbArray(e){const[t,n,s]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(n*255),e[2]=Math.round(s*255),e}toRgbArray(e){e=e??[];const[t,n,s]=this._components;return e[0]=t,e[1]=n,e[2]=s,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,n,s,a]=af.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=n,this._components[2]*=s,this._components[3]*=a,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let n=this._int>>16&255,s=this._int>>8&255,a=this._int&255;return t&&(n=n*e+.5|0,s=s*e+.5|0,a=a*e+.5|0),(e*255<<24)+(n<<16)+(s<<8)+a}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,n,s]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(s*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[t,n,s,a]=this._components;return e[0]=t,e[1]=n,e[2]=s,e[3]=a,e}normalize(e){let t,n,s,a;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const h=e;t=(h>>16&255)/255,n=(h>>8&255)/255,s=(h&255)/255,a=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,n,s,a=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,n,s,a=255]=e,t/=255,n/=255,s/=255,a/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const d=af.HEX_PATTERN.exec(e);d&&(e=`#${d[2]}`)}const h=Ss(e);h.isValid()&&({r:t,g:n,b:s,a}=h.rgba,t/=255,n/=255,s/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=n,this._components[2]=s,this._components[3]=a,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,n]=this._components;this._int=(e*255<<16)+(t*255<<8)+(n*255|0)}_clamp(e,t=0,n=1){return typeof e=="number"?Math.min(Math.max(e,t),n):(e.forEach((s,a)=>{e[a]=Math.min(Math.max(s,t),n)}),e)}};$u.shared=new $u,$u.temp=new $u,$u.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ar=$u;function Mb(){const r=[],e=[];for(let n=0;n<32;n++)r[n]=n,e[n]=n;r[tt.NORMAL_NPM]=tt.NORMAL,r[tt.ADD_NPM]=tt.ADD,r[tt.SCREEN_NPM]=tt.SCREEN,e[tt.NORMAL]=tt.NORMAL_NPM,e[tt.ADD]=tt.ADD_NPM,e[tt.SCREEN]=tt.SCREEN_NPM;const t=[];return t.push(e),t.push(r),t}const A_=Mb();function C_(r,e){return A_[e?1:0][r]}function Nb(r,e=null){const t=r*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let n=0,s=0;n<t;n+=6,s+=4)e[n+0]=s+0,e[n+1]=s+1,e[n+2]=s+2,e[n+3]=s+0,e[n+4]=s+2,e[n+5]=s+3;return e}function P_(r){if(r.BYTES_PER_ELEMENT===4)return r instanceof Float32Array?"Float32Array":r instanceof Uint32Array?"Uint32Array":"Int32Array";if(r.BYTES_PER_ELEMENT===2){if(r instanceof Uint16Array)return"Uint16Array"}else if(r.BYTES_PER_ELEMENT===1&&r instanceof Uint8Array)return"Uint8Array";return null}function Sf(r){return r+=r===0?1:0,--r,r|=r>>>1,r|=r>>>2,r|=r>>>4,r|=r>>>8,r|=r>>>16,r+1}function Hv(r){return!(r&r-1)&&!!r}function $v(r){let e=(r>65535?1:0)<<4;r>>>=e;let t=(r>255?1:0)<<3;return r>>>=t,e|=t,t=(r>15?1:0)<<2,r>>>=t,e|=t,t=(r>3?1:0)<<1,r>>>=t,e|=t,e|r>>1}function Nh(r,e,t){const n=r.length;let s;if(e>=n||t===0)return;t=e+t>n?n-e:t;const a=n-t;for(s=e;s<a;++s)r[s]=r[s+t];r.length=a}function qu(r){return r===0?0:r<0?-1:1}let Lb=0;function Fh(){return++Lb}const Mg=class{constructor(r,e,t,n){this.left=r,this.top=e,this.right=t,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Mg.EMPTY=new Mg(0,0,0,0);let Vv=Mg;const Wv={},bs=Object.create(null),da=Object.create(null);function Xv(r,e,t){for(let n=0,s=4*t*e;n<e;++n,s+=4)if(r[s+3]!==0)return!1;return!0}function Yv(r,e,t,n,s){const a=4*e;for(let h=n,d=n*a+4*t;h<=s;++h,d+=a)if(r[d+3]!==0)return!1;return!0}function Fb(r){const{width:e,height:t}=r,n=r.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,e,t).data;let a=0,h=0,d=e-1,p=t-1;for(;h<t&&Xv(s,e,h);)++h;if(h===t)return Vv.EMPTY;for(;Xv(s,e,p);)--p;for(;Yv(s,e,a,h,p);)++a;for(;Yv(s,e,d,h,p);)--d;return++d,++p,new Vv(a,h,d,p)}function Ob(r){const e=Fb(r),{width:t,height:n}=e;let s=null;if(!e.isEmpty()){const a=r.getContext("2d");if(a===null)throw new TypeError("Failed to get canvas 2D context");s=a.getImageData(e.left,e.top,t,n)}return{width:t,height:n,data:s}}function Db(r,e=globalThis.location){if(r.startsWith("data:"))return"";e=e||globalThis.location;const t=new URL(r,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function uc(r,e=1){var n;const t=(n=Qe.RETINA_PREFIX)==null?void 0:n.exec(r);return t?parseFloat(t[1]):e}var De=(r=>(r.Renderer="renderer",r.Application="application",r.RendererSystem="renderer-webgl-system",r.RendererPlugin="renderer-webgl-plugin",r.CanvasRendererSystem="renderer-canvas-system",r.CanvasRendererPlugin="renderer-canvas-plugin",r.Asset="asset",r.LoadParser="load-parser",r.ResolveParser="resolve-parser",r.CacheParser="cache-parser",r.DetectionParser="detection-parser",r))(De||{});const Ng=r=>{if(typeof r=="function"||typeof r=="object"&&r.extension){if(!r.extension)throw new Error("Extension class must have an extension object");r={...typeof r.extension!="object"?{type:r.extension}:r.extension,ref:r}}if(typeof r=="object")r={...r};else throw new Error("Invalid extension type");return typeof r.type=="string"&&(r.type=[r.type]),r},qv=(r,e)=>Ng(r).priority??e,Ze={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...r){return r.map(Ng).forEach(e=>{e.type.forEach(t=>{var n,s;return(s=(n=this._removeHandlers)[t])==null?void 0:s.call(n,e)})}),this},add(...r){return r.map(Ng).forEach(e=>{e.type.forEach(t=>{var a,h;const n=this._addHandlers,s=this._queue;n[t]?(a=n[t])==null||a.call(n,e):(s[t]=s[t]||[],(h=s[t])==null||h.push(e))})}),this},handle(r,e,t){var h;const n=this._addHandlers,s=this._removeHandlers;if(n[r]||s[r])throw new Error(`Extension type ${r} already has a handler`);n[r]=e,s[r]=t;const a=this._queue;return a[r]&&((h=a[r])==null||h.forEach(d=>e(d)),delete a[r]),this},handleByMap(r,e){return this.handle(r,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(r,e,t=-1){return this.handle(r,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((s,a)=>qv(a,t)-qv(s,t)))},n=>{const s=e.indexOf(n.ref);s!==-1&&e.splice(s,1)})}};class Bb{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const Ub=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function zb(r){let e="";for(let t=0;t<r;++t)t>0&&(e+=`
else `),t<r-1&&(e+=`if(test == ${t}.0){}`);return e}function Gb(r,e){if(r===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const t=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=Ub.replace(/%forloop%/gi,zb(r));if(e.shaderSource(t,n),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))r=r/2|0;else break}return r}const Ym=0,qm=1,Qm=2,Km=3,Zm=4,Jm=5;class Ms{constructor(){this.data=0,this.blendMode=tt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Ym)}set blend(e){!!(this.data&1<<Ym)!==e&&(this.data^=1<<Ym)}get offsets(){return!!(this.data&1<<qm)}set offsets(e){!!(this.data&1<<qm)!==e&&(this.data^=1<<qm)}get culling(){return!!(this.data&1<<Qm)}set culling(e){!!(this.data&1<<Qm)!==e&&(this.data^=1<<Qm)}get depthTest(){return!!(this.data&1<<Km)}set depthTest(e){!!(this.data&1<<Km)!==e&&(this.data^=1<<Km)}get depthMask(){return!!(this.data&1<<Jm)}set depthMask(e){!!(this.data&1<<Jm)!==e&&(this.data^=1<<Jm)}get clockwiseFrontFace(){return!!(this.data&1<<Zm)}set clockwiseFrontFace(e){!!(this.data&1<<Zm)!==e&&(this.data^=1<<Zm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==tt.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ms;return e.depthTest=!1,e.blend=!0,e}}Ms.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Lg=[];function I_(r,e){if(!r)return null;let t="";if(typeof r=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(r);n&&(t=n[1].toLowerCase())}for(let n=Lg.length-1;n>=0;--n){const s=Lg[n];if(s.test&&s.test(r,t))return new s(r,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Ki{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,n,s,a,h,d,p){if(arguments.length>8)throw new Error("max arguments reached");const{name:g,items:_}=this;this._aliasCount++;for(let w=0,b=_.length;w<b;w++)_[w][g](e,t,n,s,a,h,d,p);return _===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Ki.prototype,{dispatch:{value:Ki.prototype.emit},run:{value:Ki.prototype.emit}});class Oh{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Ki("setRealSize"),this.onUpdate=new Ki("update"),this.onError=new Ki("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class R_ extends Oh{constructor(e,t){const{width:n,height:s}=t||{};if(!n||!s)throw new Error("BufferResource width or height invalid");super(n,s),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,n){const s=e.gl;s.pixelStorei(s.UNPACK_ALIGNMENT,this.unpackAlignment),s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===mi.UNPACK);const a=t.realWidth,h=t.realHeight;return n.width===a&&n.height===h?s.texSubImage2D(t.target,0,0,0,a,h,t.format,n.type,this.data):(n.width=a,n.height=h,s.texImage2D(t.target,0,n.internalFormat,a,h,0,t.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const jb={scaleMode:mo.NEAREST,alphaMode:mi.NPM},Fg=class Vu extends Hh{constructor(e=null,t=null){super(),t=Object.assign({},Vu.defaultOptions,t);const{alphaMode:n,mipmap:s,anisotropicLevel:a,scaleMode:h,width:d,height:p,wrapMode:g,format:_,type:w,target:b,resolution:E,resourceOptions:T}=t;e&&!(e instanceof Oh)&&(e=I_(e,T),e.internal=!0),this.resolution=E||Qe.RESOLUTION,this.width=Math.round((d||0)*this.resolution)/this.resolution,this.height=Math.round((p||0)*this.resolution)/this.resolution,this._mipmap=s,this.anisotropicLevel=a,this._wrapMode=g,this._scaleMode=h,this.format=_,this.type=w,this.target=b,this.alphaMode=n,this.uid=Fh(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=d>0&&p>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,n=!0),n&&this.dirtyStyleId++,this}setSize(e,t,n){return n=n||this.resolution,this.setRealSize(e*n,t*n,n)}setRealSize(e,t,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Hv(this.realWidth)&&Hv(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete da[this.cacheId],delete bs[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Vu.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,n=Qe.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Fh()}`}a=e._pixiId}let h=da[a];if(s&&n&&!h)throw new Error(`The cacheId "${a}" does not exist in BaseTextureCache.`);return h||(h=new Vu(e,t),h.cacheId=a,Vu.addToCache(h,a)),h}static fromBuffer(e,t,n,s){e=e||new Float32Array(t*n*4);const a=new R_(e,{width:t,height:n,...s==null?void 0:s.resourceOptions});let h,d;return e instanceof Float32Array?(h=Ne.RGBA,d=it.FLOAT):e instanceof Int32Array?(h=Ne.RGBA_INTEGER,d=it.INT):e instanceof Uint32Array?(h=Ne.RGBA_INTEGER,d=it.UNSIGNED_INT):e instanceof Int16Array?(h=Ne.RGBA_INTEGER,d=it.SHORT):e instanceof Uint16Array?(h=Ne.RGBA_INTEGER,d=it.UNSIGNED_SHORT):e instanceof Int8Array?(h=Ne.RGBA,d=it.BYTE):(h=Ne.RGBA,d=it.UNSIGNED_BYTE),a.internal=!0,new Vu(a,Object.assign({},jb,{type:d,format:h},s))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),da[t]&&da[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),da[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=da[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete da[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete da[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};Fg.defaultOptions={mipmap:xa.POW2,anisotropicLevel:0,scaleMode:mo.LINEAR,wrapMode:yo.CLAMP,alphaMode:mi.UNPACK,target:Ju.TEXTURE_2D,format:Ne.RGBA,type:it.UNSIGNED_BYTE},Fg._globalBatch=0;let gt=Fg;class Og{constructor(){this.texArray=null,this.blend=0,this.type=Yi.TRIANGLES,this.start=0,this.size=0,this.data=null}}let Hb=0;class mr{constructor(e,t=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=t,this.id=Hb++,this.disposeRunner=new Ki("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Ps.ELEMENT_ARRAY_BUFFER:Ps.ARRAY_BUFFER}get index(){return this.type===Ps.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new mr(e)}}class bf{constructor(e,t=0,n=!1,s=it.FLOAT,a,h,d,p=1){this.buffer=e,this.size=t,this.normalized=n,this.type=s,this.stride=a,this.start=h,this.instance=d,this.divisor=p}destroy(){this.buffer=null}static from(e,t,n,s,a){return new bf(e,t,n,s,a)}}const $b={Float32Array,Uint32Array,Int32Array,Uint8Array};function Vb(r,e){let t=0,n=0;const s={};for(let p=0;p<r.length;p++)n+=e[p],t+=r[p].length;const a=new ArrayBuffer(t*4);let h=null,d=0;for(let p=0;p<r.length;p++){const g=e[p],_=r[p],w=P_(_);s[w]||(s[w]=new $b[w](a)),h=s[w];for(let b=0;b<_.length;b++){const E=(b/g|0)*n+d,T=b%g;h[E+T]=_[b]}d+=g}return new Float32Array(a)}const Qv={5126:4,5123:2,5121:1};let Wb=0;const Xb={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class wa{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=Wb++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Ki("disposeGeometry"),this.refCount=0}addAttribute(e,t,n=0,s=!1,a,h,d,p=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof mr||(t instanceof Array&&(t=new Float32Array(t)),t=new mr(t));const g=e.split("|");if(g.length>1){for(let w=0;w<g.length;w++)this.addAttribute(g[w],t,n,s,a);return this}let _=this.buffers.indexOf(t);return _===-1&&(this.buffers.push(t),_=this.buffers.length-1),this.attributes[e]=new bf(_,n,s,a,h,d,p),this.instanced=this.instanced||p,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof mr||(e instanceof Array&&(e=new Uint16Array(e)),e=new mr(e)),e.type=Ps.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],t=[],n=new mr;let s;for(s in this.attributes){const a=this.attributes[s],h=this.buffers[a.buffer];e.push(h.data),t.push(a.size*Qv[a.type]/4),a.buffer=0}for(n.data=Vb(e,t),s=0;s<this.buffers.length;s++)this.buffers[s]!==this.indexBuffer&&this.buffers[s].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new wa;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new mr(this.buffers[t].data.slice(0));for(const t in this.attributes){const n=this.attributes[t];e.attributes[t]=new bf(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Ps.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new wa,n=[],s=[],a=[];let h;for(let d=0;d<e.length;d++){h=e[d];for(let p=0;p<h.buffers.length;p++)s[p]=s[p]||0,s[p]+=h.buffers[p].data.length,a[p]=0}for(let d=0;d<h.buffers.length;d++)n[d]=new Xb[P_(h.buffers[d].data)](s[d]),t.buffers[d]=new mr(n[d]);for(let d=0;d<e.length;d++){h=e[d];for(let p=0;p<h.buffers.length;p++)n[p].set(h.buffers[p].data,a[p]),a[p]+=h.buffers[p].data.length}if(t.attributes=h.attributes,h.indexBuffer){t.indexBuffer=t.buffers[h.buffers.indexOf(h.indexBuffer)],t.indexBuffer.type=Ps.ELEMENT_ARRAY_BUFFER;let d=0,p=0,g=0,_=0;for(let w=0;w<h.buffers.length;w++)if(h.buffers[w]!==h.indexBuffer){_=w;break}for(const w in h.attributes){const b=h.attributes[w];(b.buffer|0)===_&&(p+=b.size*Qv[b.type]/4)}for(let w=0;w<e.length;w++){const b=e[w].indexBuffer.data;for(let E=0;E<b.length;E++)t.indexBuffer.data[E+g]+=d;d+=e[w].buffers[_].data.length/p,g+=b.length}}return t}}class k_ extends wa{constructor(e=!1){super(),this._buffer=new mr(null,e,!1),this._indexBuffer=new mr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,it.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,it.FLOAT).addAttribute("aColor",this._buffer,4,!0,it.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,it.FLOAT).addIndex(this._indexBuffer)}}const Ef=Math.PI*2,Yb=180/Math.PI,qb=Math.PI/180;var Hr=(r=>(r[r.POLY=0]="POLY",r[r.RECT=1]="RECT",r[r.CIRC=2]="CIRC",r[r.ELIP=3]="ELIP",r[r.RREC=4]="RREC",r))(Hr||{});class yt{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new yt(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}yt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Dd=[new yt,new yt,new yt,new yt];class vt{constructor(e=0,t=0,n=0,s=0){this.x=Number(e),this.y=Number(t),this.width=Number(n),this.height=Number(s),this.type=Hr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new vt(0,0,0,0)}clone(){return new vt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const Z=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=Z)return!1;const ue=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>ue}const n=this.left,s=this.right,a=this.top,h=this.bottom;if(s<=n||h<=a)return!1;const d=Dd[0].set(e.left,e.top),p=Dd[1].set(e.left,e.bottom),g=Dd[2].set(e.right,e.top),_=Dd[3].set(e.right,e.bottom);if(g.x<=d.x||p.y<=d.y)return!1;const w=Math.sign(t.a*t.d-t.b*t.c);if(w===0||(t.apply(d,d),t.apply(p,p),t.apply(g,g),t.apply(_,_),Math.max(d.x,p.x,g.x,_.x)<=n||Math.min(d.x,p.x,g.x,_.x)>=s||Math.max(d.y,p.y,g.y,_.y)<=a||Math.min(d.y,p.y,g.y,_.y)>=h))return!1;const b=w*(p.y-d.y),E=w*(d.x-p.x),T=b*n+E*a,I=b*s+E*a,C=b*n+E*h,M=b*s+E*h;if(Math.max(T,I,C,M)<=b*d.x+E*d.y||Math.min(T,I,C,M)>=b*_.x+E*_.y)return!1;const z=w*(d.y-g.y),N=w*(g.x-d.x),G=z*n+N*a,O=z*s+N*a,V=z*n+N*h,F=z*s+N*h;return!(Math.max(G,O,V,F)<=z*d.x+N*d.y||Math.min(G,O,V,F)>=z*_.x+N*_.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){const t=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),s=Math.max(this.y,e.y),a=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(n-t,0),this.y=s,this.height=Math.max(a-s,0),this}ceil(e=1,t=.001){const n=Math.ceil((this.x+this.width-t)*e)/e,s=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=n-this.x,this.height=s-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),s=Math.min(this.y,e.y),a=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=n-t,this.y=s,this.height=a-s,this}}vt.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class qf{constructor(e=0,t=0,n=0){this.x=e,this.y=t,this.radius=n,this.type=Hr.CIRC}clone(){return new qf(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;const n=this.radius*this.radius;let s=this.x-e,a=this.y-t;return s*=s,a*=a,s+a<=n}getBounds(){return new vt(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}qf.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Qf{constructor(e=0,t=0,n=0,s=0){this.x=e,this.y=t,this.width=n,this.height=s,this.type=Hr.ELIP}clone(){return new Qf(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,s=(t-this.y)/this.height;return n*=n,s*=s,n+s<=1}getBounds(){return new vt(this.x-this.width,this.y-this.height,this.width,this.height)}}Qf.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class jl{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){const n=[];for(let s=0,a=t.length;s<a;s++)n.push(t[s].x,t[s].y);t=n}this.points=t,this.type=Hr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),t=new jl(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let n=!1;const s=this.points.length/2;for(let a=0,h=s-1;a<s;h=a++){const d=this.points[a*2],p=this.points[a*2+1],g=this.points[h*2],_=this.points[h*2+1];p>t!=_>t&&e<(g-d)*((t-p)/(_-p))+d&&(n=!n)}return n}}jl.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((r,e)=>`${r}, ${e}`,"")}]`};class Kf{constructor(e=0,t=0,n=0,s=0,a=20){this.x=e,this.y=t,this.width=n,this.height=s,this.radius=a,this.type=Hr.RREC}clone(){return new Kf(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+n&&t<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let s=e-(this.x+n),a=t-(this.y+n);const h=n*n;if(s*s+a*a<=h||(s=e-(this.x+this.width-n),s*s+a*a<=h)||(a=t-(this.y+this.height-n),s*s+a*a<=h)||(s=e-(this.x+n),s*s+a*a<=h))return!0}return!1}}Kf.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Jt{constructor(e=1,t=0,n=0,s=1,a=0,h=0){this.array=null,this.a=e,this.b=t,this.c=n,this.d=s,this.tx=a,this.ty=h}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,n,s,a,h){return this.a=e,this.b=t,this.c=n,this.d=s,this.tx=a,this.ty=h,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,t){t=t||new yt;const n=e.x,s=e.y;return t.x=this.a*n+this.c*s+this.tx,t.y=this.b*n+this.d*s+this.ty,t}applyInverse(e,t){t=t||new yt;const n=1/(this.a*this.d+this.c*-this.b),s=e.x,a=e.y;return t.x=this.d*n*s+-this.c*n*a+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*a+-this.b*n*s+(-this.ty*this.a+this.tx*this.b)*n,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),n=Math.sin(e),s=this.a,a=this.c,h=this.tx;return this.a=s*t-this.b*n,this.b=s*n+this.b*t,this.c=a*t-this.d*n,this.d=a*n+this.d*t,this.tx=h*t-this.ty*n,this.ty=h*n+this.ty*t,this}append(e){const t=this.a,n=this.b,s=this.c,a=this.d;return this.a=e.a*t+e.b*s,this.b=e.a*n+e.b*a,this.c=e.c*t+e.d*s,this.d=e.c*n+e.d*a,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*n+e.ty*a+this.ty,this}setTransform(e,t,n,s,a,h,d,p,g){return this.a=Math.cos(d+g)*a,this.b=Math.sin(d+g)*a,this.c=-Math.sin(d-p)*h,this.d=Math.cos(d-p)*h,this.tx=e-(n*this.a+s*this.c),this.ty=t-(n*this.b+s*this.d),this}prepend(e){const t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,s=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,n=this.b,s=this.c,a=this.d,h=e.pivot,d=-Math.atan2(-s,a),p=Math.atan2(n,t),g=Math.abs(d+p);return g<1e-5||Math.abs(Ef-g)<1e-5?(e.rotation=p,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=d,e.skew.y=p),e.scale.x=Math.sqrt(t*t+n*n),e.scale.y=Math.sqrt(s*s+a*a),e.position.x=this.tx+(h.x*t+h.y*s),e.position.y=this.ty+(h.x*n+h.y*a),e}invert(){const e=this.a,t=this.b,n=this.c,s=this.d,a=this.tx,h=e*s-t*n;return this.a=s/h,this.b=-t/h,this.c=-n/h,this.d=e/h,this.tx=(n*this.ty-s*a)/h,this.ty=-(e*this.ty-t*a)/h,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Jt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Jt}static get TEMP_MATRIX(){return new Jt}}Jt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const kl=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ml=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Nl=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ll=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Dg=[],M_=[],Bd=Math.sign;function Qb(){for(let r=0;r<16;r++){const e=[];Dg.push(e);for(let t=0;t<16;t++){const n=Bd(kl[r]*kl[t]+Nl[r]*Ml[t]),s=Bd(Ml[r]*kl[t]+Ll[r]*Ml[t]),a=Bd(kl[r]*Nl[t]+Nl[r]*Ll[t]),h=Bd(Ml[r]*Nl[t]+Ll[r]*Ll[t]);for(let d=0;d<16;d++)if(kl[d]===n&&Ml[d]===s&&Nl[d]===a&&Ll[d]===h){e.push(d);break}}}for(let r=0;r<16;r++){const e=new Jt;e.set(kl[r],Ml[r],Nl[r],Ll[r],0,0),M_.push(e)}}Qb();const Zt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:r=>kl[r],uY:r=>Ml[r],vX:r=>Nl[r],vY:r=>Ll[r],inv:r=>r&8?r&15:-r&7,add:(r,e)=>Dg[r][e],sub:(r,e)=>Dg[r][Zt.inv(e)],rotate180:r=>r^4,isVertical:r=>(r&3)===2,byDirection:(r,e)=>Math.abs(r)*2<=Math.abs(e)?e>=0?Zt.S:Zt.N:Math.abs(e)*2<=Math.abs(r)?r>0?Zt.E:Zt.W:e>0?r>0?Zt.SE:Zt.SW:r>0?Zt.NE:Zt.NW,matrixAppendRotationInv:(r,e,t=0,n=0)=>{const s=M_[Zt.inv(e)];s.tx=t,s.ty=n,r.append(s)}};class Cs{constructor(e,t,n=0,s=0){this._x=n,this._y=s,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new Cs(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Cs.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Bg=class{constructor(){this.worldTransform=new Jt,this.localTransform=new Jt,this.position=new Cs(this.onChange,this,0,0),this.scale=new Cs(this.onChange,this,1,1),this.pivot=new Cs(this.onChange,this,0,0),this.skew=new Cs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const r=this.localTransform;this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(r){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==r._worldID){const t=r.worldTransform,n=this.worldTransform;n.a=e.a*t.a+e.b*t.c,n.b=e.a*t.b+e.b*t.d,n.c=e.c*t.a+e.d*t.c,n.d=e.c*t.b+e.d*t.d,n.tx=e.tx*t.a+e.ty*t.c+t.tx,n.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=r._worldID,this._worldID++}}setFromMatrix(r){r.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(r){this._rotation!==r&&(this._rotation=r,this.updateSkew())}};Bg.IDENTITY=new Bg;let Zf=Bg;Zf.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var Kb=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,Zb=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Kv(r,e,t){const n=r.createShader(e);return r.shaderSource(n,t),r.compileShader(n),n}function eg(r){const e=new Array(r);for(let t=0;t<e.length;t++)e[t]=!1;return e}function N_(r,e){switch(r){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return eg(2*e);case"bvec3":return eg(3*e);case"bvec4":return eg(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ec=[{test:r=>r.type==="float"&&r.size===1&&!r.isArray,code:r=>`
            if(uv["${r}"] !== ud["${r}"].value)
            {
                ud["${r}"].value = uv["${r}"]
                gl.uniform1f(ud["${r}"].location, uv["${r}"])
            }
            `},{test:(r,e)=>(r.type==="sampler2D"||r.type==="samplerCube"||r.type==="sampler2DArray")&&r.size===1&&!r.isArray&&(e==null||e.castToBaseTexture!==void 0),code:r=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${r}"], t);

            if(ud["${r}"].value !== t)
            {
                ud["${r}"].value = t;
                gl.uniform1i(ud["${r}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(r,e)=>r.type==="mat3"&&r.size===1&&!r.isArray&&e.a!==void 0,code:r=>`
            gl.uniformMatrix3fv(ud["${r}"].location, false, uv["${r}"].toArray(true));
            `,codeUbo:r=>`
                var ${r}_matrix = uv.${r}.toArray(true);

                data[offset] = ${r}_matrix[0];
                data[offset+1] = ${r}_matrix[1];
                data[offset+2] = ${r}_matrix[2];
        
                data[offset + 4] = ${r}_matrix[3];
                data[offset + 5] = ${r}_matrix[4];
                data[offset + 6] = ${r}_matrix[5];
        
                data[offset + 8] = ${r}_matrix[6];
                data[offset + 9] = ${r}_matrix[7];
                data[offset + 10] = ${r}_matrix[8];
            `},{test:(r,e)=>r.type==="vec2"&&r.size===1&&!r.isArray&&e.x!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${r}"].location, v.x, v.y);
                }`,codeUbo:r=>`
                v = uv.${r};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:r=>r.type==="vec2"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${r}"].location, v[0], v[1]);
                }
            `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.width!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${r}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(r,e)=>r.type==="vec4"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${r}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(r,e)=>r.type==="vec3"&&r.size===1&&!r.isArray&&e.red!==void 0,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${r}"].location, v.red, v.green, v.blue)
                }`,codeUbo:r=>`
                    v = uv.${r};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:r=>r.type==="vec4"&&r.size===1&&!r.isArray,code:r=>`
                cv = ud["${r}"].value;
                v = uv["${r}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${r}"].location, v[0], v[1], v[2], v[3])
                }`}],Jb={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},eE={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function tE(r,e){var n;const t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const s in r.uniforms){const a=e[s];if(!a){((n=r.uniforms[s])==null?void 0:n.group)===!0&&(r.uniforms[s].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${s}, '${s}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${s}, syncData);
                    `));continue}const h=r.uniforms[s];let d=!1;for(let p=0;p<ec.length;p++)if(ec[p].test(a,h)){t.push(ec[p].code(s,h)),d=!0;break}if(!d){const p=(a.size===1&&!a.isArray?Jb:eE)[a.type].replace("location",`ud["${s}"].location`);t.push(`
            cu = ud["${s}"];
            cv = cu.value;
            v = uv["${s}"];
            ${p};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}const L_={};let Gu=L_;function rE(){if(Gu===L_||Gu!=null&&Gu.isContextLost()){const r=Qe.ADAPTER.createCanvas();let e;Qe.PREFER_ENV>=Hl.WEBGL2&&(e=r.getContext("webgl2",{})),e||(e=r.getContext("webgl",{})||r.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Gu=e}return Gu}let Ud;function nE(){if(!Ud){Ud=gi.MEDIUM;const r=rE();if(r&&r.getShaderPrecisionFormat){const e=r.getShaderPrecisionFormat(r.FRAGMENT_SHADER,r.HIGH_FLOAT);e&&(Ud=e.precision?gi.HIGH:gi.MEDIUM)}}return Ud}function Zv(r,e){const t=r.getShaderSource(e).split(`
`).map((g,_)=>`${_}: ${g}`),n=r.getShaderInfoLog(e),s=n.split(`
`),a={},h=s.map(g=>parseFloat(g.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(g=>g&&!a[g]?(a[g]=!0,!0):!1),d=[""];h.forEach(g=>{t[g-1]=`%c${t[g-1]}%c`,d.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const p=t.join(`
`);d[0]=p,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...d),console.groupEnd()}function iE(r,e,t,n){r.getProgramParameter(e,r.LINK_STATUS)||(r.getShaderParameter(t,r.COMPILE_STATUS)||Zv(r,t),r.getShaderParameter(n,r.COMPILE_STATUS)||Zv(r,n),console.error("PixiJS Error: Could not initialize shader."),r.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",r.getProgramInfoLog(e)))}const sE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function F_(r){return sE[r]}let zd=null;const Jv={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function O_(r,e){if(!zd){const t=Object.keys(Jv);zd={};for(let n=0;n<t.length;++n){const s=t[n];zd[r[s]]=Jv[s]}}return zd[e]}function e1(r,e,t){if(r.substring(0,9)!=="precision"){let n=e;return e===gi.HIGH&&t!==gi.HIGH&&(n=gi.MEDIUM),`precision ${n} float;
${r}`}else if(t!==gi.HIGH&&r.substring(0,15)==="precision highp")return r.replace("precision highp","precision mediump");return r}let yh;function oE(){if(typeof yh=="boolean")return yh;try{yh=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{yh=!1}return yh}let aE=0;const Gd={},Ug=class Wu{constructor(e,t,n="pixi-shader",s={}){this.extra={},this.id=aE++,this.vertexSrc=e||Wu.defaultVertexSrc,this.fragmentSrc=t||Wu.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=s,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Gd[n]?(Gd[n]++,n+=`-${Gd[n]}`):Gd[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=e1(this.vertexSrc,Wu.defaultVertexPrecision,gi.HIGH),this.fragmentSrc=e1(this.fragmentSrc,Wu.defaultFragmentPrecision,nE())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return Zb}static get defaultFragmentSrc(){return Kb}static from(e,t,n){const s=e+t;let a=Wv[s];return a||(Wv[s]=a=new Wu(e,t,n)),a}};Ug.defaultVertexPrecision=gi.HIGH,Ug.defaultFragmentPrecision=Yu.apple.device?gi.HIGH:gi.MEDIUM;let go=Ug,lE=0;class Zi{constructor(e,t,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=lE++,this.static=!!t,this.ubo=!!n,e instanceof mr?(this.buffer=e,this.buffer.type=Ps.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new mr(new Float32Array(1)),this.buffer.type=Ps.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,n){if(!this.ubo)this.uniforms[e]=new Zi(t,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,n){return new Zi(e,t,n)}static uboFrom(e,t){return new Zi(e,t??!0,!0)}}class Is{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof Zi?this.uniformGroup=t:this.uniformGroup=new Zi(t):this.uniformGroup=new Zi({}),this.disposeRunner=new Ki("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const n in t.uniforms){const s=t.uniforms[n];if(s.group===!0&&this.checkUniformExists(e,s))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,n){const s=go.from(e,t);return new Is(s,n)}}class uE{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let a=0;a<e;a++)n[a]=a;this.defaultGroupCache[e]=Zi.from({uSamplers:n},!0);let s=this.fragTemplate;s=s.replace(/%count%/gi,`${e}`),s=s.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new go(this.vertexSrc,s)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Jt,default:this.defaultGroupCache[e]};return new Is(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let n=0;n<e;n++)n>0&&(t+=`
else `),n<e-1&&(t+=`if(vTextureId < ${n}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}}class zg{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function cE(){return!Yu.apple.device}function hE(r){let e=!0;const t=Qe.ADAPTER.getNavigator();if(Yu.tablet||Yu.phone){if(Yu.apple.device){const n=t.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Yu.android.device){const n=t.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?r:4}class Jf{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var dE=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,fE=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const bh=class Vi extends Jf{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=k_,this.vertexSize=6,this.state=Ms.for2d(),this.size=Vi.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??hE(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??cE(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return St("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return fE}static get defaultFragmentTemplate(){return dE}setShaderGenerator({vertex:e=Vi.defaultVertexSrc,fragment:t=Vi.defaultFragmentTemplate}={}){this.shaderGenerator=new uE(e,t)}contextChange(){const e=this.renderer.gl;Qe.PREFER_ENV===Hl.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Vi.defaultMaxTextures),this.maxTextures=Gb(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=Vi,n=this.size/4,s=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Og);for(;t.length<s;)t.push(new zg);for(let a=0;a<this.maxTextures;a++)this._tempBoundTextures[a]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,n=Vi._textureArrayPool,s=this.renderer.batch,a=this._tempBoundTextures,h=this.renderer.textureGC.count;let d=++gt._globalBatch,p=0,g=n[0],_=0;s.copyBoundTextures(a,t);for(let w=0;w<this._bufferSize;++w){const b=e[w];e[w]=null,b._batchEnabled!==d&&(g.count>=t&&(s.boundArray(g,a,d,t),this.buildDrawCalls(g,_,w),_=w,g=n[++p],++d),b._batchEnabled=d,b.touched=h,g.elements[g.count++]=b)}g.count>0&&(s.boundArray(g,a,d,t),this.buildDrawCalls(g,_,this._bufferSize),++p,++d);for(let w=0;w<a.length;w++)a[w]=null;gt._globalBatch=d}buildDrawCalls(e,t,n){const{_bufferedElements:s,_attributeBuffer:a,_indexBuffer:h,vertexSize:d}=this,p=Vi._drawCallPool;let g=this._dcIndex,_=this._aIndex,w=this._iIndex,b=p[g];b.start=this._iIndex,b.texArray=e;for(let E=t;E<n;++E){const T=s[E],I=T._texture.baseTexture,C=A_[I.alphaMode?1:0][T.blendMode];s[E]=null,t<E&&b.blend!==C&&(b.size=w-b.start,t=E,b=p[++g],b.texArray=e,b.start=w),this.packInterleavedGeometry(T,a,h,_,w),_+=T.vertexData.length/2*d,w+=T.indices.length,b.blend=C}t<n&&(b.size=w-b.start,++g),this._dcIndex=g,this._aIndex=_,this._iIndex=w}bindAndClearTexArray(e){const t=this.renderer.texture;for(let n=0;n<e.count;n++)t.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:n}=this;Vi.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:n}=this.renderer,s=Vi._drawCallPool;let a=null;for(let h=0;h<e;h++){const{texArray:d,type:p,size:g,start:_,blend:w}=s[h];a!==d&&(a=d,this.bindAndClearTexArray(d)),this.state.blendMode=w,n.set(this.state),t.drawElements(p,g,t.UNSIGNED_SHORT,_*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Vi.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=Sf(Math.ceil(e/8)),n=$v(t),s=t*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let a=this._aBuffers[s];return a||(this._aBuffers[s]=a=new Bb(s*this.vertexSize*4)),a}getIndexBuffer(e){const t=Sf(Math.ceil(e/12)),n=$v(t),s=t*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let a=this._iBuffers[n];return a||(this._iBuffers[n]=a=new Uint16Array(s)),a}packInterleavedGeometry(e,t,n,s,a){const{uint32View:h,float32View:d}=t,p=s/this.vertexSize,g=e.uvs,_=e.indices,w=e.vertexData,b=e._texture.baseTexture._batchLocation,E=Math.min(e.worldAlpha,1),T=ar.shared.setValue(e._tintRGB).toPremultiplied(E,e._texture.baseTexture.alphaMode>0);for(let I=0;I<w.length;I+=2)d[s++]=w[I],d[s++]=w[I+1],d[s++]=g[I],d[s++]=g[I+1],h[s++]=T,d[s++]=b;for(let I=0;I<_.length;I++)n[a++]=p+_[I]}};bh.defaultBatchSize=4096,bh.extension={name:"batch",type:De.RendererPlugin},bh._drawCallPool=[],bh._textureArrayPool=[];let Fl=bh;Ze.add(Fl);var pE=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,mE=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Gg=class Eh extends Is{constructor(e,t,n){const s=go.from(e||Eh.defaultVertexSrc,t||Eh.defaultFragmentSrc);super(s,n),this.padding=0,this.resolution=Eh.defaultResolution,this.multisample=Eh.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ms}apply(e,t,n,s,a){e.applyFilter(this,t,n,s)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return mE}static get defaultFragmentSrc(){return pE}};Gg.defaultResolution=1,Gg.defaultMultisample=vr.NONE;let Qu=Gg;class Tf{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new ar(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:n,backgroundAlpha:s}=e,a=n??t;a!==void 0&&(this.color=a),this.alpha=s}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Tf.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Tf.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"background"};Ze.add(Tf);class D_{constructor(e){this.renderer=e,this.emptyRenderer=new Jf(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:n}=this.renderer.texture;for(let s=t-1;s>=0;--s)e[s]=n[s]||null,e[s]&&(e[s]._batchLocation=s)}boundArray(e,t,n,s){const{elements:a,ids:h,count:d}=e;let p=0;for(let g=0;g<d;g++){const _=a[g],w=_._batchLocation;if(w>=0&&w<s&&t[w]===_){h[g]=w;continue}for(;p<s;){const b=t[p];if(b&&b._batchEnabled===n&&b._batchLocation===p){p++;continue}h[g]=p,_._batchLocation=p,t[p]=_;break}}}destroy(){this.renderer=null}}D_.extension={type:De.RendererSystem,name:"batch"};Ze.add(D_);let t1=0;class Af{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=t1++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=t1++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let n;if(Qe.PREFER_ENV>=Hl.WEBGL2&&(n=e.getContext("webgl2",t)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const s=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=s,s||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Af.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Af.extension={type:De.RendererSystem,name:"context"};Ze.add(Af);class jg{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Ki("disposeFramebuffer"),this.multisample=vr.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new gt(null,{scaleMode:mo.NEAREST,resolution:1,mipmap:xa.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new gt(null,{scaleMode:mo.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:xa.OFF,format:Ne.DEPTH_COMPONENT,type:it.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const s=this.colorTextures[n],a=s.resolution;s.setSize(e/a,t/a)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,t/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class B_ extends gt{constructor(e={}){if(typeof e=="number"){const t=arguments[0],n=arguments[1],s=arguments[2],a=arguments[3];e={width:t,height:n,scaleMode:s,resolution:a}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=vr.NONE),super(null,e),this.mipmap=xa.OFF,this.valid=!0,this._clear=new ar([0,0,0,0]),this.framebuffer=new jg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class _o extends Oh{constructor(e){const t=e,n=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,s=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(n,s),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,n){n===void 0&&!t.startsWith("data:")?e.crossOrigin=Db(t):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,t,n,s){const a=e.gl,h=t.realWidth,d=t.realHeight;if(s=s||this.source,typeof HTMLImageElement<"u"&&s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===mi.UNPACK),!this.noSubImage&&t.target===a.TEXTURE_2D&&n.width===h&&n.height===d?a.texSubImage2D(a.TEXTURE_2D,0,0,0,t.format,n.type,s):(n.width=h,n.height=d,a.texImage2D(t.target,0,n.internalFormat,t.format,n.type,s)),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(t,n),super.update()}dispose(){this.source=null}}class U_ extends _o{constructor(e,t){if(t=t||{},typeof e=="string"){const n=new Image;_o.crossOrigin(n,e,t.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??Qe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,n)=>{const s=this.source;this.url=s.src;const a=()=>{this.destroyed||(s.onload=null,s.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};s.complete&&s.src?a():(s.onload=a,s.onerror=h=>{n(h),this.onError.emit(h)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(s=>s.blob()).then(s=>t(s,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===mi.UNPACK?"premultiply":"none"})).then(s=>this.destroyed?Promise.reject():(this.bitmap=s,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,n){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,n,this.bitmap),!this.preserveBitmap){let s=!0;const a=t._glTextures;for(const h in a){const d=a[h];if(d!==n&&d.dirtyId!==t.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Sy{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,n){const s=t.width,a=t.height;if(n){const h=e.width/2/s,d=e.height/2/a,p=e.x/s+h,g=e.y/a+d;n=Zt.add(n,Zt.NW),this.x0=p+h*Zt.uX(n),this.y0=g+d*Zt.uY(n),n=Zt.add(n,2),this.x1=p+h*Zt.uX(n),this.y1=g+d*Zt.uY(n),n=Zt.add(n,2),this.x2=p+h*Zt.uX(n),this.y2=g+d*Zt.uY(n),n=Zt.add(n,2),this.x3=p+h*Zt.uX(n),this.y3=g+d*Zt.uY(n)}else this.x0=e.x/s,this.y0=e.y/a,this.x1=(e.x+e.width)/s,this.y1=e.y/a,this.x2=(e.x+e.width)/s,this.y2=(e.y+e.height)/a,this.x3=e.x/s,this.y3=(e.y+e.height)/a;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Sy.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const r1=new Sy;function jd(r){r.destroy=function(){},r.on=function(){},r.once=function(){},r.emit=function(){}}class ze extends Hh{constructor(e,t,n,s,a,h,d){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new vt(0,0,1,1)),e instanceof ze&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=s,this.valid=!1,this.destroyed=!1,this._uvs=r1,this.uvMatrix=null,this.orig=n||t,this._rotate=Number(a||0),a===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=h?new yt(h.x,h.y):new yt(0,0),this.defaultBorders=d,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:t}=this.baseTexture;t!=null&&t.url&&bs[t.url]&&ze.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ze.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var s;const e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),n=new ze(this.baseTexture,!this.noFrame&&e,t,(s=this.trim)==null?void 0:s.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===r1&&(this._uvs=new Sy),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},n=Qe.STRICT_TEXTURE_CACHE){const s=typeof e=="string";let a=null;if(s)a=e;else if(e instanceof gt){if(!e.cacheId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${d}-${Fh()}`,gt.addToCache(e,e.cacheId)}a=e.cacheId}else{if(!e._pixiId){const d=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${d}_${Fh()}`}a=e._pixiId}let h=bs[a];if(s&&n&&!h)throw new Error(`The cacheId "${a}" does not exist in TextureCache.`);return!h&&!(e instanceof gt)?(t.resolution||(t.resolution=uc(e)),h=new ze(new gt(e,t)),h.baseTexture.cacheId=a,gt.addToCache(h.baseTexture,a),ze.addToCache(h,a)):!h&&e instanceof gt&&(h=new ze(e),ze.addToCache(h,a)),h}static fromURL(e,t){const n=Object.assign({autoLoad:!1},t==null?void 0:t.resourceOptions),s=ze.from(e,Object.assign({resourceOptions:n},t),!1),a=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):a.load().then(()=>Promise.resolve(s))}static fromBuffer(e,t,n,s){return new ze(gt.fromBuffer(e,t,n,s))}static fromLoader(e,t,n,s){const a=new gt(e,Object.assign({scaleMode:gt.defaultOptions.scaleMode,resolution:uc(t)},s)),{resource:h}=a;h instanceof U_&&(h.url=t);const d=new ze(a);return n||(n=t),gt.addToCache(d.baseTexture,n),ze.addToCache(d,n),n!==t&&(gt.addToCache(d.baseTexture,t),ze.addToCache(d,t)),d.baseTexture.valid?Promise.resolve(d):new Promise(p=>{d.baseTexture.once("loaded",()=>p(d))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),bs[t]&&bs[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),bs[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=bs[e];if(t){const n=t.textureCacheIds.indexOf(e);return n>-1&&t.textureCacheIds.splice(n,1),delete bs[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)bs[e.textureCacheIds[t]]===e&&delete bs[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:n,width:s,height:a}=e,h=t+s>this.baseTexture.width,d=n+a>this.baseTexture.height;if(h||d){const p=h&&d?"and":"or",g=`X: ${t} + ${s} = ${t+s} > ${this.baseTexture.width}`,_=`Y: ${n} + ${a} = ${n+a} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${g} ${p} ${_}`)}this.valid=s&&a&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ze._EMPTY||(ze._EMPTY=new ze(new gt),jd(ze._EMPTY),jd(ze._EMPTY.baseTexture)),ze._EMPTY}static get WHITE(){if(!ze._WHITE){const e=Qe.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),ze._WHITE=new ze(gt.from(e)),jd(ze._WHITE),jd(ze._WHITE.baseTexture)}return ze._WHITE}}class ep extends ze{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,n=!0){const s=this.baseTexture.resolution,a=Math.round(e*s)/s,h=Math.round(t*s)/s;this.valid=a>0&&h>0,this._frame.width=this.orig.width=a,this._frame.height=this.orig.height=h,n&&this.baseTexture.resize(a,h),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new ep(new B_(e))}}class z_{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,n=vr.NONE){const s=new B_(Object.assign({width:e,height:t,resolution:1,multisample:n},this.textureOptions));return new ep(s)}getOptimalTexture(e,t,n=1,s=vr.NONE){let a;e=Math.max(Math.ceil(e*n-1e-6),1),t=Math.max(Math.ceil(t*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||t!==this._pixelsHeight?(e=Sf(e),t=Sf(t),a=((e&65535)<<16|t&65535)>>>0,s>1&&(a+=s*4294967296)):a=s>1?-s:-1,this.texturePool[a]||(this.texturePool[a]=[]);let h=this.texturePool[a].pop();return h||(h=this.createTexture(e,t,s)),h.filterPoolKey=a,h.setResolution(n),h}getFilterTexture(e,t,n){const s=this.getOptimalTexture(e.width,e.height,t||e.resolution,n||vr.NONE);return s.filterFrame=e.filterFrame,s}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const t in this.texturePool){const n=this.texturePool[t];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const t in this.texturePool){if(!(Number(t)<0))continue;const n=this.texturePool[t];if(n)for(let s=0;s<n.length;s++)n[s].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}z_.SCREEN_KEY=-1;class gE extends wa{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class G_ extends wa{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new mr(this.vertices),this.uvBuffer=new mr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let n=0,s=0;return this.uvs[0]=n,this.uvs[1]=s,this.uvs[2]=n+t.width/e.width,this.uvs[3]=s,this.uvs[4]=n+t.width/e.width,this.uvs[5]=s+t.height/e.height,this.uvs[6]=n,this.uvs[7]=s+t.height/e.height,n=t.x,s=t.y,this.vertices[0]=n,this.vertices[1]=s,this.vertices[2]=n+t.width,this.vertices[3]=s,this.vertices[4]=n+t.width,this.vertices[5]=s+t.height,this.vertices[6]=n,this.vertices[7]=s+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class yE{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=vr.NONE,this.sourceFrame=new vt,this.destinationFrame=new vt,this.bindingSourceFrame=new vt,this.bindingDestinationFrame=new vt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Hd=[new yt,new yt,new yt,new yt],tg=new Jt;class j_{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new z_,this.statePool=[],this.quad=new gE,this.quadUv=new G_,this.tempRect=new vt,this.activeState={},this.globalUniforms=new Zi({outputFrame:new vt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){const n=this.renderer,s=this.defaultFilterStack,a=this.statePool.pop()||new yE,h=n.renderTexture;let d,p;if(h.current){const C=h.current;d=C.resolution,p=C.multisample}else d=n.resolution,p=n.multisample;let g=t[0].resolution||d,_=t[0].multisample??p,w=t[0].padding,b=t[0].autoFit,E=t[0].legacy??!0;for(let C=1;C<t.length;C++){const M=t[C];g=Math.min(g,M.resolution||d),_=Math.min(_,M.multisample??p),w=this.useMaxPadding?Math.max(w,M.padding):w+M.padding,b=b&&M.autoFit,E=E||(M.legacy??!0)}s.length===1&&(this.defaultFilterStack[0].renderTexture=h.current),s.push(a),a.resolution=g,a.multisample=_,a.legacy=E,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(w);const T=this.tempRect.copyFrom(h.sourceFrame);n.projection.transform&&this.transformAABB(tg.copyFrom(n.projection.transform).invert(),T),b?(a.sourceFrame.fit(T),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(T)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,h.current?h.current.resolution:n.resolution,h.sourceFrame,h.destinationFrame,n.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,g,_),a.filters=t,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;const I=this.tempRect;I.x=0,I.y=0,I.width=a.sourceFrame.width,I.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(h.sourceFrame),a.bindingDestinationFrame.copyFrom(h.destinationFrame),a.transform=n.projection.transform,n.projection.transform=null,h.bind(a.renderTexture,a.sourceFrame,I),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),n=t.filters;this.activeState=t;const s=this.globalUniforms.uniforms;s.outputFrame=t.sourceFrame,s.resolution=t.resolution;const a=s.inputSize,h=s.inputPixel,d=s.inputClamp;if(a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],h[0]=Math.round(a[0]*t.resolution),h[1]=Math.round(a[1]*t.resolution),h[2]=1/h[0],h[3]=1/h[1],d[0]=.5*h[2],d[1]=.5*h[3],d[2]=t.sourceFrame.width*a[2]-.5*h[2],d[3]=t.sourceFrame.height*a[3]-.5*h[3],t.legacy){const g=s.filterArea;g[0]=t.destinationFrame.width,g[1]=t.destinationFrame.height,g[2]=t.sourceFrame.x,g[3]=t.sourceFrame.y,s.filterClamp=s.inputClamp}this.globalUniforms.update();const p=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,t.renderTexture,p.renderTexture,Rl.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let g=t.renderTexture,_=this.getOptimalFilterTexture(g.width,g.height,t.resolution);_.filterFrame=g.filterFrame;let w=0;for(w=0;w<n.length-1;++w){w===1&&t.multisample>1&&(_=this.getOptimalFilterTexture(g.width,g.height,t.resolution),_.filterFrame=g.filterFrame),n[w].apply(this,g,_,Rl.CLEAR,t);const b=g;g=_,_=b}n[w].apply(this,g,p.renderTexture,Rl.BLEND,t),w>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(g),this.returnFilterTexture(_)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Rl.CLEAR){const{renderTexture:n,state:s}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const h=this.tempRect;h.x=0,h.y=0,h.width=e.filterFrame.width,h.height=e.filterFrame.height,n.bind(e,e.filterFrame,h)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const a=s.stateId&1||this.forceClear;(t===Rl.CLEAR||t===Rl.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,n,s){const a=this.renderer;a.state.set(e.state),this.bindAndClear(n,s),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(Yi.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(Yi.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:n,destinationFrame:s}=this.activeState,{orig:a}=t._texture,h=e.set(s.width,0,0,s.height,n.x,n.y),d=t.worldTransform.copyTo(Jt.TEMP_MATRIX);return d.invert(),h.prepend(d),h.scale(1/a.width,1/a.height),h.translate(t.anchor.x,t.anchor.y),h}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,n=1,s=vr.NONE){return this.texturePool.getOptimalTexture(e,t,n,s)}getFilterTexture(e,t,n){if(typeof e=="number"){const a=e;e=t,t=a}e=e||this.activeState.renderTexture;const s=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,n||vr.NONE);return s.filterFrame=e.filterFrame,s}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const n=Hd[0],s=Hd[1],a=Hd[2],h=Hd[3];n.set(t.left,t.top),s.set(t.left,t.bottom),a.set(t.right,t.top),h.set(t.right,t.bottom),e.apply(n,n),e.apply(s,s),e.apply(a,a),e.apply(h,h);const d=Math.min(n.x,s.x,a.x,h.x),p=Math.min(n.y,s.y,a.y,h.y),g=Math.max(n.x,s.x,a.x,h.x),_=Math.max(n.y,s.y,a.y,h.y);t.x=d,t.y=p,t.width=g-d,t.height=_-p}roundFrame(e,t,n,s,a){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(a){const{a:h,b:d,c:p,d:g}=a;if((Math.abs(d)>1e-4||Math.abs(p)>1e-4)&&(Math.abs(h)>1e-4||Math.abs(g)>1e-4))return}a=a?tg.copyFrom(a):tg.identity(),a.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.transformAABB(a,e),e.ceil(t),this.transformAABB(a.invert(),e)}}}j_.extension={type:De.RendererSystem,name:"filter"};Ze.add(j_);class vE{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=vr.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const _E=new vt;class H_{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new jg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new vt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;Qe.PREFER_ENV===Hl.WEBGL_LEGACY&&(t=null,n=null),t?e.drawBuffers=s=>t.drawBuffersWEBGL(s):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,n=0){const{gl:s}=this;if(e){const a=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,s.bindFramebuffer(s.FRAMEBUFFER,a.framebuffer)),a.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,a.mipLevel=n),a.dirtyId!==e.dirtyId&&(a.dirtyId=e.dirtyId,a.dirtyFormat!==e.dirtyFormat?(a.dirtyFormat=e.dirtyFormat,a.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):a.dirtySize!==e.dirtySize&&(a.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let h=0;h<e.colorTextures.length;h++){const d=e.colorTextures[h];this.renderer.texture.unbind(d.parentTextureArray||d)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const h=t.width>>n,d=t.height>>n,p=h/t.width;this.setViewport(t.x*p,t.y*p,h,d)}else{const h=e.width>>n,d=e.height>>n;this.setViewport(0,0,h,d)}}else this.current&&(this.current=null,s.bindFramebuffer(s.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,n,s){const a=this.viewport;e=Math.round(e),t=Math.round(t),n=Math.round(n),s=Math.round(s),(a.width!==n||a.height!==s||a.x!==e||a.y!==t)&&(a.x=e,a.y=t,a.width=n,a.height=s,this.gl.viewport(e,t,n,s))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,n,s,a=Ig.COLOR|Ig.DEPTH){const{gl:h}=this;h.clearColor(e,t,n,s),h.clear(a)}initFramebuffer(e){const{gl:t}=this,n=new vE(t.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:t}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){t.bindRenderbuffer(t.RENDERBUFFER,n.stencil);let h;this.renderer.context.webGLVersion===1?h=t.DEPTH_STENCIL:e.depth&&e.stencil?h=t.DEPTH24_STENCIL8:e.depth?h=t.DEPTH_COMPONENT24:h=t.STENCIL_INDEX8,n.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,h,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,h,e.width,e.height)}const s=e.colorTextures;let a=s.length;t.drawBuffers||(a=Math.min(a,1));for(let h=0;h<a;h++){const d=s[h],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),h===0&&n.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,n.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,n.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:n}=this,s=e.glFramebuffers[this.CONTEXT_UID],a=e.colorTextures;let h=a.length;n.drawBuffers||(h=Math.min(h,1)),s.multisample>1&&this.canMultisampleFramebuffer(e)?s.msaaBuffer=s.msaaBuffer||n.createRenderbuffer():s.msaaBuffer&&(n.deleteRenderbuffer(s.msaaBuffer),s.msaaBuffer=null,s.blitFramebuffer&&(s.blitFramebuffer.dispose(),s.blitFramebuffer=null));const d=[];for(let p=0;p<h;p++){const g=a[p],_=g.parentTextureArray||g;this.renderer.texture.bind(_,0),p===0&&s.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,s.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,_._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,s.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+p,g.target,_._glTextures[this.CONTEXT_UID].texture,t),d.push(n.COLOR_ATTACHMENT0+p))}if(d.length>1&&n.drawBuffers(d),e.depthTexture&&this.writeDepthTexture){const p=e.depthTexture;this.renderer.texture.bind(p,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,p._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){s.stencil=s.stencil||n.createRenderbuffer();let p,g;this.renderer.context.webGLVersion===1?(p=n.DEPTH_STENCIL_ATTACHMENT,g=n.DEPTH_STENCIL):e.depth&&e.stencil?(p=n.DEPTH_STENCIL_ATTACHMENT,g=n.DEPTH24_STENCIL8):e.depth?(p=n.DEPTH_ATTACHMENT,g=n.DEPTH_COMPONENT24):(p=n.STENCIL_ATTACHMENT,g=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,s.stencil),s.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,s.multisample,g,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,g,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,p,n.RENDERBUFFER,s.stencil)}else s.stencil&&(n.deleteRenderbuffer(s.stencil),s.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let n=vr.NONE;if(e<=1||t===null)return n;for(let s=0;s<t.length;s++)if(t[s]<=e){n=t[s];break}return n===1&&(n=vr.NONE),n}blit(e,t,n){const{current:s,renderer:a,gl:h,CONTEXT_UID:d}=this;if(a.context.webGLVersion!==2||!s)return;const p=s.glFramebuffers[d];if(!p)return;if(!e){if(!p.msaaBuffer)return;const _=s.colorTextures[0];if(!_)return;p.blitFramebuffer||(p.blitFramebuffer=new jg(s.width,s.height),p.blitFramebuffer.addColorTexture(0,_)),e=p.blitFramebuffer,e.colorTextures[0]!==_&&(e.colorTextures[0]=_,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}t||(t=_E,t.width=s.width,t.height=s.height),n||(n=t);const g=t.width===n.width&&t.height===n.height;this.bind(e),h.bindFramebuffer(h.READ_FRAMEBUFFER,p.framebuffer),h.blitFramebuffer(t.left,t.top,t.right,t.bottom,n.left,n.top,n.right,n.bottom,h.COLOR_BUFFER_BIT,g?h.NEAREST:h.LINEAR),h.bindFramebuffer(h.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const n=e.glFramebuffers[this.CONTEXT_UID],s=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const a=this.managedFramebuffers.indexOf(e);a>=0&&this.managedFramebuffers.splice(a,1),e.disposeRunner.remove(this),t||(s.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&s.deleteRenderbuffer(n.msaaBuffer),n.stencil&&s.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<t.length;n++)this.disposeFramebuffer(t[n],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,s=e.height,a=this.gl,h=t.stencil=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,h);let d,p;this.renderer.context.webGLVersion===1?(d=a.DEPTH_STENCIL_ATTACHMENT,p=a.DEPTH_STENCIL):e.depth?(d=a.DEPTH_STENCIL_ATTACHMENT,p=a.DEPTH24_STENCIL8):(d=a.STENCIL_ATTACHMENT,p=a.STENCIL_INDEX8),t.msaaBuffer?a.renderbufferStorageMultisample(a.RENDERBUFFER,t.multisample,p,n,s):a.renderbufferStorage(a.RENDERBUFFER,p,n,s),a.framebufferRenderbuffer(a.FRAMEBUFFER,d,a.RENDERBUFFER,h)}reset(){this.current=this.unknownFramebuffer,this.viewport=new vt}destroy(){this.renderer=null}}H_.extension={type:De.RendererSystem,name:"framebuffer"};Ze.add(H_);const rg={5126:4,5123:2,5121:1};class $_{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;Qe.PREFER_ENV===Hl.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=s=>n.bindVertexArrayOES(s),e.deleteVertexArray=s=>n.deleteVertexArrayOES(s)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(s,a)=>n.vertexAttribDivisorANGLE(s,a),e.drawElementsInstanced=(s,a,h,d,p)=>n.drawElementsInstancedANGLE(s,a,h,d,p),e.drawArraysInstanced=(s,a,h,d)=>n.drawArraysInstancedANGLE(s,a,h,d)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:n}=this;let s=e.glVertexArrayObjects[this.CONTEXT_UID],a=!1;s||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=s={},a=!0);const h=s[t.program.id]||this.initGeometryVao(e,t,a);this._activeGeometry=e,this._activeVao!==h&&(this._activeVao=h,this.hasVao?n.bindVertexArray(h):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const s=e.buffers[n];t.update(s)}}checkCompatibility(e,t){const n=e.attributes,s=t.attributeData;for(const a in s)if(!n[a])throw new Error(`shader and geometry incompatible, geometry missing the "${a}" attribute`)}getSignature(e,t){const n=e.attributes,s=t.attributeData,a=["g",e.id];for(const h in n)s[h]&&a.push(h,s[h].location);return a.join("-")}initGeometryVao(e,t,n=!0){const s=this.gl,a=this.CONTEXT_UID,h=this.renderer.buffer,d=t.program;d.glPrograms[a]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,d);const p=this.getSignature(e,d),g=e.glVertexArrayObjects[this.CONTEXT_UID];let _=g[p];if(_)return g[d.id]=_,_;const w=e.buffers,b=e.attributes,E={},T={};for(const I in w)E[I]=0,T[I]=0;for(const I in b)!b[I].size&&d.attributeData[I]?b[I].size=d.attributeData[I].size:b[I].size||console.warn(`PIXI Geometry attribute '${I}' size cannot be determined (likely the bound shader does not have the attribute)`),E[b[I].buffer]+=b[I].size*rg[b[I].type];for(const I in b){const C=b[I],M=C.size;C.stride===void 0&&(E[C.buffer]===M*rg[C.type]?C.stride=0:C.stride=E[C.buffer]),C.start===void 0&&(C.start=T[C.buffer],T[C.buffer]+=M*rg[C.type])}_=s.createVertexArray(),s.bindVertexArray(_);for(let I=0;I<w.length;I++){const C=w[I];h.bind(C),n&&C._glBuffers[a].refCount++}return this.activateVao(e,d),g[d.id]=_,g[p]=_,s.bindVertexArray(null),h.unbind(Ps.ARRAY_BUFFER),_}disposeGeometry(e,t){var d;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,a=e.buffers,h=(d=this.renderer)==null?void 0:d.buffer;if(e.disposeRunner.remove(this),!!n){if(h)for(let p=0;p<a.length;p++){const g=a[p]._glBuffers[this.CONTEXT_UID];g&&(g.refCount--,g.refCount===0&&!t&&h.dispose(a[p],t))}if(!t){for(const p in n)if(p[0]==="g"){const g=n[p];this._activeVao===g&&this.unbind(),s.deleteVertexArray(g)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let n=0;n<t.length;n++)this.disposeGeometry(this.managedGeometries[t[n]],e)}activateVao(e,t){const n=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,h=e.buffers,d=e.attributes;e.indexBuffer&&a.bind(e.indexBuffer);let p=null;for(const g in d){const _=d[g],w=h[_.buffer],b=w._glBuffers[s];if(t.attributeData[g]){p!==b&&(a.bind(w),p=b);const E=t.attributeData[g].location;if(n.enableVertexAttribArray(E),n.vertexAttribPointer(E,_.size,_.type||n.FLOAT,_.normalized,_.stride,_.start),_.instance)if(this.hasInstance)n.vertexAttribDivisor(E,_.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,n,s){const{gl:a}=this,h=this._activeGeometry;if(h.indexBuffer){const d=h.indexBuffer.data.BYTES_PER_ELEMENT,p=d===2?a.UNSIGNED_SHORT:a.UNSIGNED_INT;d===2||d===4&&this.canUseUInt32ElementIndex?h.instanced?a.drawElementsInstanced(e,t||h.indexBuffer.data.length,p,(n||0)*d,s||1):a.drawElements(e,t||h.indexBuffer.data.length,p,(n||0)*d):console.warn("unsupported index buffer type: uint32")}else h.instanced?a.drawArraysInstanced(e,n,t||h.getSize(),s||1):a.drawArrays(e,n,t||h.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}$_.extension={type:De.RendererSystem,name:"geometry"};Ze.add($_);const n1=new Jt;class by{constructor(e,t){this._texture=e,this.mapCoord=new Jt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);const n=this.mapCoord;for(let s=0;s<e.length;s+=2){const a=e[s],h=e[s+1];t[s]=a*n.a+h*n.c+n.tx,t[s+1]=a*n.b+h*n.d+n.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const n=t._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const s=t.orig,a=t.trim;a&&(n1.set(s.width/a.width,0,0,s.height/a.height,-a.x/a.width,-a.y/a.height),this.mapCoord.append(n1));const h=t.baseTexture,d=this.uClampFrame,p=this.clampMargin/h.resolution,g=this.clampOffset;return d[0]=(t._frame.x+p+g)/h.width,d[1]=(t._frame.y+p+g)/h.height,d[2]=(t._frame.x+t._frame.width-p+g)/h.width,d[3]=(t._frame.y+t._frame.height-p+g)/h.height,this.uClampOffset[0]=g/h.realWidth,this.uClampOffset[1]=g/h.realHeight,this.isSimple=t._frame.width===h.width&&t._frame.height===h.height&&t.rotate===0,!0}}var xE=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,wE=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class SE extends Qu{constructor(e,t,n){let s=null;typeof e!="string"&&t===void 0&&n===void 0&&(s=e,e=void 0,t=void 0,n=void 0),super(e||wE,t||xE,n),this.maskSprite=s,this.maskMatrix=new Jt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,n,s){const a=this._maskSprite,h=a._texture;h.valid&&(h.uvMatrix||(h.uvMatrix=new by(h,0)),h.uvMatrix.update(),this.uniforms.npmAlpha=h.baseTexture.alphaMode?0:1,this.uniforms.mask=h,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,a).prepend(h.uvMatrix.mapCoord),this.uniforms.alpha=a.worldAlpha,this.uniforms.maskClamp=h.uvMatrix.uClampFrame,e.applyFilter(this,t,n,s))}}class bE{constructor(e=null){this.type=Tr.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Qu.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Tr.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class V_{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let n=t;if(!n.isMaskData){const a=this.maskDataPool.pop()||new bE;a.pooled=!0,a.maskObject=t,n=a}const s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Tr.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Tr.SCISSOR:this.renderer.scissor.push(n);break;case Tr.STENCIL:this.renderer.stencil.push(n);break;case Tr.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Tr.COLOR:this.pushColorMask(n);break}n.type===Tr.SPRITE&&this.maskStack.push(n)}pop(e){const t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case Tr.SCISSOR:this.renderer.scissor.pop(t);break;case Tr.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case Tr.SPRITE:this.popSpriteMask(t);break;case Tr.COLOR:this.popColorMask(t);break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Tr.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=Tr.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Tr.SCISSOR:e.type=Tr.STENCIL:e.type=Tr.COLOR}pushSpriteMask(e){const{maskObject:t}=e,n=e._target;let s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex],s||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new SE])),s[0].resolution=e.resolution,s[0].multisample=e.multisample,s[0].maskSprite=t;const a=n.filterArea;n.filterArea=t.getBounds(!0),this.renderer.filter.push(n,s),n.filterArea=a,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,n=e._colorMask=t&e.colorMask;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const t=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==t&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}V_.extension={type:De.RendererSystem,name:"mask"};Ze.add(V_);class W_{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,n=this.getStackLength();this.maskStack=e;const s=this.getStackLength();s!==n&&(s===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const i1=new Jt,s1=[],X_=class lf extends W_{constructor(e){super(e),this.glConst=Qe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:n}=e,{renderer:s}=this,a=s.renderTexture,h=n.getBounds(!0,s1.pop()??new vt);this.roundFrameToPixels(h,a.current?a.current.resolution:s.resolution,a.sourceFrame,a.destinationFrame,s.projection.transform),t&&h.fit(t),e._scissorRectLocal=h}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:n,c:s,d:a}=e;return(Math.abs(n)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(a)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||lf.isMatrixRotated(t.worldTransform)||lf.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,t,n,s,a){lf.isMatrixRotated(a)||(a=a?i1.copyFrom(a):i1.identity(),a.translate(-n.x,-n.y).scale(s.width/n.width,s.height/n.height).translate(s.x,s.y),this.renderer.filter.transformAABB(a,e),e.fit(s),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&s1.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};X_.extension={type:De.RendererSystem,name:"scissor"};let EE=X_;Ze.add(EE);class Y_ extends W_{constructor(e){super(e),this.glConst=Qe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:n}=this.renderer,s=e._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const a=e._colorMask;a!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,s,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,a!==0&&(e._colorMask=a,n.colorMask((a&1)!==0,(a&2)!==0,(a&4)!==0,(a&8)!==0)),this._useCurrent()}pop(e){const t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=n?n._colorMask:15;s!==0&&(n._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,s!==0&&(n._colorMask=s,t.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}Y_.extension={type:De.RendererSystem,name:"stencil"};Ze.add(Y_);class q_{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return St("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return St("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return St("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}q_.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_plugin"};Ze.add(q_);class Q_{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Jt,this.transform=null}update(e,t,n,s){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,s),this.transform&&this.projectionMatrix.append(this.transform);const a=this.renderer;a.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,a.globalUniforms.update(),a.shader.shader&&a.shader.syncUniformGroup(a.shader.shader.uniforms.globals)}calculateProjection(e,t,n,s){const a=this.projectionMatrix,h=s?-1:1;a.identity(),a.a=1/t.width*2,a.d=h*(1/t.height*2),a.tx=-1-t.x*a.a,a.ty=-h-t.y*a.d}setTransform(e){}destroy(){this.renderer=null}}Q_.extension={type:De.RendererSystem,name:"projection"};Ze.add(Q_);const TE=new Zf,o1=new vt;class K_{constructor(e){this.renderer=e,this._tempMatrix=new Jt}generateTexture(e,t){const{region:n,...s}=t||{},a=(n==null?void 0:n.copyTo(o1))||e.getLocalBounds(o1,!0),h=s.resolution||this.renderer.resolution;a.width=Math.max(a.width,1/h),a.height=Math.max(a.height,1/h),s.width=a.width,s.height=a.height,s.resolution=h,s.multisample??(s.multisample=this.renderer.multisample);const d=ep.create(s);this._tempMatrix.tx=-a.x,this._tempMatrix.ty=-a.y;const p=e.transform;return e.transform=TE,this.renderer.render(e,{renderTexture:d,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=p,d}destroy(){}}K_.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"textureGenerator"};Ze.add(K_);const Al=new vt,vh=new vt;class Z_{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new vt,this.destinationFrame=new vt,this.viewportFrame=new vt}contextChange(){var t;const e=(t=this.renderer)==null?void 0:t.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,n){const s=this.renderer;this.current=e;let a,h,d;e?(a=e.baseTexture,d=a.resolution,t||(Al.width=e.frame.width,Al.height=e.frame.height,t=Al),n||(vh.x=e.frame.x,vh.y=e.frame.y,vh.width=t.width,vh.height=t.height,n=vh),h=a.framebuffer):(d=s.resolution,t||(Al.width=s._view.screen.width,Al.height=s._view.screen.height,t=Al),n||(n=Al,n.width=t.width,n.height=t.height));const p=this.viewportFrame;p.x=n.x*d,p.y=n.y*d,p.width=n.width*d,p.height=n.height*d,e||(p.y=s.view.height-(p.y+p.height)),p.ceil(),this.renderer.framebuffer.bind(h,p),this.renderer.projection.update(n,t,d,!h),e?this.renderer.mask.setMaskStack(a.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(n)}clear(e,t){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,s=ar.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&s.premultiply(s.alpha);const a=this.destinationFrame,h=this.current?this.current.baseTexture:this.renderer._view.screen,d=a.width!==h.width||a.height!==h.height;if(d){let{x:p,y:g,width:_,height:w}=this.viewportFrame;p=Math.round(p),g=Math.round(g),_=Math.round(_),w=Math.round(w),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(p,g,_,w)}this.renderer.framebuffer.clear(s.red,s.green,s.blue,s.alpha,t),d&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}Z_.extension={type:De.RendererSystem,name:"renderTexture"};Ze.add(Z_);class AE{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function CE(r,e){const t={},n=e.getProgramParameter(r,e.ACTIVE_ATTRIBUTES);for(let s=0;s<n;s++){const a=e.getActiveAttrib(r,s);if(a.name.startsWith("gl_"))continue;const h=O_(e,a.type),d={type:h,name:a.name,size:F_(h),location:e.getAttribLocation(r,a.name)};t[a.name]=d}return t}function PE(r,e){const t={},n=e.getProgramParameter(r,e.ACTIVE_UNIFORMS);for(let s=0;s<n;s++){const a=e.getActiveUniform(r,s),h=a.name.replace(/\[.*?\]$/,""),d=!!a.name.match(/\[.*?\]$/),p=O_(e,a.type);t[h]={name:h,index:s,type:p,size:a.size,isArray:d,value:N_(p,a.size)}}return t}function IE(r,e){var d;const t=Kv(r,r.VERTEX_SHADER,e.vertexSrc),n=Kv(r,r.FRAGMENT_SHADER,e.fragmentSrc),s=r.createProgram();r.attachShader(s,t),r.attachShader(s,n);const a=(d=e.extra)==null?void 0:d.transformFeedbackVaryings;if(a&&(typeof r.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):r.transformFeedbackVaryings(s,a.names,a.bufferMode==="separate"?r.SEPARATE_ATTRIBS:r.INTERLEAVED_ATTRIBS)),r.linkProgram(s),r.getProgramParameter(s,r.LINK_STATUS)||iE(r,s,t,n),e.attributeData=CE(s,r),e.uniformData=PE(s,r),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const p=Object.keys(e.attributeData);p.sort((g,_)=>g>_?1:-1);for(let g=0;g<p.length;g++)e.attributeData[p[g]].location=g,r.bindAttribLocation(s,g,p[g]);r.linkProgram(s)}r.deleteShader(t),r.deleteShader(n);const h={};for(const p in e.uniformData){const g=e.uniformData[p];h[p]={location:r.getUniformLocation(s,p),value:N_(g.type,g.size)}}return new AE(s,h)}function RE(r,e,t,n,s){t.buffer.update(s)}const kE={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},J_={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function ME(r){const e=r.map(a=>({data:a,offset:0,dataLen:0,dirty:0}));let t=0,n=0,s=0;for(let a=0;a<e.length;a++){const h=e[a];if(t=J_[h.data.type],h.data.size>1&&(t=Math.max(t,16)*h.data.size),h.dataLen=t,n%t!==0&&n<16){const d=n%t%16;n+=d,s+=d}n+t>16?(s=Math.ceil(s/16)*16,h.offset=s,s+=t,n=t):(h.offset=s,n+=t,s+=t)}return s=Math.ceil(s/16)*16,{uboElements:e,size:s}}function NE(r,e){const t=[];for(const n in r)e[n]&&t.push(e[n]);return t.sort((n,s)=>n.index-s.index),t}function LE(r,e){if(!r.autoManage)return{size:0,syncFunc:RE};const t=NE(r.uniforms,e),{uboElements:n,size:s}=ME(t),a=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let h=0;h<n.length;h++){const d=n[h],p=r.uniforms[d.data.name],g=d.data.name;let _=!1;for(let w=0;w<ec.length;w++){const b=ec[w];if(b.codeUbo&&b.test(d.data,p)){a.push(`offset = ${d.offset/4};`,ec[w].codeUbo(d.data.name,p)),_=!0;break}}if(!_)if(d.data.size>1){const w=F_(d.data.type),b=Math.max(J_[d.data.type]/16,1),E=w/b,T=(4-E%4)%4;a.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};

                t = 0;

                for(var i=0; i < ${d.data.size*b}; i++)
                {
                    for(var j = 0; j < ${E}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${T};
                }

                `)}else{const w=kE[d.data.type];a.push(`
                cv = ud.${g}.value;
                v = uv.${g};
                offset = ${d.offset/4};
                ${w};
                `)}}return a.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",a.join(`
`))}}let FE=0;const $d={textureCount:0,uboCount:0};class ex{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=FE++}systemCheck(){if(!oE())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,s=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(s.program)),t||($d.textureCount=0,$d.uboCount=0,this.syncUniformGroup(e.uniformGroup,$d)),s}setUniforms(e){const t=this.shader.program,n=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,t){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,t))}syncUniforms(e,t,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=tE(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const s=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,t);e.buffer.update(),s(n.uniformData,e.uniforms,this.renderer,$d,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[t])}createSyncBufferGroup(e,t,n){const{gl:s}=this.renderer;this.renderer.buffer.bind(e.buffer);const a=this.gl.getUniformBlockIndex(t.program,n);t.uniformBufferBindings[n]=this.shader.uniformBindCount,s.uniformBlockBinding(t.program,a,this.shader.uniformBindCount),this.shader.uniformBindCount++;const h=this.getSignature(e,this.shader.program.uniformData,"ubo");let d=this._uboCache[h];if(d||(d=this._uboCache[h]=LE(e,this.shader.program.uniformData)),e.autoManage){const p=new Float32Array(d.size/4);e.buffer.update(p)}return t.uniformGroups[e.id]=d.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,n){const s=e.uniforms,a=[`${n}-`];for(const h in s)a.push(h),t[h]&&a.push(t[h].type);return a.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,n=e.program,s=IE(t,n);return n.glPrograms[this.renderer.CONTEXT_UID]=s,s}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ex.extension={type:De.RendererSystem,name:"shader"};Ze.add(ex);class Cf{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.2 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}Cf.defaultOptions={hello:!1},Cf.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"startup"};Ze.add(Cf);function OE(r,e=[]){return e[tt.NORMAL]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.ADD]=[r.ONE,r.ONE],e[tt.MULTIPLY]=[r.DST_COLOR,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.SCREEN]=[r.ONE,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.OVERLAY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.DARKEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.LIGHTEN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.COLOR_DODGE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.COLOR_BURN]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.HARD_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.SOFT_LIGHT]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.DIFFERENCE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.EXCLUSION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.HUE]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.SATURATION]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.COLOR]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.LUMINOSITY]=[r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.NONE]=[0,0],e[tt.NORMAL_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.ADD_NPM]=[r.SRC_ALPHA,r.ONE,r.ONE,r.ONE],e[tt.SCREEN_NPM]=[r.SRC_ALPHA,r.ONE_MINUS_SRC_COLOR,r.ONE,r.ONE_MINUS_SRC_ALPHA],e[tt.SRC_IN]=[r.DST_ALPHA,r.ZERO],e[tt.SRC_OUT]=[r.ONE_MINUS_DST_ALPHA,r.ZERO],e[tt.SRC_ATOP]=[r.DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[tt.DST_OVER]=[r.ONE_MINUS_DST_ALPHA,r.ONE],e[tt.DST_IN]=[r.ZERO,r.SRC_ALPHA],e[tt.DST_OUT]=[r.ZERO,r.ONE_MINUS_SRC_ALPHA],e[tt.DST_ATOP]=[r.ONE_MINUS_DST_ALPHA,r.SRC_ALPHA],e[tt.XOR]=[r.ONE_MINUS_DST_ALPHA,r.ONE_MINUS_SRC_ALPHA],e[tt.SUBTRACT]=[r.ONE,r.ONE,r.ONE,r.ONE,r.FUNC_REVERSE_SUBTRACT,r.FUNC_ADD],e}const DE=0,BE=1,UE=2,zE=3,GE=4,jE=5,tx=class Hg{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=tt.NONE,this._blendEq=!1,this.map=[],this.map[DE]=this.setBlend,this.map[BE]=this.setOffset,this.map[UE]=this.setCullFace,this.map[zE]=this.setDepthTest,this.map[GE]=this.setFrontFace,this.map[jE]=this.setDepthMask,this.checks=[],this.defaultState=new Ms,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=OE(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,n=0;for(;t;)t&1&&this.map[n].call(this,!!(e.data&1<<n)),t=t>>1,n++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(Hg.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(Hg.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],n=this.gl;t.length===2?n.blendFunc(t[0],t[1]):n.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,n.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const n=this.checks.indexOf(e);t&&n===-1?this.checks.push(e):!t&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};tx.extension={type:De.RendererSystem,name:"state"};let HE=tx;Ze.add(HE);class $E extends Hh{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const t=(e.priority??[]).filter(s=>e.systems[s]),n=[...t,...Object.keys(e.systems).filter(s=>!t.includes(s))];for(const s of n)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Ki(t)})}addSystem(e,t){const n=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=n,this._systemsHash[t]=n;for(const s in this.runners)this.runners[s].add(n);return this}emitWithCustomOptions(e,t){const n=Object.keys(this._systemsHash);e.items.forEach(s=>{const a=n.find(h=>this._systemsHash[h]===s);s[e.name](t[a])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Th=class uf{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=uf.defaultMaxIdle,this.checkCountMax=uf.defaultCheckCountMax,this.mode=uf.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==vy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let n=!1;for(let s=0;s<t.length;s++){const a=t[s];a.resource&&this.count-a.touched>this.maxIdle&&(e.destroyTexture(a,!0),t[s]=null,n=!0)}if(n){let s=0;for(let a=0;a<t.length;a++)t[a]!==null&&(t[s++]=t[a]);t.length=s}}unload(e){const t=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&t.destroyTexture(n);for(let s=e.children.length-1;s>=0;s--)this.unload(e.children[s])}destroy(){this.renderer=null}};Th.defaultMode=vy.AUTO,Th.defaultMaxIdle=60*60,Th.defaultCheckCountMax=60*10,Th.extension={type:De.RendererSystem,name:"textureGC"};let Ol=Th;Ze.add(Ol);class ng{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=it.UNSIGNED_BYTE,this.internalFormat=Ne.RGBA,this.samplerType=0}}function VE(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[r.RGB]:Fe.FLOAT,[r.RGBA]:Fe.FLOAT,[r.ALPHA]:Fe.FLOAT,[r.LUMINANCE]:Fe.FLOAT,[r.LUMINANCE_ALPHA]:Fe.FLOAT,[r.R8]:Fe.FLOAT,[r.R8_SNORM]:Fe.FLOAT,[r.RG8]:Fe.FLOAT,[r.RG8_SNORM]:Fe.FLOAT,[r.RGB8]:Fe.FLOAT,[r.RGB8_SNORM]:Fe.FLOAT,[r.RGB565]:Fe.FLOAT,[r.RGBA4]:Fe.FLOAT,[r.RGB5_A1]:Fe.FLOAT,[r.RGBA8]:Fe.FLOAT,[r.RGBA8_SNORM]:Fe.FLOAT,[r.RGB10_A2]:Fe.FLOAT,[r.RGB10_A2UI]:Fe.FLOAT,[r.SRGB8]:Fe.FLOAT,[r.SRGB8_ALPHA8]:Fe.FLOAT,[r.R16F]:Fe.FLOAT,[r.RG16F]:Fe.FLOAT,[r.RGB16F]:Fe.FLOAT,[r.RGBA16F]:Fe.FLOAT,[r.R32F]:Fe.FLOAT,[r.RG32F]:Fe.FLOAT,[r.RGB32F]:Fe.FLOAT,[r.RGBA32F]:Fe.FLOAT,[r.R11F_G11F_B10F]:Fe.FLOAT,[r.RGB9_E5]:Fe.FLOAT,[r.R8I]:Fe.INT,[r.R8UI]:Fe.UINT,[r.R16I]:Fe.INT,[r.R16UI]:Fe.UINT,[r.R32I]:Fe.INT,[r.R32UI]:Fe.UINT,[r.RG8I]:Fe.INT,[r.RG8UI]:Fe.UINT,[r.RG16I]:Fe.INT,[r.RG16UI]:Fe.UINT,[r.RG32I]:Fe.INT,[r.RG32UI]:Fe.UINT,[r.RGB8I]:Fe.INT,[r.RGB8UI]:Fe.UINT,[r.RGB16I]:Fe.INT,[r.RGB16UI]:Fe.UINT,[r.RGB32I]:Fe.INT,[r.RGB32UI]:Fe.UINT,[r.RGBA8I]:Fe.INT,[r.RGBA8UI]:Fe.UINT,[r.RGBA16I]:Fe.INT,[r.RGBA16UI]:Fe.UINT,[r.RGBA32I]:Fe.INT,[r.RGBA32UI]:Fe.UINT,[r.DEPTH_COMPONENT16]:Fe.FLOAT,[r.DEPTH_COMPONENT24]:Fe.FLOAT,[r.DEPTH_COMPONENT32F]:Fe.FLOAT,[r.DEPTH_STENCIL]:Fe.FLOAT,[r.DEPTH24_STENCIL8]:Fe.FLOAT,[r.DEPTH32F_STENCIL8]:Fe.FLOAT}:e={[r.RGB]:Fe.FLOAT,[r.RGBA]:Fe.FLOAT,[r.ALPHA]:Fe.FLOAT,[r.LUMINANCE]:Fe.FLOAT,[r.LUMINANCE_ALPHA]:Fe.FLOAT,[r.DEPTH_STENCIL]:Fe.FLOAT},e}function WE(r){let e;return"WebGL2RenderingContext"in globalThis&&r instanceof globalThis.WebGL2RenderingContext?e={[it.UNSIGNED_BYTE]:{[Ne.RGBA]:r.RGBA8,[Ne.RGB]:r.RGB8,[Ne.RG]:r.RG8,[Ne.RED]:r.R8,[Ne.RGBA_INTEGER]:r.RGBA8UI,[Ne.RGB_INTEGER]:r.RGB8UI,[Ne.RG_INTEGER]:r.RG8UI,[Ne.RED_INTEGER]:r.R8UI,[Ne.ALPHA]:r.ALPHA,[Ne.LUMINANCE]:r.LUMINANCE,[Ne.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[it.BYTE]:{[Ne.RGBA]:r.RGBA8_SNORM,[Ne.RGB]:r.RGB8_SNORM,[Ne.RG]:r.RG8_SNORM,[Ne.RED]:r.R8_SNORM,[Ne.RGBA_INTEGER]:r.RGBA8I,[Ne.RGB_INTEGER]:r.RGB8I,[Ne.RG_INTEGER]:r.RG8I,[Ne.RED_INTEGER]:r.R8I},[it.UNSIGNED_SHORT]:{[Ne.RGBA_INTEGER]:r.RGBA16UI,[Ne.RGB_INTEGER]:r.RGB16UI,[Ne.RG_INTEGER]:r.RG16UI,[Ne.RED_INTEGER]:r.R16UI,[Ne.DEPTH_COMPONENT]:r.DEPTH_COMPONENT16},[it.SHORT]:{[Ne.RGBA_INTEGER]:r.RGBA16I,[Ne.RGB_INTEGER]:r.RGB16I,[Ne.RG_INTEGER]:r.RG16I,[Ne.RED_INTEGER]:r.R16I},[it.UNSIGNED_INT]:{[Ne.RGBA_INTEGER]:r.RGBA32UI,[Ne.RGB_INTEGER]:r.RGB32UI,[Ne.RG_INTEGER]:r.RG32UI,[Ne.RED_INTEGER]:r.R32UI,[Ne.DEPTH_COMPONENT]:r.DEPTH_COMPONENT24},[it.INT]:{[Ne.RGBA_INTEGER]:r.RGBA32I,[Ne.RGB_INTEGER]:r.RGB32I,[Ne.RG_INTEGER]:r.RG32I,[Ne.RED_INTEGER]:r.R32I},[it.FLOAT]:{[Ne.RGBA]:r.RGBA32F,[Ne.RGB]:r.RGB32F,[Ne.RG]:r.RG32F,[Ne.RED]:r.R32F,[Ne.DEPTH_COMPONENT]:r.DEPTH_COMPONENT32F},[it.HALF_FLOAT]:{[Ne.RGBA]:r.RGBA16F,[Ne.RGB]:r.RGB16F,[Ne.RG]:r.RG16F,[Ne.RED]:r.R16F},[it.UNSIGNED_SHORT_5_6_5]:{[Ne.RGB]:r.RGB565},[it.UNSIGNED_SHORT_4_4_4_4]:{[Ne.RGBA]:r.RGBA4},[it.UNSIGNED_SHORT_5_5_5_1]:{[Ne.RGBA]:r.RGB5_A1},[it.UNSIGNED_INT_2_10_10_10_REV]:{[Ne.RGBA]:r.RGB10_A2,[Ne.RGBA_INTEGER]:r.RGB10_A2UI},[it.UNSIGNED_INT_10F_11F_11F_REV]:{[Ne.RGB]:r.R11F_G11F_B10F},[it.UNSIGNED_INT_5_9_9_9_REV]:{[Ne.RGB]:r.RGB9_E5},[it.UNSIGNED_INT_24_8]:{[Ne.DEPTH_STENCIL]:r.DEPTH24_STENCIL8},[it.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[Ne.DEPTH_STENCIL]:r.DEPTH32F_STENCIL8}}:e={[it.UNSIGNED_BYTE]:{[Ne.RGBA]:r.RGBA,[Ne.RGB]:r.RGB,[Ne.ALPHA]:r.ALPHA,[Ne.LUMINANCE]:r.LUMINANCE,[Ne.LUMINANCE_ALPHA]:r.LUMINANCE_ALPHA},[it.UNSIGNED_SHORT_5_6_5]:{[Ne.RGB]:r.RGB},[it.UNSIGNED_SHORT_4_4_4_4]:{[Ne.RGBA]:r.RGBA},[it.UNSIGNED_SHORT_5_5_5_1]:{[Ne.RGBA]:r.RGBA}},e}class rx{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new gt,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=WE(e),this.samplerTypes=VE(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let s=0;s<t;s++)this.boundTextures[s]=null;this.emptyTextures={};const n=new ng(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new ng(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let s=0;s<6;s++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let s=0;s<this.boundTextures.length;s++)this.bind(null,s)}bind(e,t=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const s=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(e.target,s.texture)),s.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),this.updateTexture(e)):s.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,n.activeTexture(n.TEXTURE0+t)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let s=0;s<n.length;s++)n[s]===this.unknownTexture&&this.bind(null,s)}for(let s=0;s<n.length;s++)n[s]===e&&(this.currentLocation!==s&&(t.activeTexture(t.TEXTURE0+s),this.currentLocation=s),t.bindTexture(e.target,this.emptyTextures[e.target].texture),n[s]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:n,CONTEXT_UID:s}=this;if(n)for(let a=e-1;a>=0;--a){const h=t[a];h&&h._glTextures[s].samplerType!==Fe.FLOAT&&this.renderer.texture.unbind(h)}}initTexture(e){const t=new ng(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var n;t.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??Fe.FLOAT,this.webGLVersion===2&&e.type===it.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var s;const t=e._glTextures[this.CONTEXT_UID];if(!t)return;const n=this.renderer;if(this.initTextureType(e,t),(s=e.resource)==null?void 0:s.upload(n,e,t))t.samplerType!==Fe.FLOAT&&(this.hasIntegerTextures=!0);else{const a=e.realWidth,h=e.realHeight,d=n.gl;(t.width!==a||t.height!==h||t.dirtyId<0)&&(t.width=a,t.height=h,d.texImage2D(e.target,0,t.internalFormat,a,h,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const s=this.managedTextures.indexOf(e);s!==-1&&Nh(this.managedTextures,s,1)}}updateTextureStyle(e){var n;const t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===xa.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=yo.CLAMP:t.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const n=this.gl;if(t.mipmap&&e.mipmap!==xa.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,t.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===mo.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const s=this.renderer.context.extensions.anisotropicFiltering;if(s&&e.anisotropicLevel>0&&e.scaleMode===mo.LINEAR){const a=Math.min(e.anisotropicLevel,n.getParameter(s.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,s.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===mo.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===mo.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}rx.extension={type:De.RendererSystem,name:"texture"};Ze.add(rx);class nx{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,s=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:n,renderer:s}=this;t&&s.shader.bind(t),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:n,CONTEXT_UID:s}=this,a=t.createTransformFeedback();e._glTransformFeedbacks[s]=a,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,a);for(let h=0;h<e.buffers.length;h++){const d=e.buffers[h];d&&(n.buffer.update(d),d._glBuffers[s].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,h,d._glBuffers[s].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),a}disposeTransformFeedback(e,t){const n=e._glTransformFeedbacks[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this);const a=this.renderer.buffer;if(a)for(let h=0;h<e.buffers.length;h++){const d=e.buffers[h];if(!d)continue;const p=d._glBuffers[this.CONTEXT_UID];p&&(p.refCount--,p.refCount===0&&!t&&a.dispose(d,t))}n&&(t||s.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}nx.extension={type:De.RendererSystem,name:"transformFeedback"};Ze.add(nx);class Pf{constructor(e){this.renderer=e}init(e){this.screen=new vt(0,0,e.width,e.height),this.element=e.view||Qe.ADAPTER.createCanvas(),this.resolution=e.resolution||Qe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const n=this.element.width/this.resolution,s=this.element.height/this.resolution;this.screen.width=n,this.screen.height=s,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${s}px`),this.renderer.emit("resize",n,s),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&((t=this.element.parentNode)==null||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Pf.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Pf.extension={type:[De.RendererSystem,De.CanvasRendererSystem],name:"_view"};Ze.add(Pf);Qe.PREFER_ENV=Hl.WEBGL2;Qe.STRICT_TEXTURE_CACHE=!1;Qe.RENDER_OPTIONS={...Af.defaultOptions,...Tf.defaultOptions,...Pf.defaultOptions,...Cf.defaultOptions};Object.defineProperties(Qe,{WRAP_MODE:{get(){return gt.defaultOptions.wrapMode},set(r){St("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),gt.defaultOptions.wrapMode=r}},SCALE_MODE:{get(){return gt.defaultOptions.scaleMode},set(r){St("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),gt.defaultOptions.scaleMode=r}},MIPMAP_TEXTURES:{get(){return gt.defaultOptions.mipmap},set(r){St("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),gt.defaultOptions.mipmap=r}},ANISOTROPIC_LEVEL:{get(){return gt.defaultOptions.anisotropicLevel},set(r){St("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),gt.defaultOptions.anisotropicLevel=r}},FILTER_RESOLUTION:{get(){return St("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Qu.defaultResolution},set(r){Qu.defaultResolution=r}},FILTER_MULTISAMPLE:{get(){return St("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Qu.defaultMultisample},set(r){Qu.defaultMultisample=r}},SPRITE_MAX_TEXTURES:{get(){return Fl.defaultMaxTextures},set(r){St("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Fl.defaultMaxTextures=r}},SPRITE_BATCH_SIZE:{get(){return Fl.defaultBatchSize},set(r){St("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Fl.defaultBatchSize=r}},CAN_UPLOAD_SAME_BUFFER:{get(){return Fl.canUploadSameBuffer},set(r){St("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Fl.canUploadSameBuffer=r}},GC_MODE:{get(){return Ol.defaultMode},set(r){St("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Ol.defaultMode=r}},GC_MAX_IDLE:{get(){return Ol.defaultMaxIdle},set(r){St("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Ol.defaultMaxIdle=r}},GC_MAX_CHECK_COUNT:{get(){return Ol.defaultCheckCountMax},set(r){St("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Ol.defaultCheckCountMax=r}},PRECISION_VERTEX:{get(){return go.defaultVertexPrecision},set(r){St("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),go.defaultVertexPrecision=r}},PRECISION_FRAGMENT:{get(){return go.defaultFragmentPrecision},set(r){St("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),go.defaultFragmentPrecision=r}}});var cc=(r=>(r[r.INTERACTION=50]="INTERACTION",r[r.HIGH=25]="HIGH",r[r.NORMAL=0]="NORMAL",r[r.LOW=-25]="LOW",r[r.UTILITY=-50]="UTILITY",r))(cc||{});class ig{constructor(e,t=null,n=0,s=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=n,this.once=s}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const ix=class Kn{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ig(null,null,1/0),this.deltaMS=1/Kn.targetFPMS,this.elapsedMS=1/Kn.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,n=cc.NORMAL){return this._addListener(new ig(e,t,n))}addOnce(e,t,n=cc.NORMAL){return this._addListener(new ig(e,t,n,!0))}_addListener(e){let t=this._head.next,n=this._head;if(!t)e.connect(n);else{for(;t;){if(e.priority>t.priority){e.connect(n);break}n=t,t=t.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,t){let n=this._head.next;for(;n;)n.match(e,t)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const a=e-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=e-a%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Kn.targetFPMS;const n=this._head;let s=n.next;for(;s;)s=s.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,t)/1e3,Kn.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Kn._shared){const e=Kn._shared=new Kn;e.autoStart=!0,e._protected=!0}return Kn._shared}static get system(){if(!Kn._system){const e=Kn._system=new Kn;e.autoStart=!0,e._protected=!0}return Kn._system}};ix.targetFPMS=.06;let pn=ix;Object.defineProperties(Qe,{TARGET_FPMS:{get(){return pn.targetFPMS},set(r){St("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),pn.targetFPMS=r}}});class sx{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,cc.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?pn.shared:new pn,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}sx.extension=De.Application;Ze.add(sx);const ox=[];Ze.handleByList(De.Renderer,ox);function XE(r){for(const e of ox)if(e.test(r))return new e(r);throw new Error("Unable to auto-detect a suitable renderer.")}class ax{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}t>=vr.HIGH?this.multisample=vr.HIGH:t>=vr.MEDIUM?this.multisample=vr.MEDIUM:t>=vr.LOW?this.multisample=vr.LOW:this.multisample=vr.NONE}destroy(){}}ax.extension={type:De.RendererSystem,name:"_multisample"};Ze.add(ax);class YE{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class lx{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);t.bindBuffer(e.type,s.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:n,CONTEXT_UID:s}=this;if(this.boundBufferBases[t]!==e){const a=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[t]=e,n.bindBufferBase(n.UNIFORM_BUFFER,t,a.buffer)}}bindBufferRange(e,t,n){const{gl:s,CONTEXT_UID:a}=this;n=n||0;const h=e._glBuffers[a]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,t||0,h.buffer,n*256,256)}update(e){const{gl:t,CONTEXT_UID:n}=this,s=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==s.updateID)if(s.updateID=e._updateID,t.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const a=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,a)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],s=this.gl;e.disposeRunner.remove(this),n&&(t||s.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let n=0;n<t.length;n++)this.dispose(this.managedBuffers[t[n]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:n}=this;return e._glBuffers[t]=new YE(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}lx.extension={type:De.RendererSystem,name:"buffer"};Ze.add(lx);class ux{constructor(e){this.renderer=e}render(e,t){const n=this.renderer;let s,a,h,d;if(t&&(s=t.renderTexture,a=t.clear,h=t.transform,d=t.skipUpdateTransform),this.renderingToScreen=!s,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=h,!n.context.isLost){if(s||(this.lastObjectRendered=e),!d){const p=e.enableTempParent();e.updateTransform(),e.disableTempParent(p)}n.renderTexture.bind(s),n.batch.currentRenderer.start(),(a??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),s&&(t.blit&&n.framebuffer.blit(),s.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ux.extension={type:De.RendererSystem,name:"objectRenderer"};Ze.add(ux);const cf=class $g extends $E{constructor(e){super(),this.type=g_.WEBGL,e=Object.assign({},Qe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Zi({projectionMatrix:new Jt},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:$g.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(St("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=$g.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:Sb()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return St("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return St("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return St("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return St("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){St("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return St("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){St("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return St("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};cf.extension={type:De.Renderer,priority:1},cf.__plugins={},cf.__systems={};let Ey=cf;Ze.handleByMap(De.RendererPlugin,Ey.__plugins);Ze.handleByMap(De.RendererSystem,Ey.__systems);Ze.add(Ey);class cx extends Oh{constructor(e,t){const{width:n,height:s}=t||{};super(n,s),this.items=[],this.itemDirtyIds=[];for(let a=0;a<e;a++){const h=new gt;this.items.push(h),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Oh?this.addResourceAt(e[n],n):this.addResourceAt(I_(e[n],t),n))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{const{realWidth:t,realHeight:n}=this.items[0];return this.resize(t,n),this.update(),Promise.resolve(this)}),this._load}}class qE extends cx{constructor(e,t){const{width:n,height:s}=t||{};let a,h;Array.isArray(e)?(a=e,h=e.length):h=e,super(h,{width:n,height:s}),a&&this.initFromArray(a,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Ju.TEXTURE_2D_ARRAY}upload(e,t,n){const{length:s,itemDirtyIds:a,items:h}=this,{gl:d}=e;n.dirtyId<0&&d.texImage3D(d.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,s,0,t.format,n.type,null);for(let p=0;p<s;p++){const g=h[p];a[p]<g.dirtyId&&(a[p]=g.dirtyId,g.valid&&d.texSubImage3D(d.TEXTURE_2D_ARRAY,0,0,0,p,g.resource.width,g.resource.height,1,t.format,n.type,g.resource.source))}return!0}}class QE extends _o{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const hx=class Ah extends cx{constructor(e,t){const{width:n,height:s,autoLoad:a,linkBaseTexture:h}=t||{};if(e&&e.length!==Ah.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:s});for(let d=0;d<Ah.SIDES;d++)this.items[d].target=Ju.TEXTURE_CUBE_MAP_POSITIVE_X+d;this.linkBaseTexture=h!==!1,e&&this.initFromArray(e,t),a!==!1&&this.load()}bind(e){super.bind(e),e.target=Ju.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=Ju.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,n){const s=this.itemDirtyIds;for(let a=0;a<Ah.SIDES;a++){const h=this.items[a];(s[a]<h.dirtyId||n.dirtyId<t.dirtyId)&&(h.valid&&h.resource?(h.resource.upload(e,h,n),s[a]=h.dirtyId):s[a]<-1&&(e.gl.texImage2D(h.target,0,n.internalFormat,t.realWidth,t.realHeight,0,t.format,n.type,null),s[a]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===Ah.SIDES}};hx.SIDES=6;let KE=hx;class Ku extends _o{constructor(e,t){t=t||{};let n,s,a;typeof e=="string"?(n=Ku.EMPTY,s=e,a=!0):(n=e,s=null,a=!1),super(n),this.url=s,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??a,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,t)=>{if(this.url===null){e(this);return}try{const n=await Qe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const s=await n.blob();if(this.destroyed)return;const a=await createImageBitmap(s,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===mi.UNPACK?"premultiply":"none"});if(this.destroyed){a.close();return}this.source=a,this.update(),e(this)}catch(n){if(this.destroyed)return;t(n),this.onError.emit(n)}}),this._load)}upload(e,t,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Ku._EMPTY=Ku._EMPTY??Qe.ADAPTER.createCanvas(0,0),Ku._EMPTY}}const Vg=class hf extends _o{constructor(e,t){t=t||{},super(Qe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},hf.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;_o.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,n=e.height;if(!t||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let s=t*this.scale,a=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(s=this._overrideWidth||this._overrideHeight/n*t,a=this._overrideHeight||this._overrideWidth/t*n),s=Math.round(s),a=Math.round(a);const h=this.source;h.width=s,h.height=a,h._pixiId=`canvas_${Fh()}`,h.getContext("2d").drawImage(e,0,0,t,n,0,0,s,a),this._resolve(),this._resolve=null}}static getSize(e){const t=hf.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&hf.SVG_XML.test(e)}};Vg.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Vg.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Wg=Vg;class ZE extends _o{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const Xg=class Yg extends _o{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");t.autoLoad!==!1&&n.setAttribute("preload","auto"),t.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),t.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),t.loop===!0&&n.setAttribute("loop",""),t.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const s=e[0].src||e[0];_o.crossOrigin(n,s,t.crossorigin);for(let a=0;a<e.length;++a){const h=document.createElement("source");let{src:d,mime:p}=e[a];if(d=d||e[a],d.startsWith("data:"))p=d.slice(5,d.indexOf(";"));else if(!d.startsWith("blob:")){const g=d.split("?").shift().toLowerCase(),_=g.slice(g.lastIndexOf(".")+1);p=p||Yg.MIME_TYPES[_]||`video/${_}`}h.src=d,p&&(h.type=p),n.appendChild(h)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const t=pn.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,n)=>{this.valid?t(this):(this._resolve=t,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(pn.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(pn.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(pn.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||Yg.TYPES.includes(t)}};Xg.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Xg.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let dx=Xg;Lg.push(Ku,U_,QE,dx,ZE,Wg,R_,KE,qE);class If{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?vt.EMPTY:(e=e||new vt(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){const{a:n,b:s,c:a,d:h,tx:d,ty:p}=e,g=n*t.x+a*t.y+d,_=s*t.x+h*t.y+p;this.minX=Math.min(this.minX,g),this.maxX=Math.max(this.maxX,g),this.minY=Math.min(this.minY,_),this.maxY=Math.max(this.maxY,_)}addQuad(e){let t=this.minX,n=this.minY,s=this.maxX,a=this.maxY,h=e[0],d=e[1];t=h<t?h:t,n=d<n?d:n,s=h>s?h:s,a=d>a?d:a,h=e[2],d=e[3],t=h<t?h:t,n=d<n?d:n,s=h>s?h:s,a=d>a?d:a,h=e[4],d=e[5],t=h<t?h:t,n=d<n?d:n,s=h>s?h:s,a=d>a?d:a,h=e[6],d=e[7],t=h<t?h:t,n=d<n?d:n,s=h>s?h:s,a=d>a?d:a,this.minX=t,this.minY=n,this.maxX=s,this.maxY=a}addFrame(e,t,n,s,a){this.addFrameMatrix(e.worldTransform,t,n,s,a)}addFrameMatrix(e,t,n,s,a){const h=e.a,d=e.b,p=e.c,g=e.d,_=e.tx,w=e.ty;let b=this.minX,E=this.minY,T=this.maxX,I=this.maxY,C=h*t+p*n+_,M=d*t+g*n+w;b=C<b?C:b,E=M<E?M:E,T=C>T?C:T,I=M>I?M:I,C=h*s+p*n+_,M=d*s+g*n+w,b=C<b?C:b,E=M<E?M:E,T=C>T?C:T,I=M>I?M:I,C=h*t+p*a+_,M=d*t+g*a+w,b=C<b?C:b,E=M<E?M:E,T=C>T?C:T,I=M>I?M:I,C=h*s+p*a+_,M=d*s+g*a+w,b=C<b?C:b,E=M<E?M:E,T=C>T?C:T,I=M>I?M:I,this.minX=b,this.minY=E,this.maxX=T,this.maxY=I}addVertexData(e,t,n){let s=this.minX,a=this.minY,h=this.maxX,d=this.maxY;for(let p=t;p<n;p+=2){const g=e[p],_=e[p+1];s=g<s?g:s,a=_<a?_:a,h=g>h?g:h,d=_>d?_:d}this.minX=s,this.minY=a,this.maxX=h,this.maxY=d}addVertices(e,t,n,s){this.addVerticesMatrix(e.worldTransform,t,n,s)}addVerticesMatrix(e,t,n,s,a=0,h=a){const d=e.a,p=e.b,g=e.c,_=e.d,w=e.tx,b=e.ty;let E=this.minX,T=this.minY,I=this.maxX,C=this.maxY;for(let M=n;M<s;M+=2){const z=t[M],N=t[M+1],G=d*z+g*N+w,O=_*N+p*z+b;E=Math.min(E,G-a),I=Math.max(I,G+a),T=Math.min(T,O-h),C=Math.max(C,O+h)}this.minX=E,this.minY=T,this.maxX=I,this.maxY=C}addBounds(e){const t=this.minX,n=this.minY,s=this.maxX,a=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>a?e.maxY:a}addBoundsMask(e,t){const n=e.minX>t.minX?e.minX:t.minX,s=e.minY>t.minY?e.minY:t.minY,a=e.maxX<t.maxX?e.maxX:t.maxX,h=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=a&&s<=h){const d=this.minX,p=this.minY,g=this.maxX,_=this.maxY;this.minX=n<d?n:d,this.minY=s<p?s:p,this.maxX=a>g?a:g,this.maxY=h>_?h:_}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){const n=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,a=e.maxX<t.x+t.width?e.maxX:t.x+t.width,h=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=a&&s<=h){const d=this.minX,p=this.minY,g=this.maxX,_=this.maxY;this.minX=n<d?n:d,this.minY=s<p?s:p,this.maxX=a>g?a:g,this.maxY=h>_?h:_}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,n,s,a,h){e-=a,t-=h,n+=a,s+=h,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>s?this.maxY:s}}class Sa extends Hh{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Zf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new If,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const t=Object.keys(e);for(let n=0;n<t.length;++n){const s=t[n];Object.defineProperty(Sa.prototype,s,Object.getOwnPropertyDescriptor(e,s))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new vt),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new vt),e=this._localBoundsRect),this._localBounds||(this._localBounds=new If);const t=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const s=this._bounds,a=this._boundsID;this._bounds=this._localBounds;const h=this.getBounds(!1,e);return this.parent=n,this.transform=t,this._bounds=s,this._bounds.updateID+=this._boundsID-a,h}toGlobal(e,t,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,n,s){return t&&(e=t.toGlobal(e,n,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,t=0,n=1,s=1,a=0,h=0,d=0,p=0,g=0){return this.position.x=e,this.position.y=t,this.scale.x=n||1,this.scale.y=s||1,this.rotation=a,this.skew.x=h,this.skew.y=d,this.pivot.x=p,this.pivot.y=g,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new JE),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*Yb}set angle(e){this.transform.rotation=e*qb}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){const t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}}class JE extends Sa{constructor(){super(...arguments),this.sortDirty=null}}Sa.prototype.displayObjectUpdateTransform=Sa.prototype.updateTransform;const eT=new Jt;function tT(r,e){return r.zIndex===e.zIndex?r._lastSortedIndex-e._lastSortedIndex:r.zIndex-e.zIndex}const fx=class qg extends Sa{constructor(){super(),this.children=[],this.sortableChildren=qg.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const n=this.getChildIndex(e),s=this.getChildIndex(t);this.children[n]=t,this.children[s]=e,this.onChildrenChange(n<s?n:s)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Nh(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],n=this.children.indexOf(t);if(n===-1)return null;t.parent=null,t.transform._parentID=-1,Nh(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this),this.emit("childRemoved",t,this,n)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,Nh(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const n=e,s=t,a=s-n;let h;if(a>0&&a<=s){h=this.children.splice(n,a);for(let d=0;d<h.length;++d)h[d].parent=null,h[d].transform&&(h[d].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let d=0;d<h.length;++d)h[d].emit("removed",this),this.emit("childRemoved",h[d],this,d);return h}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,n=this.children.length;t<n;++t){const s=this.children[t];s._lastSortedIndex=t,!e&&s.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(tT),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const n=t._mask.isMaskData?t._mask.maskObject:t._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(t._bounds,n._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const n=super.getLocalBounds(e);if(!t)for(let s=0,a=this.children.length;s<a;++s){const h=this.children[s];h.visible&&h.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let n,s;this.cullArea?(n=this.cullArea,s=this.worldTransform):this._render!==qg.prototype._render&&(n=this.getBounds(!0));const a=e.projection.transform;if(a&&(s?(s=eT.copyFrom(s),s.prepend(a)):s=a),n&&t.intersects(n,s))this._render(e);else if(this.cullArea)return;for(let h=0,d=this.children.length;h<d;++h){const p=this.children[h],g=p.cullable;p.cullable=g||!this.cullArea,p.render(e),p.cullable=g}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(t=this.filters)!=null&&t.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,s=this.children.length;n<s;++n)this.children[n].render(e)}}renderAdvanced(e){var a,h,d;const t=this.filters,n=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let p=0;p<t.length;p++)t[p].enabled&&this._enabledFilters.push(t[p])}const s=t&&((a=this._enabledFilters)==null?void 0:a.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Tr.NONE));if(s&&e.batch.flush(),t&&((h=this._enabledFilters)!=null&&h.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let p=0,g=this.children.length;p<g;++p)this.children[p].render(e)}s&&e.batch.flush(),n&&e.mask.pop(this),t&&((d=this._enabledFilters)!=null&&d.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(t)for(let s=0;s<n.length;++s)n[s].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};fx.defaultSortableChildren=!1;let ei=fx;ei.prototype.containerUpdateTransform=ei.prototype.updateTransform;Object.defineProperties(Qe,{SORTABLE_CHILDREN:{get(){return ei.defaultSortableChildren},set(r){St("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ei.defaultSortableChildren=r}}});var tp=(r=>(r[r.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",r[r.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",r))(tp||{});const _h=new yt,rT=new Uint16Array([0,1,2,0,2,3]);class $l extends ei{constructor(e){super(),this._anchor=new Cs(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new ar(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=tt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ze.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=rT,this.pluginName="batch",this.isSprite=!0,this._roundPixels=Qe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=qu(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=qu(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const t=this.transform.worldTransform,n=t.a,s=t.b,a=t.c,h=t.d,d=t.tx,p=t.ty,g=this.vertexData,_=e.trim,w=e.orig,b=this._anchor;let E=0,T=0,I=0,C=0;if(_?(T=_.x-b._x*w.width,E=T+_.width,C=_.y-b._y*w.height,I=C+_.height):(T=-b._x*w.width,E=T+w.width,C=-b._y*w.height,I=C+w.height),g[0]=n*T+a*C+d,g[1]=h*C+s*T+p,g[2]=n*E+a*C+d,g[3]=h*C+s*E+p,g[4]=n*E+a*I+d,g[5]=h*I+s*E+p,g[6]=n*T+a*I+d,g[7]=h*I+s*T+p,this._roundPixels){const M=Qe.RESOLUTION;for(let z=0;z<g.length;++z)g[z]=Math.round(g[z]*M)/M}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,t=this.vertexTrimmedData,n=e.orig,s=this._anchor,a=this.transform.worldTransform,h=a.a,d=a.b,p=a.c,g=a.d,_=a.tx,w=a.ty,b=-s._x*n.width,E=b+n.width,T=-s._y*n.height,I=T+n.height;if(t[0]=h*b+p*T+_,t[1]=g*T+d*b+w,t[2]=h*E+p*T+_,t[3]=g*T+d*E+w,t[4]=h*E+p*I+_,t[5]=g*I+d*E+w,t[6]=h*b+p*I+_,t[7]=g*I+d*b+w,this._roundPixels){const C=Qe.RESOLUTION;for(let M=0;M<t.length;++M)t[M]=Math.round(t[M]*C)/C}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new If),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new vt),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,_h);const t=this._texture.orig.width,n=this._texture.orig.height,s=-t*this.anchor.x;let a=0;return _h.x>=s&&_h.x<s+t&&(a=-n*this.anchor.y,_h.y>=a&&_h.y<a+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const t=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){const n=e instanceof ze?e:ze.from(e,t);return new $l(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const t=qu(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const t=qu(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ze.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Vd={willReadFrequently:!0},Es=class Ye{static get experimentalLetterSpacingSupported(){let e=Ye._experimentalLetterSpacingSupported;if(e!==void 0){const t=Qe.ADAPTER.getCanvasRenderingContext2D().prototype;e=Ye._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,n,s,a,h,d,p,g){this.text=e,this.style=t,this.width=n,this.height=s,this.lines=a,this.lineWidths=h,this.lineHeight=d,this.maxLineWidth=p,this.fontProperties=g}static measureText(e,t,n,s=Ye._canvas){n=n??t.wordWrap;const a=t.toFontString(),h=Ye.measureFont(a);h.fontSize===0&&(h.fontSize=t.fontSize,h.ascent=t.fontSize);const d=s.getContext("2d",Vd);d.font=a;const p=(n?Ye.wordWrap(e,t,s):e).split(/(?:\r\n|\r|\n)/),g=new Array(p.length);let _=0;for(let T=0;T<p.length;T++){const I=Ye._measureText(p[T],t.letterSpacing,d);g[T]=I,_=Math.max(_,I)}let w=_+t.strokeThickness;t.dropShadow&&(w+=t.dropShadowDistance);const b=t.lineHeight||h.fontSize+t.strokeThickness;let E=Math.max(b,h.fontSize+t.strokeThickness*2)+t.leading+(p.length-1)*(b+t.leading);return t.dropShadow&&(E+=t.dropShadowDistance),new Ye(e,t,w,E,p,g,b+t.leading,_,h)}static _measureText(e,t,n){let s=!1;Ye.experimentalLetterSpacingSupported&&(Ye.experimentalLetterSpacing?(n.letterSpacing=`${t}px`,n.textLetterSpacing=`${t}px`,s=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let a=n.measureText(e).width;return a>0&&(s?a-=t:a+=(Ye.graphemeSegmenter(e).length-1)*t),a}static wordWrap(e,t,n=Ye._canvas){const s=n.getContext("2d",Vd);let a=0,h="",d="";const p=Object.create(null),{letterSpacing:g,whiteSpace:_}=t,w=Ye.collapseSpaces(_),b=Ye.collapseNewlines(_);let E=!w;const T=t.wordWrapWidth+g,I=Ye.tokenize(e);for(let C=0;C<I.length;C++){let M=I[C];if(Ye.isNewline(M)){if(!b){d+=Ye.addLine(h),E=!w,h="",a=0;continue}M=" "}if(w){const N=Ye.isBreakingSpace(M),G=Ye.isBreakingSpace(h[h.length-1]);if(N&&G)continue}const z=Ye.getFromCache(M,g,p,s);if(z>T)if(h!==""&&(d+=Ye.addLine(h),h="",a=0),Ye.canBreakWords(M,t.breakWords)){const N=Ye.wordWrapSplit(M);for(let G=0;G<N.length;G++){let O=N[G],V=O,F=1;for(;N[G+F];){const ue=N[G+F];if(!Ye.canBreakChars(V,ue,M,G,t.breakWords))O+=ue;else break;V=ue,F++}G+=F-1;const Z=Ye.getFromCache(O,g,p,s);Z+a>T&&(d+=Ye.addLine(h),E=!1,h="",a=0),h+=O,a+=Z}}else{h.length>0&&(d+=Ye.addLine(h),h="",a=0);const N=C===I.length-1;d+=Ye.addLine(M,!N),E=!1,h="",a=0}else z+a>T&&(E=!1,d+=Ye.addLine(h),h="",a=0),(h.length>0||!Ye.isBreakingSpace(M)||E)&&(h+=M,a+=z)}return d+=Ye.addLine(h,!1),d}static addLine(e,t=!0){return e=Ye.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,n,s){let a=n[e];return typeof a!="number"&&(a=Ye._measureText(e,t,s)+t,n[e]=a),a}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const n=e[t];if(!Ye.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:Ye._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:Ye._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let n="";if(typeof e!="string")return t;for(let s=0;s<e.length;s++){const a=e[s],h=e[s+1];if(Ye.isBreakingSpace(a,h)||Ye.isNewline(a)){n!==""&&(t.push(n),n=""),t.push(a);continue}n+=a}return n!==""&&t.push(n),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,n,s,a){return!0}static wordWrapSplit(e){return Ye.graphemeSegmenter(e)}static measureFont(e){if(Ye._fonts[e])return Ye._fonts[e];const t={ascent:0,descent:0,fontSize:0},n=Ye._canvas,s=Ye._context;s.font=e;const a=Ye.METRICS_STRING+Ye.BASELINE_SYMBOL,h=Math.ceil(s.measureText(a).width);let d=Math.ceil(s.measureText(Ye.BASELINE_SYMBOL).width);const p=Math.ceil(Ye.HEIGHT_MULTIPLIER*d);if(d=d*Ye.BASELINE_MULTIPLIER|0,h===0||p===0)return Ye._fonts[e]=t,t;n.width=h,n.height=p,s.fillStyle="#f00",s.fillRect(0,0,h,p),s.font=e,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(a,0,d);const g=s.getImageData(0,0,h,p).data,_=g.length,w=h*4;let b=0,E=0,T=!1;for(b=0;b<d;++b){for(let I=0;I<w;I+=4)if(g[E+I]!==255){T=!0;break}if(!T)E+=w;else break}for(t.ascent=d-b,E=_-w,T=!1,b=p;b>d;--b){for(let I=0;I<w;I+=4)if(g[E+I]!==255){T=!0;break}if(!T)E-=w;else break}return t.descent=b-d,t.fontSize=t.ascent+t.descent,Ye._fonts[e]=t,t}static clearMetrics(e=""){e?delete Ye._fonts[e]:Ye._fonts={}}static get _canvas(){var e;if(!Ye.__canvas){let t;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",Vd))!=null&&e.measureText)return Ye.__canvas=n,n;t=Qe.ADAPTER.createCanvas()}catch{t=Qe.ADAPTER.createCanvas()}t.width=t.height=10,Ye.__canvas=t}return Ye.__canvas}static get _context(){return Ye.__context||(Ye.__context=Ye._canvas.getContext("2d",Vd)),Ye.__context}};Es.METRICS_STRING="|q",Es.BASELINE_SYMBOL="M",Es.BASELINE_MULTIPLIER=1.4,Es.HEIGHT_MULTIPLIER=2,Es.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const r=new Intl.Segmenter;return e=>[...r.segment(e)].map(t=>t.segment)}return r=>[...r]})(),Es.experimentalLetterSpacing=!1,Es._fonts={},Es._newlines=[10,13],Es._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Dl=Es;const nT=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],px=class Ch{constructor(e){this.styleID=0,this.reset(),og(this,e,e)}clone(){const e={};return og(e,this,Ch.defaultStyle),new Ch(e)}reset(){og(this,Ch.defaultStyle,Ch.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=sg(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=sg(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){iT(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=sg(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let n=t.length-1;n>=0;n--){let s=t[n].trim();!/([\"\'])[^\'\"]+\1/.test(s)&&!nT.includes(s)&&(s=`"${s}"`),t[n]=s}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};px.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:tp.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let Rf=px;function sg(r){const e=ar.shared,t=n=>{const s=e.setValue(n);return s.alpha===1?s.toHex():s.toRgbaString()};return Array.isArray(r)?r.map(t):t(r)}function iT(r,e){if(!Array.isArray(r)||!Array.isArray(e)||r.length!==e.length)return!1;for(let t=0;t<r.length;++t)if(r[t]!==e[t])return!1;return!0}function og(r,e,t){for(const n in t)Array.isArray(e[n])?r[n]=e[n].slice():r[n]=e[n]}const sT={texture:!0,children:!1,baseTexture:!0},mx=class Qg extends $l{constructor(e,t,n){let s=!1;n||(n=Qe.ADAPTER.createCanvas(),s=!0),n.width=3,n.height=3;const a=ze.from(n);a.orig=new vt,a.trim=new vt,super(a),this._ownCanvas=s,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Qg.defaultResolution??Qe.RESOLUTION,this._autoResolution=Qg.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return Dl.experimentalLetterSpacing}static set experimentalLetterSpacing(e){St("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Dl.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,s=Dl.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),a=s.width,h=s.height,d=s.lines,p=s.lineHeight,g=s.lineWidths,_=s.maxLineWidth,w=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,a)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,h)+t.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=t.strokeThickness,n.textBaseline=t.textBaseline,n.lineJoin=t.lineJoin,n.miterLimit=t.miterLimit;let b,E;const T=t.dropShadow?2:1;for(let I=0;I<T;++I){const C=t.dropShadow&&I===0,M=C?Math.ceil(Math.max(1,h)+t.padding*2):0,z=M*this._resolution;if(C){n.fillStyle="black",n.strokeStyle="black";const G=t.dropShadowColor,O=t.dropShadowBlur*this._resolution,V=t.dropShadowDistance*this._resolution;n.shadowColor=ar.shared.setValue(G).setAlpha(t.dropShadowAlpha).toRgbaString(),n.shadowBlur=O,n.shadowOffsetX=Math.cos(t.dropShadowAngle)*V,n.shadowOffsetY=Math.sin(t.dropShadowAngle)*V+z}else n.fillStyle=this._generateFillStyle(t,d,s),n.strokeStyle=t.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let N=(p-w.fontSize)/2;p-w.fontSize<0&&(N=0);for(let G=0;G<d.length;G++)b=t.strokeThickness/2,E=t.strokeThickness/2+G*p+w.ascent+N,t.align==="right"?b+=_-g[G]:t.align==="center"&&(b+=(_-g[G])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(d[G],b+t.padding,E+t.padding-M,!0),t.fill&&this.drawLetterSpacing(d[G],b+t.padding,E+t.padding-M)}this.updateTexture()}drawLetterSpacing(e,t,n,s=!1){const a=this._style.letterSpacing;let h=!1;if(Dl.experimentalLetterSpacingSupported&&(Dl.experimentalLetterSpacing?(this.context.letterSpacing=`${a}px`,this.context.textLetterSpacing=`${a}px`,h=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),a===0||h){s?this.context.strokeText(e,t,n):this.context.fillText(e,t,n);return}let d=t;const p=Dl.graphemeSegmenter(e);let g=this.context.measureText(e).width,_=0;for(let w=0;w<p.length;++w){const b=p[w];s?this.context.strokeText(b,d,n):this.context.fillText(b,d,n);let E="";for(let T=w+1;T<p.length;++T)E+=p[T];_=this.context.measureText(E).width,d+=g-_+a,g=_}}updateTexture(){const e=this.canvas;if(this._style.trim){const h=Ob(e);h.data&&(e.width=h.width,e.height=h.height,this.context.putImageData(h.data,0,0))}const t=this._texture,n=this._style,s=n.trim?0:n.padding,a=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-s,t.trim.y=-s,t.orig.width=t._frame.width-s*2,t.orig.height=t._frame.height-s*2,this._onTextureUpdate(),a.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,n){const s=e.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;let a;const h=e.dropShadow?e.dropShadowDistance:0,d=e.padding||0,p=this.canvas.width/this._resolution-h-d*2,g=this.canvas.height/this._resolution-h-d*2,_=s.slice(),w=e.fillGradientStops.slice();if(!w.length){const b=_.length+1;for(let E=1;E<b;++E)w.push(E/b)}if(_.unshift(s[0]),w.unshift(0),_.push(s[s.length-1]),w.push(1),e.fillGradientType===tp.LINEAR_VERTICAL){a=this.context.createLinearGradient(p/2,d,p/2,g+d);const b=n.fontProperties.fontSize+e.strokeThickness;for(let E=0;E<t.length;E++){const T=n.lineHeight*(E-1)+b,I=n.lineHeight*E;let C=I;E>0&&T>I&&(C=(I+T)/2);const M=I+b,z=n.lineHeight*(E+1);let N=M;E+1<t.length&&z<M&&(N=(M+z)/2);const G=(N-C)/g;for(let O=0;O<_.length;O++){let V=0;typeof w[O]=="number"?V=w[O]:V=O/_.length;let F=Math.min(1,Math.max(0,C/g+V*G));F=Number(F.toFixed(5)),a.addColorStop(F,_[O])}}}else{a=this.context.createLinearGradient(d,g/2,p+d,g/2);const b=_.length+1;let E=1;for(let T=0;T<_.length;T++){let I;typeof w[T]=="number"?I=w[T]:I=E/b,a.addColorStop(I,_[T]),E++}}return a}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},sT,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=qu(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=qu(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof Rf?this._style=e:this._style=new Rf(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};mx.defaultAutoResolution=!0;let oT=mx;class kf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class df{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const t=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const a in t){const h=t[a].match(/^[a-z]+/gm)[0],d=t[a].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(const g in d){const _=d[g].split("="),w=_[0],b=_[1].replace(/"/gm,""),E=parseFloat(b),T=isNaN(E)?b:E;p[w]=T}n[h].push(p)}const s=new kf;return n.info.forEach(a=>s.info.push({face:a.face,size:parseInt(a.size,10)})),n.common.forEach(a=>s.common.push({lineHeight:parseInt(a.lineHeight,10)})),n.page.forEach(a=>s.page.push({id:parseInt(a.id,10),file:a.file})),n.char.forEach(a=>s.char.push({id:parseInt(a.id,10),page:parseInt(a.page,10),x:parseInt(a.x,10),y:parseInt(a.y,10),width:parseInt(a.width,10),height:parseInt(a.height,10),xoffset:parseInt(a.xoffset,10),yoffset:parseInt(a.yoffset,10),xadvance:parseInt(a.xadvance,10)})),n.kerning.forEach(a=>s.kerning.push({first:parseInt(a.first,10),second:parseInt(a.second,10),amount:parseInt(a.amount,10)})),n.distanceField.forEach(a=>s.distanceField.push({distanceRange:parseInt(a.distanceRange,10),fieldType:a.fieldType})),s}}class Kg{static test(e){const t=e;return typeof e!="string"&&"getElementsByTagName"in e&&t.getElementsByTagName("page").length&&t.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const t=new kf,n=e.getElementsByTagName("info"),s=e.getElementsByTagName("common"),a=e.getElementsByTagName("page"),h=e.getElementsByTagName("char"),d=e.getElementsByTagName("kerning"),p=e.getElementsByTagName("distanceField");for(let g=0;g<n.length;g++)t.info.push({face:n[g].getAttribute("face"),size:parseInt(n[g].getAttribute("size"),10)});for(let g=0;g<s.length;g++)t.common.push({lineHeight:parseInt(s[g].getAttribute("lineHeight"),10)});for(let g=0;g<a.length;g++)t.page.push({id:parseInt(a[g].getAttribute("id"),10)||0,file:a[g].getAttribute("file")});for(let g=0;g<h.length;g++){const _=h[g];t.char.push({id:parseInt(_.getAttribute("id"),10),page:parseInt(_.getAttribute("page"),10)||0,x:parseInt(_.getAttribute("x"),10),y:parseInt(_.getAttribute("y"),10),width:parseInt(_.getAttribute("width"),10),height:parseInt(_.getAttribute("height"),10),xoffset:parseInt(_.getAttribute("xoffset"),10),yoffset:parseInt(_.getAttribute("yoffset"),10),xadvance:parseInt(_.getAttribute("xadvance"),10)})}for(let g=0;g<d.length;g++)t.kerning.push({first:parseInt(d[g].getAttribute("first"),10),second:parseInt(d[g].getAttribute("second"),10),amount:parseInt(d[g].getAttribute("amount"),10)});for(let g=0;g<p.length;g++)t.distanceField.push({fieldType:p[g].getAttribute("fieldType"),distanceRange:parseInt(p[g].getAttribute("distanceRange"),10)});return t}}class Zg{static test(e){return typeof e=="string"&&e.includes("<font>")?Kg.test(Qe.ADAPTER.parseXML(e)):!1}static parse(e){return Kg.parse(Qe.ADAPTER.parseXML(e))}}const ag=[df,Kg,Zg];function aT(r){for(let e=0;e<ag.length;e++)if(ag[e].test(r))return ag[e];return null}function lT(r,e,t,n,s,a){const h=t.fill;if(Array.isArray(h)){if(h.length===1)return h[0]}else return h;let d;const p=t.dropShadow?t.dropShadowDistance:0,g=t.padding||0,_=r.width/n-p-g*2,w=r.height/n-p-g*2,b=h.slice(),E=t.fillGradientStops.slice();if(!E.length){const T=b.length+1;for(let I=1;I<T;++I)E.push(I/T)}if(b.unshift(h[0]),E.unshift(0),b.push(h[h.length-1]),E.push(1),t.fillGradientType===tp.LINEAR_VERTICAL){d=e.createLinearGradient(_/2,g,_/2,w+g);let T=0;const I=(a.fontProperties.fontSize+t.strokeThickness)/w;for(let C=0;C<s.length;C++){const M=a.lineHeight*C;for(let z=0;z<b.length;z++){let N=0;typeof E[z]=="number"?N=E[z]:N=z/b.length;const G=M/w+N*I;let O=Math.max(T,G);O=Math.min(O,1),d.addColorStop(O,b[z]),T=O}}}else{d=e.createLinearGradient(g,w/2,_+g,w/2);const T=b.length+1;let I=1;for(let C=0;C<b.length;C++){let M;typeof E[C]=="number"?M=E[C]:M=I/T,d.addColorStop(M,b[C]),I++}}return d}function uT(r,e,t,n,s,a,h){const d=t.text,p=t.fontProperties;e.translate(n,s),e.scale(a,a);const g=h.strokeThickness/2,_=-(h.strokeThickness/2);if(e.font=h.toFontString(),e.lineWidth=h.strokeThickness,e.textBaseline=h.textBaseline,e.lineJoin=h.lineJoin,e.miterLimit=h.miterLimit,e.fillStyle=lT(r,e,h,a,[d],t),e.strokeStyle=h.stroke,h.dropShadow){const w=h.dropShadowColor,b=h.dropShadowBlur*a,E=h.dropShadowDistance*a;e.shadowColor=ar.shared.setValue(w).setAlpha(h.dropShadowAlpha).toRgbaString(),e.shadowBlur=b,e.shadowOffsetX=Math.cos(h.dropShadowAngle)*E,e.shadowOffsetY=Math.sin(h.dropShadowAngle)*E}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;h.stroke&&h.strokeThickness&&e.strokeText(d,g,_+t.lineHeight-p.descent),h.fill&&e.fillText(d,g,_+t.lineHeight-p.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function ff(r){return r.codePointAt?r.codePointAt(0):r.charCodeAt(0)}function gx(r){return Array.from?Array.from(r):r.split("")}function cT(r){typeof r=="string"&&(r=[r]);const e=[];for(let t=0,n=r.length;t<n;t++){const s=r[t];if(Array.isArray(s)){if(s.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${s.length}.`);const a=s[0].charCodeAt(0),h=s[1].charCodeAt(0);if(h<a)throw new Error("[BitmapFont]: Invalid character range.");for(let d=a,p=h;d<=p;d++)e.push(String.fromCharCode(d))}else e.push(...gx(s))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const pa=class Ts{constructor(e,t,n){var _;const[s]=e.info,[a]=e.common,[h]=e.page,[d]=e.distanceField,p=uc(h.file),g={};this._ownsTextures=n,this.font=s.face,this.size=s.size,this.lineHeight=a.lineHeight/p,this.chars={},this.pageTextures=g;for(let w=0;w<e.page.length;w++){const{id:b,file:E}=e.page[w];g[b]=t instanceof Array?t[w]:t[E],d!=null&&d.fieldType&&d.fieldType!=="none"&&(g[b].baseTexture.alphaMode=mi.NO_PREMULTIPLIED_ALPHA,g[b].baseTexture.mipmap=xa.OFF)}for(let w=0;w<e.char.length;w++){const{id:b,page:E}=e.char[w];let{x:T,y:I,width:C,height:M,xoffset:z,yoffset:N,xadvance:G}=e.char[w];T/=p,I/=p,C/=p,M/=p,z/=p,N/=p,G/=p;const O=new vt(T+g[E].frame.x/p,I+g[E].frame.y/p,C,M);this.chars[b]={xOffset:z,yOffset:N,xAdvance:G,kerning:{},texture:new ze(g[E].baseTexture,O),page:E}}for(let w=0;w<e.kerning.length;w++){let{first:b,second:E,amount:T}=e.kerning[w];b/=p,E/=p,T/=p,this.chars[E]&&(this.chars[E].kerning[b]=T)}this.distanceFieldRange=d==null?void 0:d.distanceRange,this.distanceFieldType=((_=d==null?void 0:d.fieldType)==null?void 0:_.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,n){let s;if(e instanceof kf)s=e;else{const h=aT(e);if(!h)throw new Error("Unrecognized data format for font.");s=h.parse(e)}t instanceof ze&&(t=[t]);const a=new Ts(s,t,n);return Ts.available[a.font]=a,a}static uninstall(e){const t=Ts.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete Ts.available[e]}static from(e,t,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:s,padding:a,resolution:h,textureWidth:d,textureHeight:p,...g}=Object.assign({},Ts.defaultOptions,n),_=cT(s),w=t instanceof Rf?t:new Rf(t),b=d,E=new kf;E.info[0]={face:w.fontFamily,size:w.fontSize},E.common[0]={lineHeight:w.fontSize};let T=0,I=0,C,M,z,N=0;const G=[];for(let V=0;V<_.length;V++){C||(C=Qe.ADAPTER.createCanvas(),C.width=d,C.height=p,M=C.getContext("2d"),z=new gt(C,{resolution:h,...g}),G.push(new ze(z)),E.page.push({id:G.length-1,file:""}));const F=_[V],Z=Dl.measureText(F,w,!1,C),ue=Z.width,ye=Math.ceil(Z.height),Te=Math.ceil((w.fontStyle==="italic"?2:1)*ue);if(I>=p-ye*h){if(I===0)throw new Error(`[BitmapFont] textureHeight ${p}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${F}')`);--V,C=null,M=null,z=null,I=0,T=0,N=0;continue}if(N=Math.max(ye+Z.fontProperties.descent,N),Te*h+T>=b){if(T===0)throw new Error(`[BitmapFont] textureWidth ${d}px is too small (fontFamily: '${w.fontFamily}', fontSize: ${w.fontSize}px, char: '${F}')`);--V,I+=N*h,I=Math.ceil(I),T=0,N=0;continue}uT(C,M,Z,T,I,h,w);const K=ff(Z.text);E.char.push({id:K,page:G.length-1,x:T/h,y:I/h,width:Te,height:ye,xoffset:0,yoffset:0,xadvance:ue-(w.dropShadow?w.dropShadowDistance:0)-(w.stroke?w.strokeThickness:0)}),T+=(Te+2*a)*h,T=Math.ceil(T)}if(!(n!=null&&n.skipKerning))for(let V=0,F=_.length;V<F;V++){const Z=_[V];for(let ue=0;ue<F;ue++){const ye=_[ue],Te=M.measureText(Z).width,K=M.measureText(ye).width,ie=M.measureText(Z+ye).width-(Te+K);ie&&E.kerning.push({first:ff(Z),second:ff(ye),amount:ie})}}const O=new Ts(E,G,!0);return Ts.available[e]!==void 0&&Ts.uninstall(e),Ts.available[e]=O,O}};pa.ALPHA=[["a","z"],["A","Z"]," "],pa.NUMERIC=[["0","9"]],pa.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],pa.ASCII=[[" ","~"]],pa.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:pa.ALPHANUMERIC},pa.available={};let ma=pa;class hT{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}}const lg=new yt,a1=new jl,yx=class vx extends ei{constructor(e,t,n,s=Yi.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=n||Ms.for2d(),this.drawMode=s,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=Qe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Yi.TRIANGLES&&t.length<vx.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const s=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[s]),e.plugins[s].render(this)}calculateVertices(){const e=this.geometry.buffers[0],t=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));const s=this.transform.worldTransform,a=s.a,h=s.b,d=s.c,p=s.d,g=s.tx,_=s.ty,w=this.vertexData;for(let b=0;b<w.length/2;b++){const E=t[b*2],T=t[b*2+1];w[b*2]=a*E+d*T+g,w[b*2+1]=h*E+p*T+_}if(this._roundPixels){const b=Qe.RESOLUTION;for(let E=0;E<w.length;++E)w[E]=Math.round(w[E]*b)/b}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new hT(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,lg);const t=this.geometry.getBuffer("aVertexPosition").data,n=a1.points,s=this.geometry.getIndex().data,a=s.length,h=this.drawMode===4?3:1;for(let d=0;d+2<a;d+=h){const p=s[d]*2,g=s[d+1]*2,_=s[d+2]*2;if(n[0]=t[p],n[1]=t[p+1],n[2]=t[g],n[3]=t[g+1],n[4]=t[_],n[5]=t[_+1],a1.contains(lg.x,lg.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};yx.BATCHABLE_SIZE=100;let Dh=yx;class rp extends wa{constructor(e,t,n){super();const s=new mr(e),a=new mr(t,!0),h=new mr(n,!0,!0);this.addAttribute("aVertexPosition",s,2,!1,it.FLOAT).addAttribute("aTextureCoord",a,2,!1,it.FLOAT).addIndex(h),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var dT=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,fT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Bh extends Is{constructor(e,t){const n={uSampler:e,alpha:1,uTextureMatrix:Jt.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(n,t.uniforms),super(t.program||go.from(fT,dT),n),this._colorDirty=!1,this.uvMatrix=new by(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new ar(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;ar.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var pT=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,mT=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const l1=[],u1=[],c1=[],_x=class xx extends ei{constructor(e,t={}){super();const{align:n,tint:s,maxWidth:a,letterSpacing:h,fontName:d,fontSize:p}=Object.assign({},xx.styleDefaults,t);if(!ma.available[d])throw new Error(`Missing BitmapFont "${d}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new ar(s),this._font=void 0,this._fontName=d,this._fontSize=p,this.text=e,this._maxWidth=a,this._maxLineHeight=0,this._letterSpacing=h,this._anchor=new Cs(()=>{this.dirty=!0},this,0,0),this._roundPixels=Qe.ROUND_PIXELS,this.dirty=!0,this._resolution=Qe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Te;const e=ma.available[this._fontName],t=this.fontSize,n=t/e.size,s=new yt,a=[],h=[],d=[],p=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",g=gx(p),_=this._maxWidth*e.size/t,w=e.distanceFieldType==="none"?l1:u1;let b=null,E=0,T=0,I=0,C=-1,M=0,z=0,N=0,G=0;for(let K=0;K<g.length;K++){const ie=g[K],he=ff(ie);if(/(?:\s)/.test(ie)&&(C=K,M=E,G++),ie==="\r"||ie===`
`){h.push(E),d.push(-1),T=Math.max(T,E),++I,++z,s.x=0,s.y+=e.lineHeight,b=null,G=0;continue}const Se=e.chars[he];if(!Se)continue;b&&Se.kerning[b]&&(s.x+=Se.kerning[b]);const B=c1.pop()||{texture:ze.EMPTY,line:0,charCode:0,prevSpaces:0,position:new yt};B.texture=Se.texture,B.line=I,B.charCode=he,B.position.x=Math.round(s.x+Se.xOffset+this._letterSpacing/2),B.position.y=Math.round(s.y+Se.yOffset),B.prevSpaces=G,a.push(B),E=B.position.x+Math.max(Se.xAdvance-Se.xOffset,Se.texture.orig.width),s.x+=Se.xAdvance+this._letterSpacing,N=Math.max(N,Se.yOffset+Se.texture.height),b=he,C!==-1&&_>0&&s.x>_&&(++z,Nh(a,1+C-z,1+K-C),K=C,C=-1,h.push(M),d.push(a.length>0?a[a.length-1].prevSpaces:0),T=Math.max(T,M),I++,s.x=0,s.y+=e.lineHeight,b=null,G=0)}const O=g[g.length-1];O!=="\r"&&O!==`
`&&(/(?:\s)/.test(O)&&(E=M),h.push(E),T=Math.max(T,E),d.push(-1));const V=[];for(let K=0;K<=I;K++){let ie=0;this._align==="right"?ie=T-h[K]:this._align==="center"?ie=(T-h[K])/2:this._align==="justify"&&(ie=d[K]<0?0:(T-h[K])/d[K]),V.push(ie)}const F=a.length,Z={},ue=[],ye=this._activePagesMeshData;w.push(...ye);for(let K=0;K<F;K++){const ie=a[K].texture,he=ie.baseTexture.uid;if(!Z[he]){let Se=w.pop();if(!Se){const j=new rp;let P,H;e.distanceFieldType==="none"?(P=new Bh(ze.EMPTY),H=tt.NORMAL):(P=new Bh(ze.EMPTY,{program:go.from(mT,pT),uniforms:{uFWidth:0}}),H=tt.NORMAL_NPM);const L=new Dh(j,P);L.blendMode=H,Se={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:L,vertices:null,uvs:null,indices:null}}Se.index=0,Se.indexCount=0,Se.vertexCount=0,Se.uvsCount=0,Se.total=0;const{_textureCache:B}=this;B[he]=B[he]||new ze(ie.baseTexture),Se.mesh.texture=B[he],Se.mesh.tint=this._tintColor.value,ue.push(Se),Z[he]=Se}Z[he].total++}for(let K=0;K<ye.length;K++)ue.includes(ye[K])||this.removeChild(ye[K].mesh);for(let K=0;K<ue.length;K++)ue[K].mesh.parent!==this&&this.addChild(ue[K].mesh);this._activePagesMeshData=ue;for(const K in Z){const ie=Z[K],he=ie.total;if(!(((Te=ie.indices)==null?void 0:Te.length)>6*he)||ie.vertices.length<Dh.BATCHABLE_SIZE*2)ie.vertices=new Float32Array(4*2*he),ie.uvs=new Float32Array(4*2*he),ie.indices=new Uint16Array(6*he);else{const Se=ie.total,B=ie.vertices;for(let j=Se*4*2;j<B.length;j++)B[j]=0}ie.mesh.size=6*he}for(let K=0;K<F;K++){const ie=a[K];let he=ie.position.x+V[ie.line]*(this._align==="justify"?ie.prevSpaces:1);this._roundPixels&&(he=Math.round(he));const Se=he*n,B=ie.position.y*n,j=ie.texture,P=Z[j.baseTexture.uid],H=j.frame,L=j._uvs,R=P.index++;P.indices[R*6+0]=0+R*4,P.indices[R*6+1]=1+R*4,P.indices[R*6+2]=2+R*4,P.indices[R*6+3]=0+R*4,P.indices[R*6+4]=2+R*4,P.indices[R*6+5]=3+R*4,P.vertices[R*8+0]=Se,P.vertices[R*8+1]=B,P.vertices[R*8+2]=Se+H.width*n,P.vertices[R*8+3]=B,P.vertices[R*8+4]=Se+H.width*n,P.vertices[R*8+5]=B+H.height*n,P.vertices[R*8+6]=Se,P.vertices[R*8+7]=B+H.height*n,P.uvs[R*8+0]=L.x0,P.uvs[R*8+1]=L.y0,P.uvs[R*8+2]=L.x1,P.uvs[R*8+3]=L.y1,P.uvs[R*8+4]=L.x2,P.uvs[R*8+5]=L.y2,P.uvs[R*8+6]=L.x3,P.uvs[R*8+7]=L.y3}this._textWidth=T*n,this._textHeight=(s.y+e.lineHeight)*n;for(const K in Z){const ie=Z[K];if(this.anchor.x!==0||this.anchor.y!==0){let j=0;const P=this._textWidth*this.anchor.x,H=this._textHeight*this.anchor.y;for(let L=0;L<ie.total;L++)ie.vertices[j++]-=P,ie.vertices[j++]-=H,ie.vertices[j++]-=P,ie.vertices[j++]-=H,ie.vertices[j++]-=P,ie.vertices[j++]-=H,ie.vertices[j++]-=P,ie.vertices[j++]-=H}this._maxLineHeight=N*n;const he=ie.mesh.geometry.getBuffer("aVertexPosition"),Se=ie.mesh.geometry.getBuffer("aTextureCoord"),B=ie.mesh.geometry.getIndex();he.data=ie.vertices,Se.data=ie.uvs,B.data=ie.indices,he.update(),Se.update(),B.update()}for(let K=0;K<a.length;K++)c1.push(a[K]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:n,size:s}=ma.available[this._fontName];if(n!=="none"){const{a,b:h,c:d,d:p}=this.worldTransform,g=Math.sqrt(a*a+h*h),_=Math.sqrt(d*d+p*p),w=(Math.abs(g)+Math.abs(_))/2,b=this.fontSize/s,E=e._view.resolution;for(const T of this._activePagesMeshData)T.mesh.shader.uniforms.uFWidth=w*t*b*E}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=ma.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!ma.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??ma.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,n=ma.available[this._fontName].distanceFieldType==="none"?l1:u1;n.push(...this._activePagesMeshData);for(const s of this._activePagesMeshData)this.removeChild(s.mesh);this._activePagesMeshData=[],n.filter(s=>t[s.mesh.texture.baseTexture.uid]).forEach(s=>{s.mesh.texture=ze.EMPTY});for(const s in t)t[s].destroy(),delete t[s];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};_x.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let gT=_x;const h1={loader:De.LoadParser,resolver:De.ResolveParser,cache:De.CacheParser,detection:De.DetectionParser};Ze.handle(De.Asset,r=>{const e=r.ref;Object.entries(h1).filter(([t])=>!!e[t]).forEach(([t,n])=>Ze.add(Object.assign(e[t],{extension:e[t].extension??n})))},r=>{const e=r.ref;Object.keys(h1).filter(t=>!!e[t]).forEach(t=>Ze.remove(e[t]))});class yT{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<t;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function pc(r,e){if(Array.isArray(e)){for(const t of e)if(r.startsWith(`data:${t}`))return!0;return!1}return r.startsWith(`data:${e}`)}function mc(r,e){const t=r.split("?")[0],n=vi.extname(t).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Xi=(r,e,t=!1)=>(Array.isArray(r)||(r=[r]),e?r.map(n=>typeof n=="string"||t?e(n):n):r),vT=(r,e)=>{const t=e.split("?")[1];return t&&(r+=`?${t}`),r};function wx(r,e,t,n,s){const a=e[t];for(let h=0;h<a.length;h++){const d=a[h];t<e.length-1?wx(r.replace(n[t],d),e,t+1,n,s):s.push(r.replace(n[t],d))}}function _T(r){const e=/\{(.*?)\}/g,t=r.match(e),n=[];if(t){const s=[];t.forEach(a=>{const h=a.substring(1,a.length-1).split(",");s.push(h)}),wx(r,s,0,t,n)}else n.push(r);return n}const Mf=r=>!Array.isArray(r);class xT{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){const n=Xi(e);let s;for(let d=0;d<this.parsers.length;d++){const p=this.parsers[d];if(p.test(t)){s=p.getCacheableAssets(n,t);break}}s||(s={},n.forEach(d=>{s[d]=t}));const a=Object.keys(s),h={cacheKeys:a,keys:n};if(n.forEach(d=>{this._cacheMap.set(d,h)}),a.forEach(d=>{this._cache.has(d)&&this._cache.get(d)!==t&&console.warn("[Cache] already has key:",d),this._cache.set(d,s[d])}),t instanceof ze){const d=t;n.forEach(p=>{d.baseTexture!==ze.EMPTY.baseTexture&&gt.addToCache(d.baseTexture,p),ze.addToCache(d,p)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const t=this._cacheMap.get(e);t.cacheKeys.forEach(n=>{this._cache.delete(n)}),t.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Bl=new xT;class wT{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,n)=>(this._parsersValidated=!1,e[t]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){const n={promise:null,parser:null};return n.promise=(async()=>{var h,d;let s=null,a=null;if(t.loadParser&&(a=this._parserHash[t.loadParser],a||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!a){for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];if(g.load&&((h=g.test)!=null&&h.call(g,e,t,this))){a=g;break}}if(!a)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}s=await a.load(e,t,this),n.parser=a;for(let p=0;p<this.parsers.length;p++){const g=this.parsers[p];g.parse&&g.parse&&await((d=g.testParse)==null?void 0:d.call(g,s,t,this))&&(s=await g.parse(s,t,this)||s,n.parser=g)}return s})(),n}async load(e,t){this._parsersValidated||this._validateParsers();let n=0;const s={},a=Mf(e),h=Xi(e,g=>({alias:[g],src:g})),d=h.length,p=h.map(async g=>{const _=vi.toAbsolute(g.src);if(!s[g.src])try{this.promiseCache[_]||(this.promiseCache[_]=this._getLoadPromiseAndParser(_,g)),s[g.src]=await this.promiseCache[_].promise,t&&t(++n/d)}catch(w){throw delete this.promiseCache[_],delete s[g.src],new Error(`[Loader.load] Failed to load ${_}.
${w}`)}});return await Promise.all(p),a?s[h[0].src]:s}async unload(e){const t=Xi(e,n=>({alias:[n],src:n})).map(async n=>{var h,d;const s=vi.toAbsolute(n.src),a=this.promiseCache[s];if(a){const p=await a.promise;delete this.promiseCache[s],(d=(h=a.parser)==null?void 0:h.unload)==null||d.call(h,p,n,this)}});await Promise.all(t)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),{...e,[t.name]:t}),{})}}var ba=(r=>(r[r.Low=0]="Low",r[r.Normal=1]="Normal",r[r.High=2]="High",r))(ba||{});const ST=".json",bT="application/json",ET={extension:{type:De.LoadParser,priority:ba.Low},name:"loadJson",test(r){return pc(r,bT)||mc(r,ST)},async load(r){return await(await Qe.ADAPTER.fetch(r)).json()}};Ze.add(ET);const TT=".txt",AT="text/plain",CT={name:"loadTxt",extension:{type:De.LoadParser,priority:ba.Low},test(r){return pc(r,AT)||mc(r,TT)},async load(r){return await(await Qe.ADAPTER.fetch(r)).text()}};Ze.add(CT);const PT=["normal","bold","100","200","300","400","500","600","700","800","900"],IT=[".ttf",".otf",".woff",".woff2"],RT=["font/ttf","font/otf","font/woff","font/woff2"],kT=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function MT(r){const e=vi.extname(r),t=vi.basename(r,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let n=t.length>0;for(const a of t)if(!a.match(kT)){n=!1;break}let s=t.join(" ");return n||(s=`"${s.replace(/[\\"]/g,"\\$&")}"`),s}const NT=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function LT(r){return NT.test(r)?r:encodeURI(r)}const FT={extension:{type:De.LoadParser,priority:ba.Low},name:"loadWebFont",test(r){return pc(r,RT)||mc(r,IT)},async load(r,e){var n,s,a;const t=Qe.ADAPTER.getFontFaceSet();if(t){const h=[],d=((n=e.data)==null?void 0:n.family)??MT(r),p=((a=(s=e.data)==null?void 0:s.weights)==null?void 0:a.filter(_=>PT.includes(_)))??["normal"],g=e.data??{};for(let _=0;_<p.length;_++){const w=p[_],b=new FontFace(d,`url(${LT(r)})`,{...g,weight:w});await b.load(),t.add(b),h.push(b)}return h.length===1?h[0]:h}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(r){(Array.isArray(r)?r:[r]).forEach(e=>Qe.ADAPTER.getFontFaceSet().delete(e))}};Ze.add(FT);const OT=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let tc=null,Jg=class{constructor(){tc||(tc=URL.createObjectURL(new Blob([OT],{type:"application/javascript"}))),this.worker=new Worker(tc)}};Jg.revokeObjectURL=function(){tc&&(URL.revokeObjectURL(tc),tc=null)};const DT=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let rc=null;class Sx{constructor(){rc||(rc=URL.createObjectURL(new Blob([DT],{type:"application/javascript"}))),this.worker=new Worker(rc)}}Sx.revokeObjectURL=function(){rc&&(URL.revokeObjectURL(rc),rc=null)};let d1=0,ug;class BT{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:t}=new Jg;t.addEventListener("message",n=>{t.terminate(),Jg.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){ug===void 0&&(ug=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<ug&&(this._createdWorkers++,e=new Sx().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,t){await this._initWorkers();const n=new Promise((s,a)=>{this.queue.push({id:e,arguments:t,resolve:s,reject:a})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const t=this.queue.pop(),n=t.id;this.resolveHash[d1]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:d1++,id:n})}}const f1=new BT;function Ty(r,e,t){r.resource.internal=!0;const n=new ze(r),s=()=>{delete e.promiseCache[t],Bl.has(t)&&Bl.remove(t)};return n.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),s())}),n.once("destroyed",()=>{r.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),s())}),n}const UT=[".jpeg",".jpg",".png",".webp",".avif"],zT=["image/jpeg","image/png","image/webp","image/avif"];async function GT(r){const e=await Qe.ADAPTER.fetch(r);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${r}: ${e.status} ${e.statusText}`);const t=await e.blob();return await createImageBitmap(t)}const np={name:"loadTextures",extension:{type:De.LoadParser,priority:ba.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(r){return pc(r,zT)||mc(r,UT)},async load(r,e,t){var d;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let s;n?this.config.preferWorkers&&await f1.isImageBitmapSupported()?s=await f1.loadImageBitmap(r):s=await GT(r):s=await new Promise((p,g)=>{const _=new Image;_.crossOrigin=this.config.crossOrigin,_.src=r,_.complete?p(_):(_.onload=()=>p(_),_.onerror=w=>g(w))});const a={...e.data};a.resolution??(a.resolution=uc(r)),n&&((d=a.resourceOptions)==null?void 0:d.ownsImageBitmap)===void 0&&(a.resourceOptions={...a.resourceOptions},a.resourceOptions.ownsImageBitmap=!0);const h=new gt(s,a);return h.resource.src=r,Ty(h,t,r)},unload(r){r.destroy(!0)}};Ze.add(np);const jT=".svg",HT="image/svg+xml",$T={extension:{type:De.LoadParser,priority:ba.High},name:"loadSVG",test(r){return pc(r,HT)||mc(r,jT)},async testParse(r){return Wg.test(r)},async parse(r,e,t){var a;const n=new Wg(r,(a=e==null?void 0:e.data)==null?void 0:a.resourceOptions);await n.load();const s=new gt(n,{resolution:uc(r),...e==null?void 0:e.data});return s.resource.src=e.src,Ty(s,t,e.src)},async load(r,e){return(await Qe.ADAPTER.fetch(r)).text()},unload:np.unload};Ze.add($T);const VT=[".mp4",".m4v",".webm",".ogv"],WT=["video/mp4","video/webm","video/ogg"],XT={name:"loadVideo",extension:{type:De.LoadParser,priority:ba.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(r){return pc(r,WT)||mc(r,VT)},async load(r,e,t){var h;let n;const s=await(await Qe.ADAPTER.fetch(r)).blob(),a=URL.createObjectURL(s);try{const d={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(h=e==null?void 0:e.data)==null?void 0:h.resourceOptions,autoLoad:!0},p=new dx(a,d);await p.load();const g=new gt(p,{alphaMode:await wb(),resolution:uc(r),...e==null?void 0:e.data});g.resource.src=r,n=Ty(g,t,r),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(a)})}catch(d){throw URL.revokeObjectURL(a),d}return n},unload(r){r.destroy(!0)}};Ze.add(XT);class YT{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const t=e;this._defaultSearchParams=Object.keys(t).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(t[n])}`).join("&")}}getAlias(e){const{alias:t,name:n,src:s,srcs:a}=e;return Xi(t||n||s||a,h=>typeof h=="string"?h:Array.isArray(h)?h.map(d=>(d==null?void 0:d.src)??(d==null?void 0:d.srcs)??d):h!=null&&h.src||h!=null&&h.srcs?h.src??h.srcs:h,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){const n=[];Array.isArray(t)?t.forEach(s=>{const a=s.src??s.srcs,h=s.alias??s.name;let d;if(typeof h=="string"){const p=this._createBundleAssetId(e,h);n.push(p),d=[h,p]}else{const p=h.map(g=>this._createBundleAssetId(e,g));n.push(...p),d=[...h,...p]}this.add({...s,alias:d,src:a})}):Object.keys(t).forEach(s=>{const a=[s,this._createBundleAssetId(e,s)];if(typeof t[s]=="string")this.add({alias:a,src:t[s]});else if(Array.isArray(t[s]))this.add({alias:a,src:t[s]});else{const h=t[s],d=h.src??h.srcs;this.add({...h,alias:a,src:Array.isArray(d)?d:[d]})}n.push(...a)}),this._bundles[e]=n}add(e,t,n,s,a){const h=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(St("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),h.push({alias:e,src:t,data:n,format:s,loadParser:a})):Array.isArray(e)?h.push(...e):h.push(e);let d;d=p=>{this.hasKey(p)&&console.warn(`[Resolver] already has key: ${p} overwriting`)},Xi(h).forEach(p=>{const{src:g,srcs:_}=p;let{data:w,format:b,loadParser:E}=p;const T=Xi(g||_).map(M=>typeof M=="string"?_T(M):Array.isArray(M)?M:[M]),I=this.getAlias(p);Array.isArray(I)?I.forEach(d):d(I);const C=[];T.forEach(M=>{M.forEach(z=>{let N={};if(typeof z!="object"){N.src=z;for(let G=0;G<this._parsers.length;G++){const O=this._parsers[G];if(O.test(z)){N=O.parse(z);break}}}else w=z.data??w,b=z.format??b,E=z.loadParser??E,N={...N,...z};if(!I)throw new Error(`[Resolver] alias is undefined for this asset: ${N.src}`);N=this.buildResolvedAsset(N,{aliases:I,data:w,format:b,loadParser:E}),C.push(N)})}),I.forEach(M=>{this._assetMap[M]=C})})}resolveBundle(e){const t=Mf(e);e=Xi(e);const n={};return e.forEach(s=>{const a=this._bundles[s];if(a){const h=this.resolve(a),d={};for(const p in h){const g=h[p];d[this._extractAssetIdFromBundle(s,p)]=g}n[s]=d}}),t?n[e[0]]:n}resolveUrl(e){const t=this.resolve(e);if(typeof e!="string"){const n={};for(const s in t)n[s]=t[s].src;return n}return t.src}resolve(e){const t=Mf(e);e=Xi(e);const n={};return e.forEach(s=>{if(!this._resolverHash[s])if(this._assetMap[s]){let a=this._assetMap[s];const h=a[0],d=this._getPreferredOrder(a);d==null||d.priority.forEach(p=>{d.params[p].forEach(g=>{const _=a.filter(w=>w[p]?w[p]===g:!1);_.length&&(a=_)})}),this._resolverHash[s]=a[0]??h}else this._resolverHash[s]=this.buildResolvedAsset({alias:[s],src:s},{});n[s]=this._resolverHash[s]}),t?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){const n=e[0],s=this._preferredOrder.find(a=>a.params.format.includes(n.format));if(s)return s}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){const{aliases:n,data:s,loadParser:a,format:h}=t;return(this._basePath||this._rootPath)&&(e.src=vi.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...s||{},...e.data},e.loadParser=a??e.loadParser,e.format=h??e.format??vi.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class qT{constructor(){this._detections=[],this._initialized=!1,this.resolver=new YT,this.loader=new wT,this.cache=Bl,this._backgroundLoader=new yT(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var a,h;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let d=e.manifest;typeof d=="string"&&(d=await this.load(d)),this.resolver.addManifest(d)}const t=((a=e.texturePreference)==null?void 0:a.resolution)??1,n=typeof t=="number"?[t]:t,s=await this._detectFormats({preferredFormats:(h=e.texturePreference)==null?void 0:h.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:s,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,t,n,s,a){this.resolver.add(e,t,n,s,a)}async load(e,t){this._initialized||await this.init();const n=Mf(e),s=Xi(e).map(d=>{if(typeof d!="string"){const p=this.resolver.getAlias(d);return p.some(g=>!this.resolver.hasKey(g))&&this.add(d),Array.isArray(p)?p[0]:p}return this.resolver.hasKey(d)||this.add({alias:d,src:d}),d}),a=this.resolver.resolve(s),h=await this._mapLoadToResolve(a,t);return n?h[s[0]]:h}addBundle(e,t){this.resolver.addBundle(e,t)}async loadBundle(e,t){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const s=this.resolver.resolveBundle(e),a={},h=Object.keys(s);let d=0,p=0;const g=()=>{t==null||t(++d/p)},_=h.map(w=>{const b=s[w];return p+=Object.keys(b).length,this._mapLoadToResolve(b,g).then(E=>{a[w]=E})});return await Promise.all(_),n?a[e[0]]:a}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const t=this.resolver.resolveBundle(e);Object.values(t).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Bl.get(e);const t={};for(let n=0;n<e.length;n++)t[n]=Bl.get(e[n]);return t}async _mapLoadToResolve(e,t){const n=Object.values(e),s=Object.keys(e);this._backgroundLoader.active=!1;const a=await this.loader.load(n,t);this._backgroundLoader.active=!0;const h={};return n.forEach((d,p)=>{const g=a[d.src],_=[d.src];d.alias&&_.push(...d.alias),h[s[p]]=g,Bl.set(_,g)}),h}async unload(e){this._initialized||await this.init();const t=Xi(e).map(s=>typeof s!="string"?s.src:s),n=this.resolver.resolve(t);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Xi(e);const t=this.resolver.resolveBundle(e),n=Object.keys(t).map(s=>this._unloadFromResolved(t[s]));await Promise.all(n)}async _unloadFromResolved(e){const t=Object.values(e);t.forEach(n=>{Bl.remove(n.src)}),await this.loader.unload(t)}async _detectFormats(e){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?t=await n.add(t):e.skipDetections||(t=await n.remove(t));return t=t.filter((n,s)=>t.indexOf(n)===s),t}get detections(){return this._detections}get preferWorkers(){return np.config.preferWorkers}set preferWorkers(e){St("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(n=>n in e).forEach(n=>{t.config[n]=e[n]})})}}const Wd=new qT;Ze.handleByList(De.LoadParser,Wd.loader.parsers).handleByList(De.ResolveParser,Wd.resolver.parsers).handleByList(De.CacheParser,Wd.cache.parsers).handleByList(De.DetectionParser,Wd.detections);const QT={extension:De.CacheParser,test:r=>Array.isArray(r)&&r.every(e=>e instanceof ze),getCacheableAssets:(r,e)=>{const t={};return r.forEach(n=>{e.forEach((s,a)=>{t[n+(a===0?"":a+1)]=s})}),t}};Ze.add(QT);async function bx(r){if("Image"in globalThis)return new Promise(e=>{const t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=r});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(r)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const KT={extension:{type:De.DetectionParser,priority:1},test:async()=>bx("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async r=>[...r,"avif"],remove:async r=>r.filter(e=>e!=="avif")};Ze.add(KT);const ZT={extension:{type:De.DetectionParser,priority:0},test:async()=>bx("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async r=>[...r,"webp"],remove:async r=>r.filter(e=>e!=="webp")};Ze.add(ZT);const p1=["png","jpg","jpeg"],JT={extension:{type:De.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async r=>[...r,...p1],remove:async r=>r.filter(e=>!p1.includes(e))};Ze.add(JT);const eA="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Ay(r){return eA?!1:document.createElement("video").canPlayType(r)!==""}const tA={extension:{type:De.DetectionParser,priority:0},test:async()=>Ay("video/webm"),add:async r=>[...r,"webm"],remove:async r=>r.filter(e=>e!=="webm")};Ze.add(tA);const rA={extension:{type:De.DetectionParser,priority:0},test:async()=>Ay("video/mp4"),add:async r=>[...r,"mp4","m4v"],remove:async r=>r.filter(e=>e!=="mp4"&&e!=="m4v")};Ze.add(rA);const nA={extension:{type:De.DetectionParser,priority:0},test:async()=>Ay("video/ogg"),add:async r=>[...r,"ogv"],remove:async r=>r.filter(e=>e!=="ogv")};Ze.add(nA);const iA={extension:De.ResolveParser,test:np.test,parse:r=>{var e;return{resolution:parseFloat(((e=Qe.RETINA_PREFIX.exec(r))==null?void 0:e[1])??"1"),format:vi.extname(r).slice(1),src:r}}};Ze.add(iA);const sA=[".xml",".fnt"],oA={extension:{type:De.LoadParser,priority:ba.Normal},name:"loadBitmapFont",test(r){return sA.includes(vi.extname(r).toLowerCase())},async testParse(r){return df.test(r)||Zg.test(r)},async parse(r,e,t){const n=df.test(r)?df.parse(r):Zg.parse(r),{src:s}=e,{page:a}=n,h=[];for(let g=0;g<a.length;++g){const _=a[g].file;let w=vi.join(vi.dirname(s),_);w=vT(w,s),h.push(w)}const d=await t.load(h),p=h.map(g=>d[g]);return ma.install(n,p,!0)},async load(r,e){return(await Qe.ADAPTER.fetch(r)).text()},unload(r){r.destroy()}};Ze.add(oA);const Nf={build(r){const e=r.points;let t,n,s,a,h,d;if(r.type===Hr.CIRC){const T=r.shape;t=T.x,n=T.y,h=d=T.radius,s=a=0}else if(r.type===Hr.ELIP){const T=r.shape;t=T.x,n=T.y,h=T.width,d=T.height,s=a=0}else{const T=r.shape,I=T.width/2,C=T.height/2;t=T.x+I,n=T.y+C,h=d=Math.max(0,Math.min(T.radius,Math.min(I,C))),s=I-h,a=C-d}if(!(h>=0&&d>=0&&s>=0&&a>=0)){e.length=0;return}const p=Math.ceil(2.3*Math.sqrt(h+d)),g=p*8+(s?4:0)+(a?4:0);if(e.length=g,g===0)return;if(p===0){e.length=8,e[0]=e[6]=t+s,e[1]=e[3]=n+a,e[2]=e[4]=t-s,e[5]=e[7]=n-a;return}let _=0,w=p*4+(s?2:0)+2,b=w,E=g;{const T=s+h,I=a,C=t+T,M=t-T,z=n+I;if(e[_++]=C,e[_++]=z,e[--w]=z,e[--w]=M,a){const N=n-I;e[b++]=M,e[b++]=N,e[--E]=N,e[--E]=C}}for(let T=1;T<p;T++){const I=Math.PI/2*(T/p),C=s+Math.cos(I)*h,M=a+Math.sin(I)*d,z=t+C,N=t-C,G=n+M,O=n-M;e[_++]=z,e[_++]=G,e[--w]=G,e[--w]=N,e[b++]=N,e[b++]=O,e[--E]=O,e[--E]=z}{const T=s,I=a+d,C=t+T,M=t-T,z=n+I,N=n-I;e[_++]=C,e[_++]=z,e[--E]=N,e[--E]=C,s&&(e[_++]=M,e[_++]=z,e[--E]=N,e[--E]=M)}},triangulate(r,e){const t=r.points,n=e.points,s=e.indices;if(t.length===0)return;let a=n.length/2;const h=a;let d,p;if(r.type!==Hr.RREC){const _=r.shape;d=_.x,p=_.y}else{const _=r.shape;d=_.x+_.width/2,p=_.y+_.height/2}const g=r.matrix;n.push(r.matrix?g.a*d+g.c*p+g.tx:d,r.matrix?g.b*d+g.d*p+g.ty:p),a++,n.push(t[0],t[1]);for(let _=2;_<t.length;_+=2)n.push(t[_],t[_+1]),s.push(a++,h,a);s.push(h+1,h,a)}};function m1(r,e=!1){const t=r.length;if(t<6)return;let n=0;for(let s=0,a=r[t-2],h=r[t-1];s<t;s+=2){const d=r[s],p=r[s+1];n+=(d-a)*(p+h),a=d,h=p}if(!e&&n>0||e&&n<=0){const s=t/2;for(let a=s+s%2;a<t;a+=2){const h=t-a-2,d=t-a-1,p=a,g=a+1;[r[h],r[p]]=[r[p],r[h]],[r[d],r[g]]=[r[g],r[d]]}}}const Ex={build(r){r.points=r.shape.points.slice()},triangulate(r,e){let t=r.points;const n=r.holes,s=e.points,a=e.indices;if(t.length>=6){m1(t,!1);const h=[];for(let g=0;g<n.length;g++){const _=n[g];m1(_.points,!0),h.push(t.length/2),t=t.concat(_.points)}const d=BS(t,h,2);if(!d)return;const p=s.length/2;for(let g=0;g<d.length;g+=3)a.push(d[g]+p),a.push(d[g+1]+p),a.push(d[g+2]+p);for(let g=0;g<t.length;g++)s.push(t[g])}}},aA={build(r){const e=r.shape,t=e.x,n=e.y,s=e.width,a=e.height,h=r.points;h.length=0,s>=0&&a>=0&&h.push(t,n,t+s,n,t+s,n+a,t,n+a)},triangulate(r,e){const t=r.points,n=e.points;if(t.length===0)return;const s=n.length/2;n.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(s,s+1,s+2,s+1,s+2,s+3)}},lA={build(r){Nf.build(r)},triangulate(r,e){Nf.triangulate(r,e)}};var pi=(r=>(r.MITER="miter",r.BEVEL="bevel",r.ROUND="round",r))(pi||{}),ya=(r=>(r.BUTT="butt",r.ROUND="round",r.SQUARE="square",r))(ya||{});const hc={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(r,e=20){if(!this.adaptive||!r||isNaN(r))return e;let t=Math.ceil(r/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};class g1{static curveTo(e,t,n,s,a,h){const d=h[h.length-2],p=h[h.length-1]-t,g=d-e,_=s-t,w=n-e,b=Math.abs(p*w-g*_);if(b<1e-8||a===0)return(h[h.length-2]!==e||h[h.length-1]!==t)&&h.push(e,t),null;const E=p*p+g*g,T=_*_+w*w,I=p*_+g*w,C=a*Math.sqrt(E)/b,M=a*Math.sqrt(T)/b,z=C*I/E,N=M*I/T,G=C*w+M*g,O=C*_+M*p,V=g*(M+z),F=p*(M+z),Z=w*(C+N),ue=_*(C+N),ye=Math.atan2(F-O,V-G),Te=Math.atan2(ue-O,Z-G);return{cx:G+e,cy:O+t,radius:a,startAngle:ye,endAngle:Te,anticlockwise:g*_>w*p}}static arc(e,t,n,s,a,h,d,p,g){const _=d-h,w=hc._segmentsCount(Math.abs(_)*a,Math.ceil(Math.abs(_)/Ef)*40),b=_/(w*2),E=b*2,T=Math.cos(b),I=Math.sin(b),C=w-1,M=C%1/C;for(let z=0;z<=C;++z){const N=z+M*z,G=b+h+E*N,O=Math.cos(G),V=-Math.sin(G);g.push((T*O+I*V)*a+n,(T*-V+I*O)*a+s)}}}class uA{constructor(){this.reset()}begin(e,t,n){this.reset(),this.style=e,this.start=t,this.attribStart=n}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Cy{static curveLength(e,t,n,s,a,h,d,p){let g=0,_=0,w=0,b=0,E=0,T=0,I=0,C=0,M=0,z=0,N=0,G=e,O=t;for(let V=1;V<=10;++V)_=V/10,w=_*_,b=w*_,E=1-_,T=E*E,I=T*E,C=I*e+3*T*_*n+3*E*w*a+b*d,M=I*t+3*T*_*s+3*E*w*h+b*p,z=G-C,N=O-M,G=C,O=M,g+=Math.sqrt(z*z+N*N);return g}static curveTo(e,t,n,s,a,h,d){const p=d[d.length-2],g=d[d.length-1];d.length-=2;const _=hc._segmentsCount(Cy.curveLength(p,g,e,t,n,s,a,h));let w=0,b=0,E=0,T=0,I=0;d.push(p,g);for(let C=1,M=0;C<=_;++C)M=C/_,w=1-M,b=w*w,E=b*w,T=M*M,I=T*M,d.push(E*p+3*b*M*e+3*w*T*n+I*a,E*g+3*b*M*t+3*w*T*s+I*h)}}function y1(r,e,t,n,s,a,h,d){const p=r-t*s,g=e-n*s,_=r+t*a,w=e+n*a;let b,E;h?(b=n,E=-t):(b=-n,E=t);const T=p+b,I=g+E,C=_+b,M=w+E;return d.push(T,I,C,M),2}function Cl(r,e,t,n,s,a,h,d){const p=t-r,g=n-e;let _=Math.atan2(p,g),w=Math.atan2(s-r,a-e);d&&_<w?_+=Math.PI*2:!d&&_>w&&(w+=Math.PI*2);let b=_;const E=w-_,T=Math.abs(E),I=Math.sqrt(p*p+g*g),C=(15*T*Math.sqrt(I)/Math.PI>>0)+1,M=E/C;if(b+=M,d){h.push(r,e,t,n);for(let z=1,N=b;z<C;z++,N+=M)h.push(r,e,r+Math.sin(N)*I,e+Math.cos(N)*I);h.push(r,e,s,a)}else{h.push(t,n,r,e);for(let z=1,N=b;z<C;z++,N+=M)h.push(r+Math.sin(N)*I,e+Math.cos(N)*I,r,e);h.push(s,a,r,e)}return C*2}function cA(r,e){const t=r.shape;let n=r.points||t.points.slice();const s=e.closePointEps;if(n.length===0)return;const a=r.lineStyle,h=new yt(n[0],n[1]),d=new yt(n[n.length-2],n[n.length-1]),p=t.type!==Hr.POLY||t.closeStroke,g=Math.abs(h.x-d.x)<s&&Math.abs(h.y-d.y)<s;if(p){n=n.slice(),g&&(n.pop(),n.pop(),d.set(n[n.length-2],n[n.length-1]));const j=(h.x+d.x)*.5,P=(d.y+h.y)*.5;n.unshift(j,P),n.push(j,P)}const _=e.points,w=n.length/2;let b=n.length;const E=_.length/2,T=a.width/2,I=T*T,C=a.miterLimit*a.miterLimit;let M=n[0],z=n[1],N=n[2],G=n[3],O=0,V=0,F=-(z-G),Z=M-N,ue=0,ye=0,Te=Math.sqrt(F*F+Z*Z);F/=Te,Z/=Te,F*=T,Z*=T;const K=a.alignment,ie=(1-K)*2,he=K*2;p||(a.cap===ya.ROUND?b+=Cl(M-F*(ie-he)*.5,z-Z*(ie-he)*.5,M-F*ie,z-Z*ie,M+F*he,z+Z*he,_,!0)+2:a.cap===ya.SQUARE&&(b+=y1(M,z,F,Z,ie,he,!0,_))),_.push(M-F*ie,z-Z*ie,M+F*he,z+Z*he);for(let j=1;j<w-1;++j){M=n[(j-1)*2],z=n[(j-1)*2+1],N=n[j*2],G=n[j*2+1],O=n[(j+1)*2],V=n[(j+1)*2+1],F=-(z-G),Z=M-N,Te=Math.sqrt(F*F+Z*Z),F/=Te,Z/=Te,F*=T,Z*=T,ue=-(G-V),ye=N-O,Te=Math.sqrt(ue*ue+ye*ye),ue/=Te,ye/=Te,ue*=T,ye*=T;const P=N-M,H=z-G,L=N-O,R=V-G,U=P*L+H*R,X=H*L-R*P,ee=X<0;if(Math.abs(X)<.001*Math.abs(U)){_.push(N-F*ie,G-Z*ie,N+F*he,G+Z*he),U>=0&&(a.join===pi.ROUND?b+=Cl(N,G,N-F*ie,G-Z*ie,N-ue*ie,G-ye*ie,_,!1)+4:b+=2,_.push(N-ue*he,G-ye*he,N+ue*ie,G+ye*ie));continue}const le=(-F+M)*(-Z+G)-(-F+N)*(-Z+z),de=(-ue+O)*(-ye+G)-(-ue+N)*(-ye+V),fe=(P*de-L*le)/X,me=(R*le-H*de)/X,xe=(fe-N)*(fe-N)+(me-G)*(me-G),ce=N+(fe-N)*ie,Pe=G+(me-G)*ie,Re=N-(fe-N)*he,He=G-(me-G)*he,dt=Math.min(P*P+H*H,L*L+R*R),Ve=ee?ie:he,We=dt+Ve*Ve*I,Ot=xe<=We;let Yt=a.join;if(Yt===pi.MITER&&xe/I>C&&(Yt=pi.BEVEL),Ot)switch(Yt){case pi.MITER:{_.push(ce,Pe,Re,He);break}case pi.BEVEL:{ee?_.push(ce,Pe,N+F*he,G+Z*he,ce,Pe,N+ue*he,G+ye*he):_.push(N-F*ie,G-Z*ie,Re,He,N-ue*ie,G-ye*ie,Re,He),b+=2;break}case pi.ROUND:{ee?(_.push(ce,Pe,N+F*he,G+Z*he),b+=Cl(N,G,N+F*he,G+Z*he,N+ue*he,G+ye*he,_,!0)+4,_.push(ce,Pe,N+ue*he,G+ye*he)):(_.push(N-F*ie,G-Z*ie,Re,He),b+=Cl(N,G,N-F*ie,G-Z*ie,N-ue*ie,G-ye*ie,_,!1)+4,_.push(N-ue*ie,G-ye*ie,Re,He));break}}else{switch(_.push(N-F*ie,G-Z*ie,N+F*he,G+Z*he),Yt){case pi.MITER:{ee?_.push(Re,He,Re,He):_.push(ce,Pe,ce,Pe),b+=2;break}case pi.ROUND:{ee?b+=Cl(N,G,N+F*he,G+Z*he,N+ue*he,G+ye*he,_,!0)+2:b+=Cl(N,G,N-F*ie,G-Z*ie,N-ue*ie,G-ye*ie,_,!1)+2;break}}_.push(N-ue*ie,G-ye*ie,N+ue*he,G+ye*he),b+=2}}M=n[(w-2)*2],z=n[(w-2)*2+1],N=n[(w-1)*2],G=n[(w-1)*2+1],F=-(z-G),Z=M-N,Te=Math.sqrt(F*F+Z*Z),F/=Te,Z/=Te,F*=T,Z*=T,_.push(N-F*ie,G-Z*ie,N+F*he,G+Z*he),p||(a.cap===ya.ROUND?b+=Cl(N-F*(ie-he)*.5,G-Z*(ie-he)*.5,N-F*ie,G-Z*ie,N+F*he,G+Z*he,_,!1)+2:a.cap===ya.SQUARE&&(b+=y1(N,G,F,Z,ie,he,!1,_)));const Se=e.indices,B=hc.epsilon*hc.epsilon;for(let j=E;j<b+E-2;++j)M=_[j*2],z=_[j*2+1],N=_[(j+1)*2],G=_[(j+1)*2+1],O=_[(j+2)*2],V=_[(j+2)*2+1],!(Math.abs(M*(G-V)+N*(V-z)+O*(z-G))<B)&&Se.push(j,j+1,j+2)}function hA(r,e){let t=0;const n=r.shape,s=r.points||n.points,a=n.type!==Hr.POLY||n.closeStroke;if(s.length===0)return;const h=e.points,d=e.indices,p=s.length/2,g=h.length/2;let _=g;for(h.push(s[0],s[1]),t=1;t<p;t++)h.push(s[t*2],s[t*2+1]),d.push(_,_+1),_++;a&&d.push(_,g)}function v1(r,e){r.lineStyle.native?hA(r,e):cA(r,e)}class Py{static curveLength(e,t,n,s,a,h){const d=e-2*n+a,p=t-2*s+h,g=2*n-2*e,_=2*s-2*t,w=4*(d*d+p*p),b=4*(d*g+p*_),E=g*g+_*_,T=2*Math.sqrt(w+b+E),I=Math.sqrt(w),C=2*w*I,M=2*Math.sqrt(E),z=b/I;return(C*T+I*b*(T-M)+(4*E*w-b*b)*Math.log((2*I+z+T)/(z+M)))/(4*C)}static curveTo(e,t,n,s,a){const h=a[a.length-2],d=a[a.length-1],p=hc._segmentsCount(Py.curveLength(h,d,e,t,n,s));let g=0,_=0;for(let w=1;w<=p;++w){const b=w/p;g=h+(e-h)*b,_=d+(t-d)*b,a.push(g+(e+(n-e)*b-g)*b,_+(t+(s-t)*b-_)*b)}}}const cg={[Hr.POLY]:Ex,[Hr.CIRC]:Nf,[Hr.ELIP]:Nf,[Hr.RECT]:aA,[Hr.RREC]:lA},_1=[],Xd=[];class Lf{constructor(e,t=null,n=null,s=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=t,this.matrix=s,this.type=e.type}clone(){return new Lf(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const ju=new yt,Tx=class Ax extends k_{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new If,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Xd.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),_1.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,n=null,s=null){const a=new Lf(e,t,n,s);return this.graphicsData.push(a),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const n=new Lf(e,null,null,t),s=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=s.lineStyle,s.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let n=0;n<t.length;++n){const s=t[n];if(s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(e,ju):ju.copyFrom(e),s.shape.contains(ju.x,ju.y))){let a=!1;if(s.holes){for(let h=0;h<s.holes.length;h++)if(s.holes[h].shape.contains(ju.x,ju.y)){a=!0;break}}if(!a)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let n=null,s=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],s=n.style);for(let p=this.shapeIndex;p<t.length;p++){this.shapeIndex++;const g=t[p],_=g.fillStyle,w=g.lineStyle;cg[g.type].build(g),g.matrix&&this.transformPoints(g.points,g.matrix),(_.visible||w.visible)&&this.processHoles(g.holes);for(let b=0;b<2;b++){const E=b===0?_:w;if(!E.visible)continue;const T=E.texture.baseTexture,I=this.indices.length,C=this.points.length/2;T.wrapMode=yo.REPEAT,b===0?this.processFill(g):this.processLine(g);const M=this.points.length/2-C;M!==0&&(n&&!this._compareStyles(s,E)&&(n.end(I,C),n=null),n||(n=_1.pop()||new uA,n.begin(E,I,C),this.batches.push(n),s=E),this.addUvs(this.points,e,E.texture,C,M,E.matrix))}}const a=this.indices.length,h=this.points.length/2;if(n&&n.end(a,h),this.batches.length===0){this.batchable=!0;return}const d=h>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&d===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=d?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const n=this.graphicsData[e],s=n.fillStyle,a=n.lineStyle;if(s&&!s.texture.baseTexture.valid||a&&!a.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,n=e.length;t<n;t++){const s=e[t];for(let a=0;a<s.size;a++){const h=s.start+a;this.indicesUint16[h]=this.indicesUint16[h]-s.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<Ax.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++gt._globalBatch;for(let w=0;w<this.drawCalls.length;w++)this.drawCalls[w].texArray.clear(),Xd.push(this.drawCalls[w]);this.drawCalls.length=0;const t=this.colors,n=this.textureIds;let s=Xd.pop();s||(s=new Og,s.texArray=new zg),s.texArray.count=0,s.start=0,s.size=0,s.type=Yi.TRIANGLES;let a=0,h=null,d=0,p=!1,g=Yi.TRIANGLES,_=0;this.drawCalls.push(s);for(let w=0;w<this.batches.length;w++){const b=this.batches[w],E=8,T=b.style,I=T.texture.baseTexture;p!==!!T.native&&(p=!!T.native,g=p?Yi.LINES:Yi.TRIANGLES,h=null,a=E,e++),h!==I&&(h=I,I._batchEnabled!==e&&(a===E&&(e++,a=0,s.size>0&&(s=Xd.pop(),s||(s=new Og,s.texArray=new zg),this.drawCalls.push(s)),s.start=_,s.size=0,s.texArray.count=0,s.type=g),I.touched=1,I._batchEnabled=e,I._batchLocation=a,I.wrapMode=yo.REPEAT,s.texArray.elements[s.texArray.count++]=I,a++)),s.size+=b.size,_+=b.size,d=I._batchLocation,this.addColors(t,T.color,T.alpha,b.attribSize,b.attribStart),this.addTextureIds(n,d,b.attribSize,b.attribStart)}gt._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,n=this.colors,s=this.textureIds,a=new ArrayBuffer(e.length*3*4),h=new Float32Array(a),d=new Uint32Array(a);let p=0;for(let g=0;g<e.length/2;g++)h[p++]=e[g*2],h[p++]=e[g*2+1],h[p++]=t[g*2],h[p++]=t[g*2+1],d[p++]=n[g],h[p++]=s[g];this._buffer.update(a),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?Ex.triangulate(e,this):cg[e.type].triangulate(e,this)}processLine(e){v1(e,this);for(let t=0;t<e.holes.length;t++)v1(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const n=e[t];cg[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let n=0;n<e.length/2;n++){const s=e[n*2],a=e[n*2+1];e[n*2]=t.a*s+t.c*a+t.tx,e[n*2+1]=t.b*s+t.d*a+t.ty}}addColors(e,t,n,s,a=0){const h=ar.shared.setValue(t).toLittleEndianNumber(),d=ar.shared.setValue(h).toPremultiplied(n);e.length=Math.max(e.length,a+s);for(let p=0;p<s;p++)e[a+p]=d}addTextureIds(e,t,n,s=0){e.length=Math.max(e.length,s+n);for(let a=0;a<n;a++)e[s+a]=t}addUvs(e,t,n,s,a,h=null){let d=0;const p=t.length,g=n.frame;for(;d<a;){let w=e[(s+d)*2],b=e[(s+d)*2+1];if(h){const E=h.a*w+h.c*b+h.tx;b=h.b*w+h.d*b+h.ty,w=E}d++,t.push(w/g.width,b/g.height)}const _=n.baseTexture;(g.width<_.width||g.height<_.height)&&this.adjustUvs(t,n,p,a)}adjustUvs(e,t,n,s){const a=t.baseTexture,h=1e-6,d=n+s*2,p=t.frame,g=p.width/a.width,_=p.height/a.height;let w=p.x/p.width,b=p.y/p.height,E=Math.floor(e[n]+h),T=Math.floor(e[n+1]+h);for(let I=n+2;I<d;I+=2)E=Math.min(E,Math.floor(e[I]+h)),T=Math.min(T,Math.floor(e[I+1]+h));w-=E,b-=T;for(let I=n;I<d;I+=2)e[I]=(e[I]+w)*g,e[I+1]=(e[I+1]+b)*_}};Tx.BATCHABLE_SIZE=100;let dA=Tx;class ip{constructor(){this.color=16777215,this.alpha=1,this.texture=ze.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new ip;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ze.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class Iy extends ip{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=ya.BUTT,this.join=pi.MITER,this.miterLimit=10}clone(){const e=new Iy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=ya.BUTT,this.join=pi.MITER,this.miterLimit=10}}const hg={},ey=class pf extends ei{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new ip,this._lineStyle=new Iy,this._matrix=null,this._holeMode=!1,this.state=Ms.for2d(),this._geometry=e||new dA,this._geometry.refCount++,this._transformID=-1,this._tintColor=new ar(16777215),this.blendMode=tt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new pf(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,n,s=.5,a=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:n,alignment:s,native:a}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:ze.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:ya.BUTT,join:pi.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new jl,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new jl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,s=n[n.length-2],a=n[n.length-1];return(s!==e||a!==t)&&n.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,n,s){this._initCurve();const a=this.currentPath.points;return a.length===0&&this.moveTo(0,0),Py.curveTo(e,t,n,s,a),this}bezierCurveTo(e,t,n,s,a,h){return this._initCurve(),Cy.curveTo(e,t,n,s,a,h,this.currentPath.points),this}arcTo(e,t,n,s,a){this._initCurve(e,t);const h=this.currentPath.points,d=g1.curveTo(e,t,n,s,a,h);if(d){const{cx:p,cy:g,radius:_,startAngle:w,endAngle:b,anticlockwise:E}=d;this.arc(p,g,_,w,b,E)}return this}arc(e,t,n,s,a,h=!1){if(s===a)return this;if(!h&&a<=s?a+=Ef:h&&s<=a&&(s+=Ef),a-s===0)return this;const d=e+Math.cos(s)*n,p=t+Math.sin(s)*n,g=this._geometry.closePointEps;let _=this.currentPath?this.currentPath.points:null;if(_){const w=Math.abs(_[_.length-2]-d),b=Math.abs(_[_.length-1]-p);w<g&&b<g||_.push(d,p)}else this.moveTo(d,p),_=this.currentPath.points;return g1.arc(d,p,e,t,n,s,a,h,_),this}beginFill(e=0,t){return this.beginTextureFill({texture:ze.WHITE,color:e,alpha:t})}normalizeColor(e){const t=ar.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:ze.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,n,s){return this.drawShape(new vt(e,t,n,s))}drawRoundedRect(e,t,n,s,a){return this.drawShape(new Kf(e,t,n,s,a))}drawCircle(e,t,n){return this.drawShape(new qf(e,t,n))}drawEllipse(e,t,n,s){return this.drawShape(new Qf(e,t,n,s))}drawPolygon(...e){let t,n=!0;const s=e[0];s.points?(n=s.closeStroke,t=s.points):Array.isArray(e[0])?t=e[0]:t=e;const a=new jl(t);return a.closeStroke=n,this.drawShape(a),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Hr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let s=0;s<n;s++){const a=e.batches[s],h=a.style.color,d=new Float32Array(this.vertexData.buffer,a.attribStart*4*2,a.attribSize*2),p=new Float32Array(e.uvsFloat32.buffer,a.attribStart*4*2,a.attribSize*2),g=new Uint16Array(e.indicesUint16.buffer,a.start*2,a.size),_={vertexData:d,blendMode:t,indices:g,uvs:p,_batchRGB:ar.shared.setValue(h).toRgbArray(),_tintRGB:h,_texture:a.style.texture,alpha:a.style.alpha,worldAlpha:1};this.batches[s]=_}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,n=this.batches.length;t<n;t++){const s=this.batches[t];s.worldAlpha=this.worldAlpha*s.alpha,e.plugins[this.pluginName].render(s)}}}_renderDirect(e){const t=this._resolveDirectShader(e),n=this._geometry,s=this.worldAlpha,a=t.uniforms,h=n.drawCalls;a.translationMatrix=this.transform.worldTransform,ar.shared.setValue(this._tintColor).premultiply(s).toArray(a.tint),e.shader.bind(t),e.geometry.bind(n,t),e.state.set(this.state);for(let d=0,p=h.length;d<p;d++)this._renderDrawCallDirect(e,n.drawCalls[d])}_renderDrawCallDirect(e,t){const{texArray:n,type:s,size:a,start:h}=t,d=n.count;for(let p=0;p<d;p++)e.texture.bind(n.elements[p],p);e.geometry.draw(s,a,h)}_resolveDirectShader(e){let t=this.shader;const n=this.pluginName;if(!t){if(!hg[n]){const{maxTextures:s}=e.plugins[n],a=new Int32Array(s);for(let p=0;p<s;p++)a[p]=p;const h={tint:new Float32Array([1,1,1,1]),translationMatrix:new Jt,default:Zi.from({uSamplers:a},!0)},d=e.plugins[n]._shader.program;hg[n]=new Is(d,h)}t=hg[n]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:n,maxX:s,maxY:a}=e.bounds;this._bounds.addFrame(this.transform,t,n,s,a)}containsPoint(e){return this.worldTransform.applyInverse(e,pf._TEMP_POINT),this._geometry.containsPoint(pf._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=ar.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,n=t.a,s=t.b,a=t.c,h=t.d,d=t.tx,p=t.ty,g=this._geometry.points,_=this.vertexData;let w=0;for(let b=0;b<g.length;b+=2){const E=g[b],T=g[b+1];_[w++]=n*E+a*T+d,_[w++]=h*T+s*E+p}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};ey.curves=hc,ey._TEMP_POINT=new yt;let dg=ey;class fA extends rp{constructor(e=100,t=100,n=10,s=10){super(),this.segWidth=n,this.segHeight=s,this.width=e,this.height=t,this.build()}build(){const e=this.segWidth*this.segHeight,t=[],n=[],s=[],a=this.segWidth-1,h=this.segHeight-1,d=this.width/a,p=this.height/h;for(let _=0;_<e;_++){const w=_%this.segWidth,b=_/this.segWidth|0;t.push(w*d,b*p),n.push(w/a,b/h)}const g=a*h;for(let _=0;_<g;_++){const w=_%a,b=_/a|0,E=b*this.segWidth+w,T=b*this.segWidth+w+1,I=(b+1)*this.segWidth+w,C=(b+1)*this.segWidth+w+1;s.push(E,T,I,T,C,I)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class pA extends rp{constructor(e=200,t,n=0){super(new Float32Array(t.length*4),new Float32Array(t.length*4),new Uint16Array((t.length-1)*6)),this.points=t,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const t=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),s=this.getIndex();if(e.length<1)return;t.data.length/4!==e.length&&(t.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),s.data=new Uint16Array((e.length-1)*6));const a=n.data,h=s.data;a[0]=0,a[1]=0,a[2]=0,a[3]=1;let d=0,p=e[0];const g=this._width*this.textureScale,_=e.length;for(let b=0;b<_;b++){const E=b*4;if(this.textureScale>0){const T=p.x-e[b].x,I=p.y-e[b].y,C=Math.sqrt(T*T+I*I);p=e[b],d+=C/g}else d=b/(_-1);a[E]=d,a[E+1]=0,a[E+2]=d,a[E+3]=1}let w=0;for(let b=0;b<_-1;b++){const E=b*2;h[w++]=E,h[w++]=E+1,h[w++]=E+2,h[w++]=E+2,h[w++]=E+1,h[w++]=E+3}n.update(),s.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let t=e[0],n,s=0,a=0;const h=this.buffers[0].data,d=e.length,p=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let g=0;g<d;g++){const _=e[g],w=g*4;g<e.length-1?n=e[g+1]:n=_,a=-(n.x-t.x),s=n.y-t.y;const b=Math.sqrt(s*s+a*a);b<1e-6?(s=0,a=0):(s/=b,a/=b,s*=p,a*=p),h[w]=_.x+s,h[w+1]=_.y+a,h[w+2]=_.x-s,h[w+3]=_.y-a,t=_}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class mA extends Dh{constructor(e,t,n){const s=new fA(e.width,e.height,t,n),a=new Bh(ze.WHITE);super(s,a),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:t,height:n}=this.shader.texture;this.autoResize&&(e.width!==t||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Yd=10;class gA extends mA{constructor(e,t,n,s,a){var h,d,p,g;super(ze.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=t??((h=e.defaultBorders)==null?void 0:h.left)??Yd,this._rightWidth=s??((d=e.defaultBorders)==null?void 0:d.right)??Yd,this._topHeight=n??((p=e.defaultBorders)==null?void 0:p.top)??Yd,this._bottomHeight=a??((g=e.defaultBorders)==null?void 0:g.bottom)??Yd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,s=this._height>n?1:this._height/n;return Math.min(t,s)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,s=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=n*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-n*this._rightWidth,t[9]=t[11]=t[13]=t[15]=s*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class yA extends Dh{constructor(e=ze.EMPTY,t,n,s,a){const h=new rp(t,n,s);h.getBuffer("aVertexPosition").static=!1;const d=new Bh(e);super(h,d,null,a),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class vA extends Dh{constructor(e,t,n=0){const s=new pA(e.height,t,n),a=new Bh(e);n>0&&(e.baseTexture.wrapMode=yo.REPEAT),super(s,a),this.autoUpdate=!0}_render(e){const t=this.geometry;(this.autoUpdate||t._width!==this.shader.texture.height)&&(t._width=this.shader.texture.height,t.update()),super._render(e)}}class _A extends ei{constructor(e=1500,t,n=16384,s=!1){super();const a=16384;n>a&&(n=a),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=tt.NORMAL,this.autoResize=s,this.roundPixels=!0,this.baseTexture=null,this.setProperties(t),this._tintColor=new ar(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const t=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class x1{constructor(e,t,n){this.geometry=new wa,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let s=0;s<e.length;++s){let a=e[s];a={attributeName:a.attributeName,size:a.size,uploadFunction:a.uploadFunction,type:a.type||it.FLOAT,offset:a.offset},t[s]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let t=0;this.indexBuffer=new mr(Nb(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let h=0;h<this.dynamicProperties.length;++h){const d=this.dynamicProperties[h];d.offset=t,t+=d.size,this.dynamicStride+=d.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new mr(this.dynamicData,!1,!1);let s=0;this.staticStride=0;for(let h=0;h<this.staticProperties.length;++h){const d=this.staticProperties[h];d.offset=s,s+=d.size,this.staticStride+=d.size}const a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new mr(this.staticData,!0,!1);for(let h=0;h<this.dynamicProperties.length;++h){const d=this.dynamicProperties[h];e.addAttribute(d.attributeName,this.dynamicBuffer,0,d.type===it.UNSIGNED_BYTE,d.type,this.dynamicStride*4,d.offset*4)}for(let h=0;h<this.staticProperties.length;++h){const d=this.staticProperties[h];e.addAttribute(d.attributeName,this.staticBuffer,0,d.type===it.UNSIGNED_BYTE,d.type,this.staticStride*4,d.offset*4)}}uploadDynamic(e,t,n){for(let s=0;s<this.dynamicProperties.length;s++){const a=this.dynamicProperties[s];a.uploadFunction(e,t,n,a.type===it.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,a.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,t,n){for(let s=0;s<this.staticProperties.length;s++){const a=this.staticProperties[s];a.uploadFunction(e,t,n,a.type===it.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,a.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var xA=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,wA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Cx extends Jf{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Jt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:it.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Is.from(wA,xA,{}),this.state=Ms.for2d()}render(e){const t=e.children,n=e._maxSize,s=e._batchSize,a=this.renderer;let h=t.length;if(h===0)return;h>n&&!e.autoResize&&(h=n);let d=e._buffers;d||(d=e._buffers=this.generateBuffers(e));const p=t[0]._texture.baseTexture,g=p.alphaMode>0;this.state.blendMode=C_(e.blendMode,g),a.state.set(this.state);const _=a.gl,w=e.worldTransform.copyTo(this.tempMatrix);w.prepend(a.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=w.toArray(!0),this.shader.uniforms.uColor=ar.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,g).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=p,this.renderer.shader.bind(this.shader);let b=!1;for(let E=0,T=0;E<h;E+=s,T+=1){let I=h-E;I>s&&(I=s),T>=d.length&&d.push(this._generateOneMoreBuffer(e));const C=d[T];C.uploadDynamic(t,E,I);const M=e._bufferUpdateIDs[T]||0;b=b||C._updateID<M,b&&(C._updateID=e._updateID,C.uploadStatic(t,E,I)),a.geometry.bind(C.geometry),_.drawElements(_.TRIANGLES,I*6,_.UNSIGNED_SHORT,0)}}generateBuffers(e){const t=[],n=e._maxSize,s=e._batchSize,a=e._properties;for(let h=0;h<n;h+=s)t.push(new x1(this.properties,a,s));return t}_generateOneMoreBuffer(e){const t=e._batchSize,n=e._properties;return new x1(this.properties,n,t)}uploadVertices(e,t,n,s,a,h){let d=0,p=0,g=0,_=0;for(let w=0;w<n;++w){const b=e[t+w],E=b._texture,T=b.scale.x,I=b.scale.y,C=E.trim,M=E.orig;C?(p=C.x-b.anchor.x*M.width,d=p+C.width,_=C.y-b.anchor.y*M.height,g=_+C.height):(d=M.width*(1-b.anchor.x),p=M.width*-b.anchor.x,g=M.height*(1-b.anchor.y),_=M.height*-b.anchor.y),s[h]=p*T,s[h+1]=_*I,s[h+a]=d*T,s[h+a+1]=_*I,s[h+a*2]=d*T,s[h+a*2+1]=g*I,s[h+a*3]=p*T,s[h+a*3+1]=g*I,h+=a*4}}uploadPosition(e,t,n,s,a,h){for(let d=0;d<n;d++){const p=e[t+d].position;s[h]=p.x,s[h+1]=p.y,s[h+a]=p.x,s[h+a+1]=p.y,s[h+a*2]=p.x,s[h+a*2+1]=p.y,s[h+a*3]=p.x,s[h+a*3+1]=p.y,h+=a*4}}uploadRotation(e,t,n,s,a,h){for(let d=0;d<n;d++){const p=e[t+d].rotation;s[h]=p,s[h+a]=p,s[h+a*2]=p,s[h+a*3]=p,h+=a*4}}uploadUvs(e,t,n,s,a,h){for(let d=0;d<n;++d){const p=e[t+d]._texture._uvs;p?(s[h]=p.x0,s[h+1]=p.y0,s[h+a]=p.x1,s[h+a+1]=p.y1,s[h+a*2]=p.x2,s[h+a*2+1]=p.y2,s[h+a*3]=p.x3,s[h+a*3+1]=p.y3,h+=a*4):(s[h]=0,s[h+1]=0,s[h+a]=0,s[h+a+1]=0,s[h+a*2]=0,s[h+a*2+1]=0,s[h+a*3]=0,s[h+a*3+1]=0,h+=a*4)}}uploadTint(e,t,n,s,a,h){for(let d=0;d<n;++d){const p=e[t+d],g=ar.shared.setValue(p._tintRGB).toPremultiplied(p.alpha,p.texture.baseTexture.alphaMode>0);s[h]=g,s[h+a]=g,s[h+a*2]=g,s[h+a*3]=g,h+=a*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Cx.extension={name:"particle",type:De.RendererPlugin};Ze.add(Cx);class Uh extends $l{constructor(e,t=!0){super(e[0]instanceof ze?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=t,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(pn.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(pn.shared.add(this.update,this,cc.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const t=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=t/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];const a=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const t=[];for(let n=0;n<e.length;++n)t.push(ze.from(e[n]));return new Uh(t)}static fromImages(e){const t=[];for(let n=0;n<e.length;++n)t.push(ze.from(e[n]));return new Uh(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ze)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(pn.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(pn.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const xh=new yt;class Ry extends $l{constructor(e,t=100,n=100){super(e),this.tileTransform=new Zf,this._width=t,this._height=n,this.uvMatrix=this.texture.uvMatrix||new by(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,s)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new vt),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,xh);const t=this._width,n=this._height,s=-t*this.anchor._x;if(xh.x>=s&&xh.x<s+t){const a=-n*this.anchor._y;if(xh.y>=a&&xh.y<a+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,t){const n=e instanceof ze?e:ze.from(e,t);return new Ry(n,t.width,t.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var SA=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,bA=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,EA=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,w1=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,TA=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const qd=new Jt;class Px extends Jf{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new G_,this.state=Ms.for2d()}contextChange(){const e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Is.from(w1,TA,t),this.shader=e.context.webGLVersion>1?Is.from(bA,SA,t):Is.from(w1,EA,t)}render(e){const t=this.renderer,n=this.quad;let s=n.vertices;s[0]=s[6]=e._width*-e.anchor.x,s[1]=s[3]=e._height*-e.anchor.y,s[2]=s[4]=e._width*(1-e.anchor.x),s[5]=s[7]=e._height*(1-e.anchor.y);const a=e.uvRespectAnchor?e.anchor.x:0,h=e.uvRespectAnchor?e.anchor.y:0;s=n.uvs,s[0]=s[6]=-a,s[1]=s[3]=-h,s[2]=s[4]=1-a,s[5]=s[7]=1-h,n.invalidate();const d=e._texture,p=d.baseTexture,g=p.alphaMode>0,_=e.tileTransform.localTransform,w=e.uvMatrix;let b=p.isPowerOfTwo&&d.frame.width===p.width&&d.frame.height===p.height;b&&(p._glTextures[t.CONTEXT_UID]?b=p.wrapMode!==yo.CLAMP:p.wrapMode===yo.CLAMP&&(p.wrapMode=yo.REPEAT));const E=b?this.simpleShader:this.shader,T=d.width,I=d.height,C=e._width,M=e._height;qd.set(_.a*T/C,_.b*T/M,_.c*I/C,_.d*I/M,_.tx/C,_.ty/M),qd.invert(),b?qd.prepend(w.mapCoord):(E.uniforms.uMapCoord=w.mapCoord.toArray(!0),E.uniforms.uClampFrame=w.uClampFrame,E.uniforms.uClampOffset=w.uClampOffset),E.uniforms.uTransform=qd.toArray(!0),E.uniforms.uColor=ar.shared.setValue(e.tint).premultiply(e.worldAlpha,g).toArray(E.uniforms.uColor),E.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),E.uniforms.uSampler=d,t.shader.bind(E),t.geometry.bind(n),this.state.blendMode=C_(e.blendMode,g),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Px.extension={name:"tilingSprite",type:De.RendererPlugin};Ze.add(Px);const Ix=class ty{constructor(e){this.stage=new ei,e=Object.assign({forceCanvas:!1},e),this.renderer=XE(e),ty._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,t){const n=ty._plugins.slice(0);n.reverse(),n.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Ix._plugins=[];let sp=Ix;Ze.handleByList(De.Application,sp._plugins);class Rx{static init(e){Object.defineProperty(this,"resizeTo",{set(t){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let t,n;if(this._resizeTo===globalThis.window)t=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:s,clientHeight:a}=this._resizeTo;t=s,n=a}this.renderer.resize(t,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Rx.extension=De.Application;Ze.add(Rx);var fg={exports:{}},pg,S1;function AA(){if(S1)return pg;S1=1;var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return pg=r,pg}var mg,b1;function CA(){if(b1)return mg;b1=1;var r=AA();function e(){}function t(){}return t.resetWarningCache=e,mg=function(){function n(h,d,p,g,_,w){if(w!==r){var b=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw b.name="Invariant Violation",b}}n.isRequired=n;function s(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:t,resetWarningCache:e};return a.PropTypes=a,a},mg}var E1;function PA(){return E1||(E1=1,fg.exports=CA()()),fg.exports}var IA=PA();const $t=zf(IA);function Jn(r){return Jn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jn(r)}function kx(r){var e=function(t,n){if(Jn(t)!=="object"||t===null)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var a=s.call(t,n||"default");if(Jn(a)!=="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(t)}(r,"string");return Jn(e)==="symbol"?e:String(e)}function pr(r,e,t){return(e=kx(e))in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}function gg(r,e){(e==null||e>r.length)&&(e=r.length);for(var t=0,n=new Array(e);t<e;t++)n[t]=r[t];return n}function xo(r){return function(e){if(Array.isArray(e))return gg(e)}(r)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(r)||function(e,t){if(e){if(typeof e=="string")return gg(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gg(e,t):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function lr(r,e){for(var t=arguments.length,n=new Array(t>2?t-2:0),s=2;s<t;s++)n[s-2]=arguments[s]}var RA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kA(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var MA=function(r){return r==null};function Ph(r){var e=[];if(r===void 0)return e;if(typeof r=="string")e=r.split(",");else if(typeof r=="number")e=[r];else if(Array.isArray(r))e=xo(r);else{if(r===null||Jn(r)!=="object")return e;e=[r&&(r==null?void 0:r.x)||0,r&&(r==null?void 0:r.y)||0]}return e.filter(function(t){return!MA(t)&&!isNaN(t)}).map(Number)}function T1(r,e){if(r.length!==e.length)return!1;for(var t=0;t<r.length;t++)if(r[t]!==e[t])return!1;return!0}function yg(r){return r instanceof yt||r instanceof Cs}var Ff=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function vg(r,e,t){if(yg(r[e])&&yg(t))r[e].copyFrom(t);else if(yg(r[e])){var n=Ph(t);lr(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(t),Jn(t)),r[e].set(n.shift(),n.shift())}else r[e]=t}var Hu,Mx=function(r){var e,t=r;if(!Array.isArray(t)){if(e=r,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");t=Object.keys(r)}var n={};return t.forEach(function(s){n[s]=!0}),function(s){return n[s]!==void 0}},Nx=function(r){return function(){return!r.apply(void 0,arguments)}},ry="children",NA=(pr(Hu={},ry,!0),pr(Hu,"parent",!0),pr(Hu,"worldAlpha",!0),pr(Hu,"worldTransform",!0),pr(Hu,"worldVisible",!0),Hu),ny={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Rs=function(r,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(d){return requestAnimationFrame(function(){var p,g;d==null||(p=d.__reactpixi)===null||p===void 0||(g=p.root)===null||g===void 0||g.emit("__REACT_PIXI_REQUEST_RENDER__")})},s=function(d,p){if(t.hasOwnProperty(d))return lr(p.typeofs.some(function(g){return Jn(t[d])===g})||p.instanceofs.some(function(g){return t[d]instanceof g}),"".concat(r," ").concat(d," prop is invalid")),t[d]};if(t.texture)return lr(t.texture instanceof ze,"".concat(r," texture needs to be typeof `Texture`")),t.texture;var a=s("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||s("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||s("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ze]});lr(!!a,"".concat(r," could not get texture from props"));var h=ze.from(a);return h.__reactpixi={root:e},h.once("update",n),h.once("loaded",n),h.valid&&n(h),h},LA=Nx(Mx([].concat(xo(Object.keys(NA)),xo(Ff))));function ks(r,e,t){var n=!1;if(lr(Sa.prototype.isPrototypeOf(r),"instance needs to be typeof `DisplayObject`, got `%s`",Jn(r)),!t.ignoreEvents)for(var s=typeof r.removeListener=="function",a=typeof r.on=="function",h=0;h<Ff.length;h++){var d=Ff[h];e[d]!==t[d]&&(n=!0,typeof e[d]=="function"&&s&&r.removeListener(d,e[d]),typeof t[d]=="function"&&a&&r.on(d,t[d]))}var p=Object.keys(t||{});if(t.overwriteProps){for(var g=0;g<p.length;g++){var _=p[g];e[_]!==t[_]&&(n=!0,vg(r,_,t[_]))}return n}for(var w=p.filter(LA),b=0;b<w.length;b++){var E=w[b],T=t[E];t[E]!==e[E]&&(n=!0),T!==void 0?vg(r,E,T):E in ny?(console.warn("setting default value: ".concat(E,", from: ").concat(r[E]," to: ").concat(T," for"),r),n=!0,vg(r,E,ny[E])):console.warn("ignoring prop: ".concat(E,", from ").concat(r[E]," to ").concat(T," for"),r)}return n}var FA=function(r,e){var t=e.text,n=e.style;return new gT(t,n)},OA=function(){return new ei};function Ea(r,e){if(r==null)return{};var t,n,s=function(h,d){if(h==null)return{};var p,g,_={},w=Object.keys(h);for(g=0;g<w.length;g++)p=w[g],d.indexOf(p)>=0||(_[p]=h[p]);return _}(r,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(n=0;n<a.length;n++)t=a[n],e.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(r,t)&&(s[t]=r[t])}return s}var DA=["draw","geometry"],BA=function(r,e){var t=e.geometry;lr(!t||t instanceof dg,"Graphics geometry needs to be a `Graphics`");var n=t?new dg(t.geometry):new dg;return n.applyProps=function(s,a,h){var d=h.draw;h.geometry;var p=ks(s,a,Ea(h,DA));return a.draw!==d&&typeof d=="function"&&(p=!0,d.call(n,n)),p},n},UA=["image","texture"],zA=function(r,e){var t=e.leftWidth,n=t===void 0?10:t,s=e.topHeight,a=s===void 0?10:s,h=e.rightWidth,d=h===void 0?10:h,p=e.bottomHeight,g=p===void 0?10:p,_=Rs("NineSlicePlane",r,e),w=new gA(_,n,a,d,g);return w.applyProps=function(b,E,T){var I=T.image,C=T.texture,M=ks(b,E,Ea(T,UA));return(I||C)&&(C!==E.texture&&(M=!0),b.texture=Rs("NineSlicePlane",r,T)),M},w};function A1(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function Qd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?A1(Object(t),!0).forEach(function(n){pr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):A1(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var GA=function(r,e){var t=e.maxSize,n=t===void 0?1500:t,s=e.batchSize,a=s===void 0?16384:s,h=e.autoResize,d=h!==void 0&&h,p=Qd(Qd({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),g=Qd(Qd({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),_=new _A(n,p,a,d);return _.willUnmount=function(w,b,E){w.destroy(g)},_},jA=["image","texture"],HA=function(r,e){var t=new $l(Rs("Sprite",r,e));return t.applyProps=function(n,s,a){var h=a.image,d=a.texture,p=ks(n,s,Ea(a,jA));return(d&&s.texture!==a.texture||h&&s.image!==a.image)&&(s.texture!==a.texture&&(p=!0),n.texture=Rs("Sprite",r,a)),p},t},$A=["textures","isPlaying","initialFrame","images"],VA=function(r,e){var t=e.textures,n=e.images,s=e.isPlaying,a=s===void 0||s,h=e.initialFrame,d=function(g){return g.map(function(_){return lr(_ instanceof ze||(_==null?void 0:_.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),_})},p=n?Uh.fromImages(n):new Uh(d(t));return p[a?"gotoAndPlay":"gotoAndStop"](h||0),p.applyProps=function(g,_,w){var b=w.textures,E=w.isPlaying,T=w.initialFrame,I=w.images,C=ks(g,_,Ea(w,$A));if(I&&_.images!==I){for(var M=[],z=0;z<I.length;++z)M.push(ze.from(I[z]));g.textures=M,C=!0}if(b&&_.textures!==b&&(g.textures=d(b),C=!0),E!==_.isPlaying||T!==_.initialFrame){var N=typeof T=="number"?T:p.currentFrame||0;p[E?"gotoAndPlay":"gotoAndStop"](N),C=!0}return C},p},WA=function(r,e){var t=e.text,n=t===void 0?"":t,s=e.style,a=s===void 0?{}:s,h=e.isSprite,d=new oT(n,a);return h?(d.updateText(),new $l(d.texture)):d},XA=["tileScale","tilePosition","image","texture"],YA=function(r,e){var t=e.width,n=t===void 0?100:t,s=e.height,a=s===void 0?100:s,h=Rs("TilingSprite",r,e),d=new Ry(h,n,a);return d.applyProps=function(p,g,_){var w=_.tileScale,b=_.tilePosition,E=_.image,T=_.texture,I=ks(p,g,Ea(_,XA));if(b){var C,M=Ph(b);(C=p.tilePosition).set.apply(C,xo(M)),I=!T1(Ph(g.tilePosition),M)||I}if(w){var z,N=Ph(w);(z=p.tileScale).set.apply(z,xo(N)),I=!T1(Ph(g.tileScale),N)||I}return(E||T)&&(T!==g.texture&&(I=!0),p.texture=Rs("Sprite",r,_)),I},d},qA=["image","texture"],QA=function(r,e){var t=Rs("Mesh",r,e),n=e.vertices,s=e.uvs,a=e.indices,h=e.drawMode,d=h===void 0?Yi.TRIANGLES:h,p=new yA(t,n,s,a,d);return p.applyProps=function(g,_,w){var b=w.image,E=w.texture,T=ks(g,_,Ea(w,qA));return(b||E)&&(E!==_.texture&&(T=!0),g.texture=Rs("Mesh",r,w)),T},p},KA=["image","texture"],ZA=function(r,e){var t=Rs("SimpleRope",r,e),n=e.points,s=new vA(t,n);return s.applyProps=function(a,h,d){var p=d.image,g=d.texture,_=Ea(d,KA);lr(Array.isArray(d.points),"SimpleRope points needs to be %s","Array<Point>");var w=ks(a,h,_);return(p||g)&&(g!==h.texture&&(w=!0),a.texture=Rs("SimpleRope",r,d)),w},s},JA=Object.freeze({__proto__:null,BitmapText:FA,Container:OA,Graphics:BA,NineSlicePlane:zA,ParticleContainer:GA,Sprite:HA,Text:WA,TilingSprite:YA,SimpleMesh:QA,SimpleRope:ZA,AnimatedSprite:VA});function C1(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function P1(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?C1(Object(t),!0).forEach(function(n){pr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):C1(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var Bn={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},eC=Object.keys(Bn).reduce(function(r,e){return P1(P1({},r),{},pr({},e,JA[e]))},{}),Lx={};function tC(r,e){return lr(!!r,"Expect type to be defined, got `%s`",r),lr(!Bn[r],"Component `%s` could not be created, already exists in default components.",r),Lx[r]=e,r}var I1,R1,k1,M1,iy={},sy={},rC={get exports(){return sy},set exports(r){sy=r}},N1={};function nC(){return R1||(R1=1,rC.exports=(I1||(I1=1,function(r){function e(P,H){var L=P.length;P.push(H);e:for(;0<L;){var R=L-1>>>1,U=P[R];if(!(0<s(U,H)))break e;P[R]=H,P[L]=U,L=R}}function t(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var H=P[0],L=P.pop();if(L!==H){P[0]=L;e:for(var R=0,U=P.length,X=U>>>1;R<X;){var ee=2*(R+1)-1,le=P[ee],de=ee+1,fe=P[de];if(0>s(le,L))de<U&&0>s(fe,le)?(P[R]=fe,P[de]=L,R=de):(P[R]=le,P[ee]=L,R=ee);else{if(!(de<U&&0>s(fe,L)))break e;P[R]=fe,P[de]=L,R=de}}}return H}function s(P,H){var L=P.sortIndex-H.sortIndex;return L!==0?L:P.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var p=[],g=[],_=1,w=null,b=3,E=!1,T=!1,I=!1,C=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function N(P){for(var H=t(g);H!==null;){if(H.callback===null)n(g);else{if(!(H.startTime<=P))break;n(g),H.sortIndex=H.expirationTime,e(p,H)}H=t(g)}}function G(P){if(I=!1,N(P),!T)if(t(p)!==null)T=!0,B(O);else{var H=t(g);H!==null&&j(G,H.startTime-P)}}function O(P,H){T=!1,I&&(I=!1,M(ue),ue=-1),E=!0;var L=b;try{for(N(H),w=t(p);w!==null&&(!(w.expirationTime>H)||P&&!K());){var R=w.callback;if(typeof R=="function"){w.callback=null,b=w.priorityLevel;var U=R(w.expirationTime<=H);H=r.unstable_now(),typeof U=="function"?w.callback=U:w===t(p)&&n(p),N(H)}else n(p);w=t(p)}if(w!==null)var X=!0;else{var ee=t(g);ee!==null&&j(G,ee.startTime-H),X=!1}return X}finally{w=null,b=L,E=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var V,F=!1,Z=null,ue=-1,ye=5,Te=-1;function K(){return!(r.unstable_now()-Te<ye)}function ie(){if(Z!==null){var P=r.unstable_now();Te=P;var H=!0;try{H=Z(!0,P)}finally{H?V():(F=!1,Z=null)}}else F=!1}if(typeof z=="function")V=function(){z(ie)};else if(typeof MessageChannel<"u"){var he=new MessageChannel,Se=he.port2;he.port1.onmessage=ie,V=function(){Se.postMessage(null)}}else V=function(){C(ie,0)};function B(P){Z=P,F||(F=!0,V())}function j(P,H){ue=C(function(){P(r.unstable_now())},H)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(P){P.callback=null},r.unstable_continueExecution=function(){T||E||(T=!0,B(O))},r.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ye=0<P?Math.floor(1e3/P):5},r.unstable_getCurrentPriorityLevel=function(){return b},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(P){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var L=b;b=H;try{return P()}finally{b=L}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(P,H){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var L=b;b=P;try{return H()}finally{b=L}},r.unstable_scheduleCallback=function(P,H,L){var R=r.unstable_now();switch(L=typeof L=="object"&&L!==null&&typeof(L=L.delay)=="number"&&0<L?R+L:R,P){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return P={id:_++,callback:H,priorityLevel:P,startTime:L,expirationTime:U=L+U,sortIndex:-1},L>R?(P.sortIndex=L,e(g,P),t(p)===null&&P===t(g)&&(I?(M(ue),ue=-1):I=!0,j(G,L-R))):(P.sortIndex=U,e(p,P),T||E||(T=!0,B(O))),P},r.unstable_shouldYield=K,r.unstable_wrapCallback=function(P){var H=b;return function(){var L=b;b=H;try{return P.apply(this,arguments)}finally{b=L}}}}(N1)),N1)),sy}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function iC(){return M1||(M1=1,k1=function(r){var e={},t=Dn,n=nC(),s=Object.assign;function a(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),E=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),G=Symbol.iterator;function O(l){return l===null||typeof l!="object"?null:typeof(l=G&&l[G]||l["@@iterator"])=="function"?l:null}function V(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case g:return"Fragment";case p:return"Portal";case w:return"Profiler";case _:return"StrictMode";case I:return"Suspense";case C:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case E:return(l.displayName||"Context")+".Consumer";case b:return(l._context.displayName||"Context")+".Provider";case T:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case M:return(u=l.displayName||null)!==null?u:V(l.type)||"Memo";case z:u=l._payload,l=l._init;try{return V(l(u))}catch{}}return null}function F(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(u);case 8:return u===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function Z(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do 4098&(u=l).flags&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function ue(l){if(Z(l)!==l)throw Error(a(188))}function ye(l){var u=l.alternate;if(!u){if((u=Z(l))===null)throw Error(a(188));return u!==l?null:l}for(var m=l,v=u;;){var x=m.return;if(x===null)break;var A=x.alternate;if(A===null){if((v=x.return)!==null){m=v;continue}break}if(x.child===A.child){for(A=x.child;A;){if(A===m)return ue(x),l;if(A===v)return ue(x),u;A=A.sibling}throw Error(a(188))}if(m.return!==v.return)m=x,v=A;else{for(var D=!1,Y=x.child;Y;){if(Y===m){D=!0,m=x,v=A;break}if(Y===v){D=!0,v=x,m=A;break}Y=Y.sibling}if(!D){for(Y=A.child;Y;){if(Y===m){D=!0,m=A,v=x;break}if(Y===v){D=!0,v=A,m=x;break}Y=Y.sibling}if(!D)throw Error(a(189))}}if(m.alternate!==v)throw Error(a(190))}if(m.tag!==3)throw Error(a(188));return m.stateNode.current===m?l:u}function Te(l){return(l=ye(l))!==null?K(l):null}function K(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=K(l);if(u!==null)return u;l=l.sibling}return null}function ie(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=ie(l);if(u!==null)return u}l=l.sibling}return null}var he,Se=Array.isArray,B=r.getPublicInstance,j=r.getRootHostContext,P=r.getChildHostContext,H=r.prepareForCommit,L=r.resetAfterCommit,R=r.createInstance,U=r.appendInitialChild,X=r.finalizeInitialChildren,ee=r.prepareUpdate,le=r.shouldSetTextContent,de=r.createTextInstance,fe=r.scheduleTimeout,me=r.cancelTimeout,xe=r.noTimeout,ce=r.isPrimaryRenderer,Pe=r.supportsMutation,Re=r.supportsPersistence,He=r.supportsHydration,dt=r.getInstanceFromNode,Ve=r.preparePortalMount,We=r.getCurrentEventPriority,Ot=r.detachDeletedInstance,Yt=r.supportsMicrotasks,Un=r.scheduleMicrotask,Ar=r.supportsTestSelectors,rn=r.findFiberRoot,Ta=r.getBoundingRect,Vl=r.getTextContent,Ji=r.isHiddenSubtree,Wl=r.matchAccessibilityRole,Aa=r.setFocusIfFocusable,Ca=r.setupIntersectionObserver,ti=r.appendChild,wo=r.appendChildToContainer,es=r.commitTextUpdate,Ns=r.commitMount,gc=r.commitUpdate,So=r.insertBefore,Ls=r.insertInContainerBefore,re=r.removeChild,se=r.removeChildFromContainer,lt=r.resetTextContent,bt=r.hideInstance,At=r.hideTextInstance,nt=r.unhideInstance,Br=r.unhideTextInstance,$r=r.clearContainer,Cr=r.cloneInstance,mn=r.createContainerChildSet,Fs=r.appendChildToContainerChildSet,xi=r.finalizeContainerChildren,Pr=r.replaceContainerChildren,Os=r.cloneHiddenInstance,bo=r.cloneHiddenTextInstance,ts=r.canHydrateInstance,wi=r.canHydrateTextInstance,Si=r.canHydrateSuspenseInstance,Ds=r.isSuspenseInstancePending,zn=r.isSuspenseInstanceFallback,rs=r.getSuspenseInstanceFallbackErrorDetails,Bs=r.registerSuspenseInstanceRetry,bi=r.getNextHydratableSibling,Pa=r.getFirstHydratableChild,Xl=r.getFirstHydratableChildWithinContainer,Ia=r.getFirstHydratableChildWithinSuspenseInstance,ri=r.hydrateInstance,Yl=r.hydrateTextInstance,Eo=r.hydrateSuspenseInstance,ns=r.getNextHydratableInstanceAfterSuspenseInstance,Us=r.commitHydratedContainer,ql=r.commitHydratedSuspenseInstance,Ra=r.clearSuspenseBoundary,$h=r.clearSuspenseBoundaryFromContainer,lp=r.shouldDeleteUnhydratedTailInstances,up=r.didNotMatchHydratedContainerTextInstance,qt=r.didNotMatchHydratedTextInstance;function ka(l){if(he===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);he=u&&u[1]||""}return`
`+he+l}var Ma=!1;function Ql(l,u){if(!l||Ma)return"";Ma=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(pe){var v=pe}Reflect.construct(l,[],u)}else{try{u.call()}catch(pe){v=pe}l.call(u.prototype)}else{try{throw Error()}catch(pe){v=pe}l()}}catch(pe){if(pe&&v&&typeof pe.stack=="string"){for(var x=pe.stack.split(`
`),A=v.stack.split(`
`),D=x.length-1,Y=A.length-1;1<=D&&0<=Y&&x[D]!==A[Y];)Y--;for(;1<=D&&0<=Y;D--,Y--)if(x[D]!==A[Y]){if(D!==1||Y!==1)do if(D--,0>--Y||x[D]!==A[Y]){var te=`
`+x[D].replace(" at new "," at ");return l.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",l.displayName)),te}while(1<=D&&0<=Y);break}}}finally{Ma=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?ka(l):""}var Kl=Object.prototype.hasOwnProperty,yc=[],zs=-1;function Gn(l){return{current:l}}function ft(l){0>zs||(l.current=yc[zs],yc[zs]=null,zs--)}function kt(l,u){zs++,yc[zs]=l.current,l.current=u}var gr={},Ir=Gn(gr),Vr=Gn(!1),Gs=gr;function Ei(l,u){var m=l.type.contextTypes;if(!m)return gr;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var x,A={};for(x in m)A[x]=u[x];return v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=A),A}function Rr(l){return(l=l.childContextTypes)!=null}function js(){ft(Vr),ft(Ir)}function Na(l,u,m){if(Ir.current!==gr)throw Error(a(168));kt(Ir,u),kt(Vr,m)}function Vh(l,u,m){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;for(var x in v=v.getChildContext())if(!(x in u))throw Error(a(108,F(l)||"Unknown",x));return s({},m,v)}function Zl(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||gr,Gs=Ir.current,kt(Ir,l),kt(Vr,Vr.current),!0}function Jl(l,u,m){var v=l.stateNode;if(!v)throw Error(a(169));m?(l=Vh(l,u,Gs),v.__reactInternalMemoizedMergedChildContext=l,ft(Vr),ft(Ir),kt(Ir,l)):ft(Vr),kt(Vr,m)}var gn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(vc(l)/La|0)|0},vc=Math.log,La=Math.LN2,_c=64,Fa=4194304;function pt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Oa(l,u){var m=l.pendingLanes;if(m===0)return 0;var v=0,x=l.suspendedLanes,A=l.pingedLanes,D=268435455&m;if(D!==0){var Y=D&~x;Y!==0?v=pt(Y):(A&=D)!==0&&(v=pt(A))}else(D=m&~x)!==0?v=pt(D):A!==0&&(v=pt(A));if(v===0)return 0;if(u!==0&&u!==v&&!(u&x)&&((x=v&-v)>=(A=u&-u)||x===16&&4194240&A))return u;if(4&v&&(v|=16&m),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=v;0<u;)x=1<<(m=31-gn(u)),v|=l[m],u&=~x;return v}function Wh(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Da(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function xc(){var l=_c;return!(4194240&(_c<<=1))&&(_c=64),l}function eu(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function To(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-gn(u)]=m}function Ba(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var v=31-gn(m),x=1<<v;x&u|l[v]&u&&(l[v]|=u),m&=~x}}var ht=0;function Ti(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var ni=n.unstable_scheduleCallback,Ai=n.unstable_cancelCallback,Ua=n.unstable_shouldYield,za=n.unstable_requestPaint,Dt=n.unstable_now,wc=n.unstable_ImmediatePriority,Xh=n.unstable_UserBlockingPriority,Ao=n.unstable_NormalPriority,cp=n.unstable_IdlePriority,Ga=null,nn=null,yn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},Ci=null,is=!1,Hs=!1;function $s(l){Ci===null?Ci=[l]:Ci.push(l)}function sn(){if(!Hs&&Ci!==null){Hs=!0;var l=0,u=ht;try{var m=Ci;for(ht=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Ci=null,is=!1}catch(x){throw Ci!==null&&(Ci=Ci.slice(l+1)),ni(wc,sn),x}finally{ht=u,Hs=!1}}return null}var Co=[],Po=0,Io=null,Vs=0,Wr=[],on=0,Xr=null,vn=1,_n="";function ss(l,u){Co[Po++]=Vs,Co[Po++]=Io,Io=l,Vs=u}function ja(l,u,m){Wr[on++]=vn,Wr[on++]=_n,Wr[on++]=Xr,Xr=l;var v=vn;l=_n;var x=32-gn(v)-1;v&=~(1<<x),m+=1;var A=32-gn(u)+x;if(30<A){var D=x-x%5;A=(v&(1<<D)-1).toString(32),v>>=D,x-=D,vn=1<<32-gn(u)+x|m<<x|v,_n=A+l}else vn=1<<A|m<<x|v,_n=l}function Ro(l){l.return!==null&&(ss(l,1),ja(l,1,0))}function tu(l){for(;l===Io;)Io=Co[--Po],Co[Po]=null,Vs=Co[--Po],Co[Po]=null;for(;l===Xr;)Xr=Wr[--on],Wr[on]=null,_n=Wr[--on],Wr[on]=null,vn=Wr[--on],Wr[on]=null}var Bt=null,xr=null,Mt=!1,Pi=!1,jn=null;function ru(l,u){var m=dn(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,(u=l.deletions)===null?(l.deletions=[m],l.flags|=16):u.push(m)}function nu(l,u){switch(l.tag){case 5:return(u=ts(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Bt=l,xr=Pa(u),!0);case 6:return(u=wi(u,l.pendingProps))!==null&&(l.stateNode=u,Bt=l,xr=null,!0);case 13:if((u=Si(u))!==null){var m=Xr!==null?{id:vn,overflow:_n}:null;return l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},(m=dn(18,null,null,0)).stateNode=u,m.return=l,l.child=m,Bt=l,xr=null,!0}return!1;default:return!1}}function Ws(l){return(1&l.mode)!=0&&(128&l.flags)==0}function ko(l){if(Mt){var u=xr;if(u){var m=u;if(!nu(l,u)){if(Ws(l))throw Error(a(418));u=bi(m);var v=Bt;u&&nu(l,u)?ru(v,m):(l.flags=-4097&l.flags|2,Mt=!1,Bt=l)}}else{if(Ws(l))throw Error(a(418));l.flags=-4097&l.flags|2,Mt=!1,Bt=l}}}function Sc(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Bt=l}function iu(l){if(!He||l!==Bt)return!1;if(!Mt)return Sc(l),Mt=!0,!1;if(l.tag!==3&&(l.tag!==5||lp(l.type)&&!le(l.type,l.memoizedProps))){var u=xr;if(u){if(Ws(l))throw Yh(),Error(a(418));for(;u;)ru(l,u),u=bi(u)}}if(Sc(l),l.tag===13){if(!He)throw Error(a(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(a(317));xr=ns(l)}else xr=Bt?bi(l.stateNode):null;return!0}function Yh(){for(var l=xr;l;)l=bi(l)}function Mo(){He&&(xr=Bt=null,Pi=Mt=!1)}function Ha(l){jn===null?jn=[l]:jn.push(l)}var hp=h.ReactCurrentBatchConfig;function su(l,u){if(yn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var x=m[v];if(!Kl.call(u,x)||!yn(l[x],u[x]))return!1}return!0}function dp(l){switch(l.tag){case 5:return ka(l.type);case 16:return ka("Lazy");case 13:return ka("Suspense");case 19:return ka("SuspenseList");case 0:case 2:case 15:return l=Ql(l.type,!1);case 11:return l=Ql(l.type.render,!1);case 1:return l=Ql(l.type,!0);default:return""}}function Hn(l,u){if(l&&l.defaultProps){for(var m in u=s({},u),l=l.defaultProps)u[m]===void 0&&(u[m]=l[m]);return u}return u}var ou=Gn(null),$a=null,No=null,bc=null;function Ec(){bc=No=$a=null}function qh(l,u,m){ce?(kt(ou,u._currentValue),u._currentValue=m):(kt(ou,u._currentValue2),u._currentValue2=m)}function Va(l){var u=ou.current;ft(ou),ce?l._currentValue=u:l._currentValue2=u}function Tc(l,u,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===m)break;l=l.return}}function Lo(l,u){$a=l,bc=No=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&u&&(Wt=!0),l.firstContext=null)}function xn(l){var u=ce?l._currentValue:l._currentValue2;if(bc!==l)if(l={context:l,memoizedValue:u,next:null},No===null){if($a===null)throw Error(a(308));No=l,$a.dependencies={lanes:0,firstContext:l}}else No=No.next=l;return u}var os=null;function Ac(l){os===null?os=[l]:os.push(l)}function Qh(l,u,m,v){var x=u.interleaved;return x===null?(m.next=m,Ac(u)):(m.next=x.next,x.next=m),u.interleaved=m,ii(l,v)}function ii(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,(m=l.alternate)!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var as=!1;function Cc(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kh(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ii(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function si(l,u,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(2&st)!=0){var x=v.pending;return x===null?u.next=u:(u.next=x.next,x.next=u),v.pending=u,ii(l,m)}return(x=v.interleaved)===null?(u.next=u,Ac(v)):(u.next=x.next,x.next=u),v.interleaved=u,ii(l,m)}function ls(l,u,m){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&m)!=0)){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,Ba(l,m)}}function Zh(l,u){var m=l.updateQueue,v=l.alternate;if(v!==null&&m===(v=v.updateQueue)){var x=null,A=null;if((m=m.firstBaseUpdate)!==null){do{var D={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};A===null?x=A=D:A=A.next=D,m=m.next}while(m!==null);A===null?x=A=u:A=A.next=u}else x=A=u;return m={baseState:v.baseState,firstBaseUpdate:x,lastBaseUpdate:A,shared:v.shared,effects:v.effects},void(l.updateQueue=m)}(l=m.lastBaseUpdate)===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function Wa(l,u,m,v){var x=l.updateQueue;as=!1;var A=x.firstBaseUpdate,D=x.lastBaseUpdate,Y=x.shared.pending;if(Y!==null){x.shared.pending=null;var te=Y,pe=te.next;te.next=null,D===null?A=pe:D.next=pe,D=te;var ve=l.alternate;ve!==null&&(Y=(ve=ve.updateQueue).lastBaseUpdate)!==D&&(Y===null?ve.firstBaseUpdate=pe:Y.next=pe,ve.lastBaseUpdate=te)}if(A!==null){var ke=x.baseState;for(D=0,ve=pe=te=null,Y=A;;){var ge=Y.lane,Ce=Y.eventTime;if((v&ge)===ge){ve!==null&&(ve=ve.next={eventTime:Ce,lane:0,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null});e:{var Be=l,ot=Y;switch(ge=u,Ce=m,ot.tag){case 1:if(typeof(Be=ot.payload)=="function"){ke=Be.call(Ce,ke,ge);break e}ke=Be;break e;case 3:Be.flags=-65537&Be.flags|128;case 0:if((ge=typeof(Be=ot.payload)=="function"?Be.call(Ce,ke,ge):Be)==null)break e;ke=s({},ke,ge);break e;case 2:as=!0}}Y.callback!==null&&Y.lane!==0&&(l.flags|=64,(ge=x.effects)===null?x.effects=[Y]:ge.push(Y))}else Ce={eventTime:Ce,lane:ge,tag:Y.tag,payload:Y.payload,callback:Y.callback,next:null},ve===null?(pe=ve=Ce,te=ke):ve=ve.next=Ce,D|=ge;if((Y=Y.next)===null){if((Y=x.shared.pending)===null)break;Y=(ge=Y).next,ge.next=null,x.lastBaseUpdate=ge,x.shared.pending=null}}if(ve===null&&(te=ke),x.baseState=te,x.firstBaseUpdate=pe,x.lastBaseUpdate=ve,(u=x.shared.interleaved)!==null){x=u;do D|=x.lane,x=x.next;while(x!==u)}else A===null&&(x.shared.lanes=0);vs|=D,l.lanes=D,l.memoizedState=ke}}function Pc(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],x=v.callback;if(x!==null){if(v.callback=null,v=m,typeof x!="function")throw Error(a(191,x));x.call(v)}}}var Ic=new t.Component().refs;function au(l,u,m,v){m=(m=m(v,u=l.memoizedState))==null?u:s({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var Xa={isMounted:function(l){return!!(l=l._reactInternals)&&Z(l)===l},enqueueSetState:function(l,u,m){l=l._reactInternals;var v=hr(),x=Mn(l),A=Ii(v,x);A.payload=u,m!=null&&(A.callback=m),(u=si(l,A,x))!==null&&(Nr(u,l,x,v),ls(u,l,x))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var v=hr(),x=Mn(l),A=Ii(v,x);A.tag=1,A.payload=u,m!=null&&(A.callback=m),(u=si(l,A,x))!==null&&(Nr(u,l,x,v),ls(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=hr(),v=Mn(l),x=Ii(m,v);x.tag=2,u!=null&&(x.callback=u),(u=si(l,x,v))!==null&&(Nr(u,l,v,m),ls(u,l,v))}};function Xs(l,u,m,v,x,A,D){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,A,D):!u.prototype||!u.prototype.isPureReactComponent||!su(m,v)||!su(x,A)}function Jh(l,u,m){var v=!1,x=gr,A=u.contextType;return typeof A=="object"&&A!==null?A=xn(A):(x=Rr(u)?Gs:Ir.current,A=(v=(v=u.contextTypes)!=null)?Ei(l,x):gr),u=new u(m,A),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Xa,l.stateNode=u,u._reactInternals=l,v&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=x,l.__reactInternalMemoizedMaskedChildContext=A),u}function ed(l,u,m,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==l&&Xa.enqueueReplaceState(u,u.state,null)}function Rc(l,u,m,v){var x=l.stateNode;x.props=m,x.state=l.memoizedState,x.refs=Ic,Cc(l);var A=u.contextType;typeof A=="object"&&A!==null?x.context=xn(A):(A=Rr(u)?Gs:Ir.current,x.context=Ei(l,A)),x.state=l.memoizedState,typeof(A=u.getDerivedStateFromProps)=="function"&&(au(l,u,A,m),x.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(u=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),u!==x.state&&Xa.enqueueReplaceState(x,x.state,null),Wa(l,m,x,v),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4194308)}function Fo(l,u,m){if((l=m.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner){if(m.tag!==1)throw Error(a(309));var v=m.stateNode}if(!v)throw Error(a(147,l));var x=v,A=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===A?u.ref:(u=function(D){var Y=x.refs;Y===Ic&&(Y=x.refs={}),D===null?delete Y[A]:Y[A]=D},u._stringRef=A,u)}if(typeof l!="string")throw Error(a(284));if(!m._owner)throw Error(a(290,l))}return l}function Ya(l,u){throw l=Object.prototype.toString.call(u),Error(a(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function Oo(l){return(0,l._init)(l._payload)}function Do(l){function u(_e,Q){if(l){var ae=_e.deletions;ae===null?(_e.deletions=[Q],_e.flags|=16):ae.push(Q)}}function m(_e,Q){if(!l)return null;for(;Q!==null;)u(_e,Q),Q=Q.sibling;return null}function v(_e,Q){for(_e=new Map;Q!==null;)Q.key!==null?_e.set(Q.key,Q):_e.set(Q.index,Q),Q=Q.sibling;return _e}function x(_e,Q){return(_e=zi(_e,Q)).index=0,_e.sibling=null,_e}function A(_e,Q,ae){return _e.index=ae,l?(ae=_e.alternate)!==null?(ae=ae.index)<Q?(_e.flags|=2,Q):ae:(_e.flags|=2,Q):(_e.flags|=1048576,Q)}function D(_e){return l&&_e.alternate===null&&(_e.flags|=2),_e}function Y(_e,Q,ae,Ee){return Q===null||Q.tag!==6?((Q=Nu(ae,_e.mode,Ee)).return=_e,Q):((Q=x(Q,ae)).return=_e,Q)}function te(_e,Q,ae,Ee){var qe=ae.type;return qe===g?ve(_e,Q,ae.props.children,Ee,ae.key):Q!==null&&(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===z&&Oo(qe)===Q.type)?((Ee=x(Q,ae.props)).ref=Fo(_e,Q,ae),Ee.return=_e,Ee):((Ee=vl(ae.type,ae.key,ae.props,null,_e.mode,Ee)).ref=Fo(_e,Q,ae),Ee.return=_e,Ee)}function pe(_e,Q,ae,Ee){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ae.containerInfo||Q.stateNode.implementation!==ae.implementation?((Q=sh(ae,_e.mode,Ee)).return=_e,Q):((Q=x(Q,ae.children||[])).return=_e,Q)}function ve(_e,Q,ae,Ee,qe){return Q===null||Q.tag!==7?((Q=xs(ae,_e.mode,Ee,qe)).return=_e,Q):((Q=x(Q,ae)).return=_e,Q)}function ke(_e,Q,ae){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return(Q=Nu(""+Q,_e.mode,ae)).return=_e,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case d:return(ae=vl(Q.type,Q.key,Q.props,null,_e.mode,ae)).ref=Fo(_e,null,Q),ae.return=_e,ae;case p:return(Q=sh(Q,_e.mode,ae)).return=_e,Q;case z:return ke(_e,(0,Q._init)(Q._payload),ae)}if(Se(Q)||O(Q))return(Q=xs(Q,_e.mode,ae,null)).return=_e,Q;Ya(_e,Q)}return null}function ge(_e,Q,ae,Ee){var qe=Q!==null?Q.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number")return qe!==null?null:Y(_e,Q,""+ae,Ee);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case d:return ae.key===qe?te(_e,Q,ae,Ee):null;case p:return ae.key===qe?pe(_e,Q,ae,Ee):null;case z:return ge(_e,Q,(qe=ae._init)(ae._payload),Ee)}if(Se(ae)||O(ae))return qe!==null?null:ve(_e,Q,ae,Ee,null);Ya(_e,ae)}return null}function Ce(_e,Q,ae,Ee,qe){if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Y(Q,_e=_e.get(ae)||null,""+Ee,qe);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case d:return te(Q,_e=_e.get(Ee.key===null?ae:Ee.key)||null,Ee,qe);case p:return pe(Q,_e=_e.get(Ee.key===null?ae:Ee.key)||null,Ee,qe);case z:return Ce(_e,Q,ae,(0,Ee._init)(Ee._payload),qe)}if(Se(Ee)||O(Ee))return ve(Q,_e=_e.get(ae)||null,Ee,qe,null);Ya(Q,Ee)}return null}function Be(_e,Q,ae,Ee){for(var qe=null,_t=null,Ge=Q,mt=Q=0,dr=null;Ge!==null&&mt<ae.length;mt++){Ge.index>mt?(dr=Ge,Ge=null):dr=Ge.sibling;var xt=ge(_e,Ge,ae[mt],Ee);if(xt===null){Ge===null&&(Ge=dr);break}l&&Ge&&xt.alternate===null&&u(_e,Ge),Q=A(xt,Q,mt),_t===null?qe=xt:_t.sibling=xt,_t=xt,Ge=dr}if(mt===ae.length)return m(_e,Ge),Mt&&ss(_e,mt),qe;if(Ge===null){for(;mt<ae.length;mt++)(Ge=ke(_e,ae[mt],Ee))!==null&&(Q=A(Ge,Q,mt),_t===null?qe=Ge:_t.sibling=Ge,_t=Ge);return Mt&&ss(_e,mt),qe}for(Ge=v(_e,Ge);mt<ae.length;mt++)(dr=Ce(Ge,_e,mt,ae[mt],Ee))!==null&&(l&&dr.alternate!==null&&Ge.delete(dr.key===null?mt:dr.key),Q=A(dr,Q,mt),_t===null?qe=dr:_t.sibling=dr,_t=dr);return l&&Ge.forEach(function(ci){return u(_e,ci)}),Mt&&ss(_e,mt),qe}function ot(_e,Q,ae,Ee){var qe=O(ae);if(typeof qe!="function")throw Error(a(150));if((ae=qe.call(ae))==null)throw Error(a(151));for(var _t=qe=null,Ge=Q,mt=Q=0,dr=null,xt=ae.next();Ge!==null&&!xt.done;mt++,xt=ae.next()){Ge.index>mt?(dr=Ge,Ge=null):dr=Ge.sibling;var ci=ge(_e,Ge,xt.value,Ee);if(ci===null){Ge===null&&(Ge=dr);break}l&&Ge&&ci.alternate===null&&u(_e,Ge),Q=A(ci,Q,mt),_t===null?qe=ci:_t.sibling=ci,_t=ci,Ge=dr}if(xt.done)return m(_e,Ge),Mt&&ss(_e,mt),qe;if(Ge===null){for(;!xt.done;mt++,xt=ae.next())(xt=ke(_e,xt.value,Ee))!==null&&(Q=A(xt,Q,mt),_t===null?qe=xt:_t.sibling=xt,_t=xt);return Mt&&ss(_e,mt),qe}for(Ge=v(_e,Ge);!xt.done;mt++,xt=ae.next())(xt=Ce(Ge,_e,mt,xt.value,Ee))!==null&&(l&&xt.alternate!==null&&Ge.delete(xt.key===null?mt:xt.key),Q=A(xt,Q,mt),_t===null?qe=xt:_t.sibling=xt,_t=xt);return l&&Ge.forEach(function(cd){return u(_e,cd)}),Mt&&ss(_e,mt),qe}return function _e(Q,ae,Ee,qe){if(typeof Ee=="object"&&Ee!==null&&Ee.type===g&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case d:e:{for(var _t=Ee.key,Ge=ae;Ge!==null;){if(Ge.key===_t){if((_t=Ee.type)===g){if(Ge.tag===7){m(Q,Ge.sibling),(ae=x(Ge,Ee.props.children)).return=Q,Q=ae;break e}}else if(Ge.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===z&&Oo(_t)===Ge.type){m(Q,Ge.sibling),(ae=x(Ge,Ee.props)).ref=Fo(Q,Ge,Ee),ae.return=Q,Q=ae;break e}m(Q,Ge);break}u(Q,Ge),Ge=Ge.sibling}Ee.type===g?((ae=xs(Ee.props.children,Q.mode,qe,Ee.key)).return=Q,Q=ae):((qe=vl(Ee.type,Ee.key,Ee.props,null,Q.mode,qe)).ref=Fo(Q,ae,Ee),qe.return=Q,Q=qe)}return D(Q);case p:e:{for(Ge=Ee.key;ae!==null;){if(ae.key===Ge){if(ae.tag===4&&ae.stateNode.containerInfo===Ee.containerInfo&&ae.stateNode.implementation===Ee.implementation){m(Q,ae.sibling),(ae=x(ae,Ee.children||[])).return=Q,Q=ae;break e}m(Q,ae);break}u(Q,ae),ae=ae.sibling}(ae=sh(Ee,Q.mode,qe)).return=Q,Q=ae}return D(Q);case z:return _e(Q,ae,(Ge=Ee._init)(Ee._payload),qe)}if(Se(Ee))return Be(Q,ae,Ee,qe);if(O(Ee))return ot(Q,ae,Ee,qe);Ya(Q,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,ae!==null&&ae.tag===6?(m(Q,ae.sibling),(ae=x(ae,Ee)).return=Q,Q=ae):(m(Q,ae),(ae=Nu(Ee,Q.mode,qe)).return=Q,Q=ae),D(Q)):m(Q,ae)}}var Bo=Do(!0),qa=Do(!1),Qa={},an=Gn(Qa),Ys=Gn(Qa),us=Gn(Qa);function $n(l){if(l===Qa)throw Error(a(174));return l}function lu(l,u){kt(us,u),kt(Ys,l),kt(an,Qa),l=j(u),ft(an),kt(an,l)}function qs(){ft(an),ft(Ys),ft(us)}function td(l){var u=$n(us.current),m=$n(an.current);m!==(u=P(m,l.type,u))&&(kt(Ys,l),kt(an,u))}function kc(l){Ys.current===l&&(ft(an),ft(Ys))}var Vt=Gn(0);function uu(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&((m=m.dehydrated)===null||Ds(m)||zn(m)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Mc=[];function ln(){for(var l=0;l<Mc.length;l++){var u=Mc[l];ce?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Mc.length=0}var cs=h.ReactCurrentDispatcher,cu=h.ReactCurrentBatchConfig,hs=0,jt=null,ur=null,er=null,hu=!1,Ka=!1,oi=0,Nc=0;function tr(){throw Error(a(321))}function Za(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!yn(l[m],u[m]))return!1;return!0}function du(l,u,m,v,x,A){if(hs=A,jt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,cs.current=l===null||l.memoizedState===null?jc:Hc,l=m(v,x),Ka){A=0;do{if(Ka=!1,oi=0,25<=A)throw Error(a(301));A+=1,er=ur=null,u.updateQueue=null,cs.current=$c,l=m(v,x)}while(Ka)}if(cs.current=Vo,u=ur!==null&&ur.next!==null,hs=0,er=ur=jt=null,hu=!1,u)throw Error(a(300));return l}function Uo(){var l=oi!==0;return oi=0,l}function Ur(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?jt.memoizedState=er=l:er=er.next=l,er}function Yr(){if(ur===null){var l=jt.alternate;l=l!==null?l.memoizedState:null}else l=ur.next;var u=er===null?jt.memoizedState:er.next;if(u!==null)er=u,ur=l;else{if(l===null)throw Error(a(310));l={memoizedState:(ur=l).memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},er===null?jt.memoizedState=er=l:er=er.next=l}return er}function zo(l,u){return typeof u=="function"?u(l):u}function Go(l){var u=Yr(),m=u.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=l;var v=ur,x=v.baseQueue,A=m.pending;if(A!==null){if(x!==null){var D=x.next;x.next=A.next,A.next=D}v.baseQueue=x=A,m.pending=null}if(x!==null){A=x.next,v=v.baseState;var Y=D=null,te=null,pe=A;do{var ve=pe.lane;if((hs&ve)===ve)te!==null&&(te=te.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),v=pe.hasEagerState?pe.eagerState:l(v,pe.action);else{var ke={lane:ve,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};te===null?(Y=te=ke,D=v):te=te.next=ke,jt.lanes|=ve,vs|=ve}pe=pe.next}while(pe!==null&&pe!==A);te===null?D=v:te.next=Y,yn(v,u.memoizedState)||(Wt=!0),u.memoizedState=v,u.baseState=D,u.baseQueue=te,m.lastRenderedState=v}if((l=m.interleaved)!==null){x=l;do A=x.lane,jt.lanes|=A,vs|=A,x=x.next;while(x!==l)}else x===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function fu(l){var u=Yr(),m=u.queue;if(m===null)throw Error(a(311));m.lastRenderedReducer=l;var v=m.dispatch,x=m.pending,A=u.memoizedState;if(x!==null){m.pending=null;var D=x=x.next;do A=l(A,D.action),D=D.next;while(D!==x);yn(A,u.memoizedState)||(Wt=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),m.lastRenderedState=A}return[A,v]}function Lc(){}function Fc(l,u){var m=jt,v=Yr(),x=u(),A=!yn(v.memoizedState,x);if(A&&(v.memoizedState=x,Wt=!0),v=v.queue,yu(Bc.bind(null,m,v,l),[l]),v.getSnapshot!==u||A||er!==null&&1&er.memoizedState.tag){if(m.flags|=2048,Ja(9,Dc.bind(null,m,v,x,u),void 0,null),nr===null)throw Error(a(349));30&hs||Oc(m,u,x)}return x}function Oc(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},(u=jt.updateQueue)===null?(u={lastEffect:null,stores:null},jt.updateQueue=u,u.stores=[l]):(m=u.stores)===null?u.stores=[l]:m.push(l)}function Dc(l,u,m,v){u.value=m,u.getSnapshot=v,Ri(u)&&pu(l)}function Bc(l,u,m){return m(function(){Ri(u)&&pu(l)})}function Ri(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!yn(l,m)}catch{return!0}}function pu(l){var u=ii(l,1);u!==null&&Nr(u,l,1,-1)}function mu(l){var u=Ur();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zo,lastRenderedState:l},u.queue=l,l=l.dispatch=pp.bind(null,jt,l),[u.memoizedState,l]}function Ja(l,u,m,v){return l={tag:l,create:u,destroy:m,deps:v,next:null},(u=jt.updateQueue)===null?(u={lastEffect:null,stores:null},jt.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect)===null?u.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,u.lastEffect=l),l}function rd(){return Yr().memoizedState}function ds(l,u,m,v){var x=Ur();jt.flags|=l,x.memoizedState=Ja(1|u,m,void 0,v===void 0?null:v)}function gu(l,u,m,v){var x=Yr();v=v===void 0?null:v;var A=void 0;if(ur!==null){var D=ur.memoizedState;if(A=D.destroy,v!==null&&Za(v,D.deps))return void(x.memoizedState=Ja(u,m,A,v))}jt.flags|=l,x.memoizedState=Ja(1|u,m,A,v)}function Uc(l,u){return ds(8390656,8,l,u)}function yu(l,u){return gu(2048,8,l,u)}function Nt(l,u){return gu(4,2,l,u)}function vu(l,u){return gu(4,4,l,u)}function el(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function jo(l,u,m){return m=m!=null?m.concat([l]):null,gu(4,4,el.bind(null,u,l),m)}function _u(){}function xu(l,u){var m=Yr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Za(u,v[1])?v[0]:(m.memoizedState=[l,u],l)}function Ho(l,u){var m=Yr();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&Za(u,v[1])?v[0]:(l=l(),m.memoizedState=[l,u],l)}function tl(l,u,m){return 21&hs?(yn(m,u)||(m=xc(),jt.lanes|=m,vs|=m,l.baseState=!0),u):(l.baseState&&(l.baseState=!1,Wt=!0),l.memoizedState=m)}function $o(l,u){var m=ht;ht=m!==0&&4>m?m:4,l(!0);var v=cu.transition;cu.transition={};try{l(!1),u()}finally{ht=m,cu.transition=v}}function zc(){return Yr().memoizedState}function fp(l,u,m){var v=Mn(l);m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},Gc(l)?rl(u,m):(m=Qh(l,u,m,v))!==null&&(Nr(m,l,v,hr()),nl(m,u,v))}function pp(l,u,m){var v=Mn(l),x={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(Gc(l))rl(u,x);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer)!==null)try{var D=u.lastRenderedState,Y=A(D,m);if(x.hasEagerState=!0,x.eagerState=Y,yn(Y,D)){var te=u.interleaved;return te===null?(x.next=x,Ac(u)):(x.next=te.next,te.next=x),void(u.interleaved=x)}}catch{}(m=Qh(l,u,x,v))!==null&&(Nr(m,l,v,x=hr()),nl(m,u,v))}}function Gc(l){var u=l.alternate;return l===jt||u!==null&&u===jt}function rl(l,u){Ka=hu=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function nl(l,u,m){if(4194240&m){var v=u.lanes;m|=v&=l.pendingLanes,u.lanes=m,Ba(l,m)}}var Vo={readContext:xn,useCallback:tr,useContext:tr,useEffect:tr,useImperativeHandle:tr,useInsertionEffect:tr,useLayoutEffect:tr,useMemo:tr,useReducer:tr,useRef:tr,useState:tr,useDebugValue:tr,useDeferredValue:tr,useTransition:tr,useMutableSource:tr,useSyncExternalStore:tr,useId:tr,unstable_isNewReconciler:!1},jc={readContext:xn,useCallback:function(l,u){return Ur().memoizedState=[l,u===void 0?null:u],l},useContext:xn,useEffect:Uc,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,ds(4194308,4,el.bind(null,u,l),m)},useLayoutEffect:function(l,u){return ds(4194308,4,l,u)},useInsertionEffect:function(l,u){return ds(4,2,l,u)},useMemo:function(l,u){var m=Ur();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var v=Ur();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=fp.bind(null,jt,l),[v.memoizedState,l]},useRef:function(l){return l={current:l},Ur().memoizedState=l},useState:mu,useDebugValue:_u,useDeferredValue:function(l){return Ur().memoizedState=l},useTransition:function(){var l=mu(!1),u=l[0];return l=$o.bind(null,l[1]),Ur().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var v=jt,x=Ur();if(Mt){if(m===void 0)throw Error(a(407));m=m()}else{if(m=u(),nr===null)throw Error(a(349));30&hs||Oc(v,u,m)}x.memoizedState=m;var A={value:m,getSnapshot:u};return x.queue=A,Uc(Bc.bind(null,v,A,l),[l]),v.flags|=2048,Ja(9,Dc.bind(null,v,A,m,u),void 0,null),m},useId:function(){var l=Ur(),u=nr.identifierPrefix;if(Mt){var m=_n;u=":"+u+"R"+(m=(vn&~(1<<32-gn(vn)-1)).toString(32)+m),0<(m=oi++)&&(u+="H"+m.toString(32)),u+=":"}else u=":"+u+"r"+(m=Nc++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},Hc={readContext:xn,useCallback:xu,useContext:xn,useEffect:yu,useImperativeHandle:jo,useInsertionEffect:Nt,useLayoutEffect:vu,useMemo:Ho,useReducer:Go,useRef:rd,useState:function(){return Go(zo)},useDebugValue:_u,useDeferredValue:function(l){return tl(Yr(),ur.memoizedState,l)},useTransition:function(){return[Go(zo)[0],Yr().memoizedState]},useMutableSource:Lc,useSyncExternalStore:Fc,useId:zc,unstable_isNewReconciler:!1},$c={readContext:xn,useCallback:xu,useContext:xn,useEffect:yu,useImperativeHandle:jo,useInsertionEffect:Nt,useLayoutEffect:vu,useMemo:Ho,useReducer:fu,useRef:rd,useState:function(){return fu(zo)},useDebugValue:_u,useDeferredValue:function(l){var u=Yr();return ur===null?u.memoizedState=l:tl(u,ur.memoizedState,l)},useTransition:function(){return[fu(zo)[0],Yr().memoizedState]},useMutableSource:Lc,useSyncExternalStore:Fc,useId:zc,unstable_isNewReconciler:!1};function Wo(l,u){try{var m="",v=u;do m+=dp(v),v=v.return;while(v);var x=m}catch(A){x=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:u,stack:x,digest:null}}function wu(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function Vc(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var mp=typeof WeakMap=="function"?WeakMap:Map;function Su(l,u,m){(m=Ii(-1,m)).tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){Ft||(Ft=!0,ra=v),Vc(0,u)},m}function ki(l,u,m){(m=Ii(-1,m)).tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var x=u.value;m.payload=function(){return v(x)},m.callback=function(){Vc(0,u)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(m.callback=function(){Vc(0,u),typeof v!="function"&&(li===null?li=new Set([this]):li.add(this));var D=u.stack;this.componentDidCatch(u.value,{componentStack:D!==null?D:""})}),m}function Wc(l,u,m){var v=l.pingCache;if(v===null){v=l.pingCache=new mp;var x=new Set;v.set(u,x)}else(x=v.get(u))===void 0&&(x=new Set,v.set(u,x));x.has(m)||(x.add(m),l=ku.bind(null,l,u,m),u.then(l,l))}function Qs(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function Vn(l,u,m,v,x){return 1&l.mode?(l.flags|=65536,l.lanes=x,l):(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:((u=Ii(-1,1)).tag=2,si(m,u,1))),m.lanes|=1),l)}var il=h.ReactCurrentOwner,Wt=!1;function kr(l,u,m,v){u.child=l===null?qa(u,null,m,v):Bo(u,l.child,m,v)}function nd(l,u,m,v,x){m=m.render;var A=u.ref;return Lo(u,x),v=du(l,u,m,v,A,x),m=Uo(),l===null||Wt?(Mt&&m&&Ro(u),u.flags|=1,kr(l,u,v,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,bn(l,u,x))}function id(l,u,m,v,x){if(l===null){var A=m.type;return typeof A!="function"||yl(A)||A.defaultProps!==void 0||m.compare!==null||m.defaultProps!==void 0?((l=vl(m.type,null,v,u,u.mode,x)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=A,fs(l,u,A,v,x))}if(A=l.child,(l.lanes&x)==0){var D=A.memoizedProps;if((m=(m=m.compare)!==null?m:su)(D,v)&&l.ref===u.ref)return bn(l,u,x)}return u.flags|=1,(l=zi(A,v)).ref=u.ref,l.return=u,u.child=l}function fs(l,u,m,v,x){if(l!==null){var A=l.memoizedProps;if(su(A,v)&&l.ref===u.ref){if(Wt=!1,u.pendingProps=v=A,(l.lanes&x)==0)return u.lanes=l.lanes,bn(l,u,x);131072&l.flags&&(Wt=!0)}}return Yo(l,u,m,v,x)}function Xo(l,u,m){var v=u.pendingProps,x=v.children,A=l!==null?l.memoizedState:null;if(v.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(Oi,ir),ir|=m;else{if(!(1073741824&m))return l=A!==null?A.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,kt(Oi,ir),ir|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=A!==null?A.baseLanes:m,kt(Oi,ir),ir|=v}else A!==null?(v=A.baseLanes|m,u.memoizedState=null):v=m,kt(Oi,ir),ir|=v;return kr(l,u,x,m),u.child}function Ks(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function Yo(l,u,m,v,x){var A=Rr(m)?Gs:Ir.current;return A=Ei(u,A),Lo(u,x),m=du(l,u,m,v,A,x),v=Uo(),l===null||Wt?(Mt&&v&&Ro(u),u.flags|=1,kr(l,u,m,x),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~x,bn(l,u,x))}function bu(l,u,m,v,x){if(Rr(m)){var A=!0;Zl(u)}else A=!1;if(Lo(u,x),u.stateNode===null)Sn(l,u),Jh(u,m,v),Rc(u,m,v,x),v=!0;else if(l===null){var D=u.stateNode,Y=u.memoizedProps;D.props=Y;var te=D.context,pe=m.contextType;typeof pe=="object"&&pe!==null?pe=xn(pe):pe=Ei(u,pe=Rr(m)?Gs:Ir.current);var ve=m.getDerivedStateFromProps,ke=typeof ve=="function"||typeof D.getSnapshotBeforeUpdate=="function";ke||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Y!==v||te!==pe)&&ed(u,D,v,pe),as=!1;var ge=u.memoizedState;D.state=ge,Wa(u,v,D,x),te=u.memoizedState,Y!==v||ge!==te||Vr.current||as?(typeof ve=="function"&&(au(u,m,ve,v),te=u.memoizedState),(Y=as||Xs(u,m,Y,v,ge,te,pe))?(ke||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=te),D.props=v,D.state=te,D.context=pe,v=Y):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{D=u.stateNode,Kh(l,u),Y=u.memoizedProps,pe=u.type===u.elementType?Y:Hn(u.type,Y),D.props=pe,ke=u.pendingProps,ge=D.context,typeof(te=m.contextType)=="object"&&te!==null?te=xn(te):te=Ei(u,te=Rr(m)?Gs:Ir.current);var Ce=m.getDerivedStateFromProps;(ve=typeof Ce=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(Y!==ke||ge!==te)&&ed(u,D,v,te),as=!1,ge=u.memoizedState,D.state=ge,Wa(u,v,D,x);var Be=u.memoizedState;Y!==ke||ge!==Be||Vr.current||as?(typeof Ce=="function"&&(au(u,m,Ce,v),Be=u.memoizedState),(pe=as||Xs(u,m,pe,v,ge,Be,te)||!1)?(ve||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(v,Be,te),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(v,Be,te)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||Y===l.memoizedProps&&ge===l.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&ge===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Be),D.props=v,D.state=Be,D.context=te,v=pe):(typeof D.componentDidUpdate!="function"||Y===l.memoizedProps&&ge===l.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||Y===l.memoizedProps&&ge===l.memoizedState||(u.flags|=1024),v=!1)}return ps(l,u,m,v,A,x)}function ps(l,u,m,v,x,A){Ks(l,u);var D=(128&u.flags)!=0;if(!v&&!D)return x&&Jl(u,m,!1),bn(l,u,A);v=u.stateNode,il.current=u;var Y=D&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&D?(u.child=Bo(u,l.child,null,A),u.child=Bo(u,null,Y,A)):kr(l,u,Y,A),u.memoizedState=v.state,x&&Jl(u,m,!0),u.child}function Mi(l){var u=l.stateNode;u.pendingContext?Na(0,u.pendingContext,u.pendingContext!==u.context):u.context&&Na(0,u.context,!1),lu(l,u.containerInfo)}function Lt(l,u,m,v,x){return Mo(),Ha(x),u.flags|=256,kr(l,u,m,v),u.child}var Et,wn,cr,wr,Ni={dehydrated:null,treeContext:null,retryLane:0};function ms(l){return{baseLanes:l,cachePool:null,transitions:null}}function zr(l,u,m){var v,x=u.pendingProps,A=Vt.current,D=!1,Y=(128&u.flags)!=0;if((v=Y)||(v=(l===null||l.memoizedState!==null)&&(2&A)!=0),v?(D=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(A|=1),kt(Vt,1&A),l===null)return ko(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&u.mode?zn(l)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(Y=x.children,l=x.fallback,D?(x=u.mode,D=u.child,Y={mode:"hidden",children:Y},!(1&x)&&D!==null?(D.childLanes=0,D.pendingProps=Y):D=Mu(Y,x,0,null),l=xs(l,x,m,null),D.return=u,l.return=u,D.sibling=l,u.child=D,u.child.memoizedState=ms(m),u.memoizedState=Ni,l):qo(u,Y));if((A=l.memoizedState)!==null&&(v=A.dehydrated)!==null)return function(pe,ve,ke,ge,Ce,Be,ot){if(ke)return 256&ve.flags?(ve.flags&=-257,sl(pe,ve,ot,ge=wu(Error(a(422))))):ve.memoizedState!==null?(ve.child=pe.child,ve.flags|=128,null):(Be=ge.fallback,Ce=ve.mode,ge=Mu({mode:"visible",children:ge.children},Ce,0,null),(Be=xs(Be,Ce,ot,null)).flags|=2,ge.return=ve,Be.return=ve,ge.sibling=Be,ve.child=ge,1&ve.mode&&Bo(ve,pe.child,null,ot),ve.child.memoizedState=ms(ot),ve.memoizedState=Ni,Be);if(!(1&ve.mode))return sl(pe,ve,ot,null);if(zn(Ce))return ge=rs(Ce).digest,Be=Error(a(419)),ge=wu(Be,ge,void 0),sl(pe,ve,ot,ge);if(ke=(ot&pe.childLanes)!=0,Wt||ke){if((ge=nr)!==null){switch(ot&-ot){case 4:Ce=2;break;case 16:Ce=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Ce=32;break;case 536870912:Ce=268435456;break;default:Ce=0}(Ce=Ce&(ge.suspendedLanes|ot)?0:Ce)!==0&&Ce!==Be.retryLane&&(Be.retryLane=Ce,ii(pe,Ce),Nr(ge,pe,Ce,-1))}return Ru(),sl(pe,ve,ot,ge=wu(Error(a(421))))}return Ds(Ce)?(ve.flags|=128,ve.child=pe.child,ve=nh.bind(null,pe),Bs(Ce,ve),null):(pe=Be.treeContext,He&&(xr=Ia(Ce),Bt=ve,Mt=!0,jn=null,Pi=!1,pe!==null&&(Wr[on++]=vn,Wr[on++]=_n,Wr[on++]=Xr,vn=pe.id,_n=pe.overflow,Xr=ve)),ve=qo(ve,ge.children),ve.flags|=4096,ve)}(l,u,Y,x,v,A,m);if(D){D=x.fallback,Y=u.mode,v=(A=l.child).sibling;var te={mode:"hidden",children:x.children};return!(1&Y)&&u.child!==A?((x=u.child).childLanes=0,x.pendingProps=te,u.deletions=null):(x=zi(A,te)).subtreeFlags=14680064&A.subtreeFlags,v!==null?D=zi(v,D):(D=xs(D,Y,m,null)).flags|=2,D.return=u,x.return=u,x.sibling=D,u.child=x,x=D,D=u.child,Y=(Y=l.child.memoizedState)===null?ms(m):{baseLanes:Y.baseLanes|m,cachePool:null,transitions:Y.transitions},D.memoizedState=Y,D.childLanes=l.childLanes&~m,u.memoizedState=Ni,x}return l=(D=l.child).sibling,x=zi(D,{mode:"visible",children:x.children}),!(1&u.mode)&&(x.lanes=m),x.return=u,x.sibling=null,l!==null&&((m=u.deletions)===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=x,u.memoizedState=null,x}function qo(l,u){return(u=Mu({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function sl(l,u,m,v){return v!==null&&Ha(v),Bo(u,l.child,null,m),(l=qo(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function Xc(l,u,m){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),Tc(l.return,u,m)}function Qo(l,u,m,v,x){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:x}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=v,A.tail=m,A.tailMode=x)}function Yc(l,u,m){var v=u.pendingProps,x=v.revealOrder,A=v.tail;if(kr(l,u,v.children,m),(2&(v=Vt.current))!=0)v=1&v|2,u.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Xc(l,m,u);else if(l.tag===19)Xc(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(kt(Vt,v),(1&u.mode)==0)u.memoizedState=null;else switch(x){case"forwards":for(m=u.child,x=null;m!==null;)(l=m.alternate)!==null&&uu(l)===null&&(x=m),m=m.sibling;(m=x)===null?(x=u.child,u.child=null):(x=m.sibling,m.sibling=null),Qo(u,!1,x,m,A);break;case"backwards":for(m=null,x=u.child,u.child=null;x!==null;){if((l=x.alternate)!==null&&uu(l)===null){u.child=x;break}l=x.sibling,x.sibling=m,m=x,x=l}Qo(u,!0,m,null,A);break;case"together":Qo(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Sn(l,u){!(1&u.mode)&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function bn(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),vs|=u.lanes,(m&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(a(153));if(u.child!==null){for(m=zi(l=u.child,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,(m=m.sibling=zi(l,l.pendingProps)).return=u;m.sibling=null}return u.child}function En(l){l.flags|=4}function qc(l,u){if(l!==null&&l.child===u.child)return!0;if(16&u.flags)return!1;for(l=u.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Pe)Et=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)U(l,m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},wn=function(){},cr=function(l,u,m,v,x){if((l=l.memoizedProps)!==v){var A=u.stateNode,D=$n(an.current);m=ee(A,m,l,v,x,D),(u.updateQueue=m)&&En(u)}},wr=function(l,u,m,v){m!==v&&En(u)};else if(Re){Et=function(l,u,m,v){for(var x=u.child;x!==null;){if(x.tag===5){var A=x.stateNode;m&&v&&(A=Os(A,x.type,x.memoizedProps,x)),U(l,A)}else if(x.tag===6)A=x.stateNode,m&&v&&(A=bo(A,x.memoizedProps,x)),U(l,A);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(A=x.child)!==null&&(A.return=x),Et(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var sd=function(l,u,m,v){for(var x=u.child;x!==null;){if(x.tag===5){var A=x.stateNode;m&&v&&(A=Os(A,x.type,x.memoizedProps,x)),Fs(l,A)}else if(x.tag===6)A=x.stateNode,m&&v&&(A=bo(A,x.memoizedProps,x)),Fs(l,A);else if(x.tag!==4){if(x.tag===22&&x.memoizedState!==null)(A=x.child)!==null&&(A.return=x),sd(l,x,!0,!0);else if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===u)break;for(;x.sibling===null;){if(x.return===null||x.return===u)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};wn=function(l,u){var m=u.stateNode;if(!qc(l,u)){l=m.containerInfo;var v=mn(l);sd(v,u,!1,!1),m.pendingChildren=v,En(u),xi(l,v)}},cr=function(l,u,m,v,x){var A=l.stateNode,D=l.memoizedProps;if((l=qc(l,u))&&D===v)u.stateNode=A;else{var Y=u.stateNode,te=$n(an.current),pe=null;D!==v&&(pe=ee(Y,m,D,v,x,te)),l&&pe===null?u.stateNode=A:(A=Cr(A,pe,m,D,v,u,l,Y),X(A,m,v,x,te)&&En(u),u.stateNode=A,l?En(u):Et(A,u,!1,!1))}},wr=function(l,u,m,v){m!==v?(l=$n(us.current),m=$n(an.current),u.stateNode=de(v,l,m,u),En(u)):u.stateNode=l.stateNode}}else wn=function(){},cr=function(){},wr=function(){};function Tn(l,u){if(!Mt)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function rr(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(u)for(var x=l.child;x!==null;)m|=x.lanes|x.childLanes,v|=14680064&x.subtreeFlags,v|=14680064&x.flags,x.return=l,x=x.sibling;else for(x=l.child;x!==null;)m|=x.lanes|x.childLanes,v|=x.subtreeFlags,v|=x.flags,x.return=l,x=x.sibling;return l.subtreeFlags|=v,l.childLanes=m,u}function Ko(l,u,m){var v=u.pendingProps;switch(tu(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rr(u),null;case 1:case 17:return Rr(u.type)&&js(),rr(u),null;case 3:return m=u.stateNode,qs(),ft(Vr),ft(Ir),ln(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),l!==null&&l.child!==null||(iu(u)?En(u):l===null||l.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,jn!==null&&(ml(jn),jn=null))),wn(l,u),rr(u),null;case 5:kc(u),m=$n(us.current);var x=u.type;if(l!==null&&u.stateNode!=null)cr(l,u,x,v,m),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(a(166));return rr(u),null}if(l=$n(an.current),iu(u)){if(!He)throw Error(a(175));l=ri(u.stateNode,u.type,u.memoizedProps,m,l,u,!Pi),u.updateQueue=l,l!==null&&En(u)}else{var A=R(x,v,m,l,u);Et(A,u,!1,!1),u.stateNode=A,X(A,x,v,m,l)&&En(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return rr(u),null;case 6:if(l&&u.stateNode!=null)wr(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(a(166));if(l=$n(us.current),m=$n(an.current),iu(u)){if(!He)throw Error(a(176));if(l=u.stateNode,m=u.memoizedProps,(v=Yl(l,m,u,!Pi))&&(x=Bt)!==null)switch(x.tag){case 3:up(x.stateNode.containerInfo,l,m,(1&x.mode)!=0);break;case 5:qt(x.type,x.memoizedProps,x.stateNode,l,m,(1&x.mode)!=0)}v&&En(u)}else u.stateNode=de(v,l,m,u)}return rr(u),null;case 13:if(ft(Vt),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(Mt&&xr!==null&&1&u.mode&&!(128&u.flags))Yh(),Mo(),u.flags|=98560,x=!1;else if(x=iu(u),v!==null&&v.dehydrated!==null){if(l===null){if(!x)throw Error(a(318));if(!He)throw Error(a(344));if(!(x=(x=u.memoizedState)!==null?x.dehydrated:null))throw Error(a(317));Eo(x,u)}else Mo(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;rr(u),x=!1}else jn!==null&&(ml(jn),jn=null),x=!0;if(!x)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=m,u):((m=v!==null)!=(l!==null&&l.memoizedState!==null)&&m&&(u.child.flags|=8192,1&u.mode&&(l===null||1&Vt.current?sr===0&&(sr=3):Ru())),u.updateQueue!==null&&(u.flags|=4),rr(u),null);case 4:return qs(),wn(l,u),l===null&&Ve(u.stateNode.containerInfo),rr(u),null;case 10:return Va(u.type._context),rr(u),null;case 19:if(ft(Vt),(x=u.memoizedState)===null)return rr(u),null;if(v=(128&u.flags)!=0,(A=x.rendering)===null)if(v)Tn(x,!1);else{if(sr!==0||l!==null&&128&l.flags)for(l=u.child;l!==null;){if((A=uu(l))!==null){for(u.flags|=128,Tn(x,!1),(l=A.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=m,m=u.child;m!==null;)x=l,(v=m).flags&=14680066,(A=v.alternate)===null?(v.childLanes=0,v.lanes=x,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=A.childLanes,v.lanes=A.lanes,v.child=A.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=A.memoizedProps,v.memoizedState=A.memoizedState,v.updateQueue=A.updateQueue,v.type=A.type,x=A.dependencies,v.dependencies=x===null?null:{lanes:x.lanes,firstContext:x.firstContext}),m=m.sibling;return kt(Vt,1&Vt.current|2),u.child}l=l.sibling}x.tail!==null&&Dt()>fl&&(u.flags|=128,v=!0,Tn(x,!1),u.lanes=4194304)}else{if(!v)if((l=uu(A))!==null){if(u.flags|=128,v=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Tn(x,!0),x.tail===null&&x.tailMode==="hidden"&&!A.alternate&&!Mt)return rr(u),null}else 2*Dt()-x.renderingStartTime>fl&&m!==1073741824&&(u.flags|=128,v=!0,Tn(x,!1),u.lanes=4194304);x.isBackwards?(A.sibling=u.child,u.child=A):((l=x.last)!==null?l.sibling=A:u.child=A,x.last=A)}return x.tail!==null?(u=x.tail,x.rendering=u,x.tail=u.sibling,x.renderingStartTime=Dt(),u.sibling=null,l=Vt.current,kt(Vt,v?1&l|2:1&l),u):(rr(u),null);case 22:case 23:return oo(),m=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==m&&(u.flags|=8192),m&&1&u.mode?1073741824&ir&&(rr(u),Pe&&6&u.subtreeFlags&&(u.flags|=8192)):rr(u),null;case 24:case 25:return null}throw Error(a(156,u.tag))}function Eu(l,u){switch(tu(u),u.tag){case 1:return Rr(u.type)&&js(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return qs(),ft(Vr),ft(Ir),ln(),65536&(l=u.flags)&&!(128&l)?(u.flags=-65537&l|128,u):null;case 5:return kc(u),null;case 13:if(ft(Vt),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(a(340));Mo()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return ft(Vt),null;case 4:return qs(),null;case 10:return Va(u.type._context),null;case 22:case 23:return oo(),null;default:return null}}var Zs=!1,It=!1,An=typeof WeakSet=="function"?WeakSet:Set,Me=null;function qr(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Rt(l,u,v)}else m.current=null}function ai(l,u,m){try{m()}catch(v){Rt(l,u,v)}}var gs=!1;function Zo(l,u,m){var v=u.updateQueue;if((v=v!==null?v.lastEffect:null)!==null){var x=v=v.next;do{if((x.tag&l)===l){var A=x.destroy;x.destroy=void 0,A!==void 0&&ai(u,m,A)}x=x.next}while(x!==v)}}function Jo(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var m=u=u.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function ol(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag===5?l=B(m):l=m,typeof u=="function"?u(l):u.current=l}}function Qr(l){var u=l.alternate;u!==null&&(l.alternate=null,Qr(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&Ot(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Kr(l){return l.tag===5||l.tag===3||l.tag===4}function Ut(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Kr(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function un(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?Ls(m,l,u):wo(m,l);else if(v!==4&&(l=l.child)!==null)for(un(l,u,m),l=l.sibling;l!==null;)un(l,u,m),l=l.sibling}function Tu(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?So(m,l,u):ti(m,l);else if(v!==4&&(l=l.child)!==null)for(Tu(l,u,m),l=l.sibling;l!==null;)Tu(l,u,m),l=l.sibling}var Mr=null,Cn=!1;function Pn(l,u,m){for(m=m.child;m!==null;)Au(l,u,m),m=m.sibling}function Au(l,u,m){if(nn&&typeof nn.onCommitFiberUnmount=="function")try{nn.onCommitFiberUnmount(Ga,m)}catch{}switch(m.tag){case 5:It||qr(m,u);case 6:if(Pe){var v=Mr,x=Cn;Mr=null,Pn(l,u,m),Cn=x,(Mr=v)!==null&&(Cn?se(Mr,m.stateNode):re(Mr,m.stateNode))}else Pn(l,u,m);break;case 18:Pe&&Mr!==null&&(Cn?$h(Mr,m.stateNode):Ra(Mr,m.stateNode));break;case 4:Pe?(v=Mr,x=Cn,Mr=m.stateNode.containerInfo,Cn=!0,Pn(l,u,m),Mr=v,Cn=x):(Re&&(v=m.stateNode.containerInfo,x=mn(v),Pr(v,x)),Pn(l,u,m));break;case 0:case 11:case 14:case 15:if(!It&&(v=m.updateQueue)!==null&&(v=v.lastEffect)!==null){x=v=v.next;do{var A=x,D=A.destroy;A=A.tag,D!==void 0&&(2&A||4&A)&&ai(m,u,D),x=x.next}while(x!==v)}Pn(l,u,m);break;case 1:if(!It&&(qr(m,u),typeof(v=m.stateNode).componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(Y){Rt(m,u,Y)}Pn(l,u,m);break;case 21:Pn(l,u,m);break;case 22:1&m.mode?(It=(v=It)||m.memoizedState!==null,Pn(l,u,m),It=v):Pn(l,u,m);break;default:Pn(l,u,m)}}function al(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new An),u.forEach(function(v){var x=ld.bind(null,l,v);m.has(v)||(m.add(v),v.then(x,x))})}}function In(l,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var x=m[v];try{var A=l,D=u;if(Pe){var Y=D;e:for(;Y!==null;){switch(Y.tag){case 5:Mr=Y.stateNode,Cn=!1;break e;case 3:case 4:Mr=Y.stateNode.containerInfo,Cn=!0;break e}Y=Y.return}if(Mr===null)throw Error(a(160));Au(A,D,x),Mr=null,Cn=!1}else Au(A,D,x);var te=x.alternate;te!==null&&(te.return=null),x.return=null}catch(pe){Rt(x,u,pe)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)Js(u,l),u=u.sibling}function Js(l,u){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(In(u,l),Rn(l),4&v){try{Zo(3,l,l.return),Jo(3,l)}catch(ge){Rt(l,l.return,ge)}try{Zo(5,l,l.return)}catch(ge){Rt(l,l.return,ge)}}break;case 1:In(u,l),Rn(l),512&v&&m!==null&&qr(m,m.return);break;case 5:if(In(u,l),Rn(l),512&v&&m!==null&&qr(m,m.return),Pe){if(32&l.flags){var x=l.stateNode;try{lt(x)}catch(ge){Rt(l,l.return,ge)}}if(4&v&&(x=l.stateNode)!=null){var A=l.memoizedProps;if(m=m!==null?m.memoizedProps:A,v=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{gc(x,u,v,m,A,l)}catch(ge){Rt(l,l.return,ge)}}}break;case 6:if(In(u,l),Rn(l),4&v&&Pe){if(l.stateNode===null)throw Error(a(162));x=l.stateNode,A=l.memoizedProps,m=m!==null?m.memoizedProps:A;try{es(x,m,A)}catch(ge){Rt(l,l.return,ge)}}break;case 3:if(In(u,l),Rn(l),4&v){if(Pe&&He&&m!==null&&m.memoizedState.isDehydrated)try{Us(u.containerInfo)}catch(ge){Rt(l,l.return,ge)}if(Re){x=u.containerInfo,A=u.pendingChildren;try{Pr(x,A)}catch(ge){Rt(l,l.return,ge)}}}break;case 4:if(In(u,l),Rn(l),4&v&&Re){x=(A=l.stateNode).containerInfo,A=A.pendingChildren;try{Pr(x,A)}catch(ge){Rt(l,l.return,ge)}}break;case 13:In(u,l),Rn(l),8192&(x=l.child).flags&&(A=x.memoizedState!==null,x.stateNode.isHidden=A,!A||x.alternate!==null&&x.alternate.memoizedState!==null||(Bi=Dt())),4&v&&al(l);break;case 22:var D=m!==null&&m.memoizedState!==null;if(1&l.mode?(It=(m=It)||D,In(u,l),It=m):In(u,l),Rn(l),8192&v){if(m=l.memoizedState!==null,(l.stateNode.isHidden=m)&&!D&&(1&l.mode)!=0)for(Me=l,v=l.child;v!==null;){for(u=Me=v;Me!==null;){var Y=(D=Me).child;switch(D.tag){case 0:case 11:case 14:case 15:Zo(4,D,D.return);break;case 1:qr(D,D.return);var te=D.stateNode;if(typeof te.componentWillUnmount=="function"){var pe=D,ve=D.return;try{var ke=pe;te.props=ke.memoizedProps,te.state=ke.memoizedState,te.componentWillUnmount()}catch(ge){Rt(pe,ve,ge)}}break;case 5:qr(D,D.return);break;case 22:if(D.memoizedState!==null){Qc(u);continue}}Y!==null?(Y.return=D,Me=Y):Qc(u)}v=v.sibling}if(Pe){e:if(v=null,Pe)for(u=l;;){if(u.tag===5){if(v===null){v=u;try{x=u.stateNode,m?bt(x):nt(u.stateNode,u.memoizedProps)}catch(ge){Rt(l,l.return,ge)}}}else if(u.tag===6){if(v===null)try{A=u.stateNode,m?At(A):Br(A,u.memoizedProps)}catch(ge){Rt(l,l.return,ge)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;v===u&&(v=null),u=u.return}v===u&&(v=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:In(u,l),Rn(l),4&v&&al(l);break;case 21:break;default:In(u,l),Rn(l)}}function Rn(l){var u=l.flags;if(2&u){try{if(Pe){e:{for(var m=l.return;m!==null;){if(Kr(m)){var v=m;break e}m=m.return}throw Error(a(160))}switch(v.tag){case 5:var x=v.stateNode;32&v.flags&&(lt(x),v.flags&=-33),Tu(l,Ut(l),x);break;case 3:case 4:var A=v.stateNode.containerInfo;un(l,Ut(l),A);break;default:throw Error(a(161))}}}catch(D){Rt(l,l.return,D)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function gp(l,u,m){Me=l,ea(l)}function ea(l,u,m){for(var v=(1&l.mode)!=0;Me!==null;){var x=Me,A=x.child;if(x.tag===22&&v){var D=x.memoizedState!==null||Zs;if(!D){var Y=x.alternate,te=Y!==null&&Y.memoizedState!==null||It;Y=Zs;var pe=It;if(Zs=D,(It=te)&&!pe)for(Me=x;Me!==null;)te=(D=Me).child,D.tag===22&&D.memoizedState!==null?Kc(x):te!==null?(te.return=D,Me=te):Kc(x);for(;A!==null;)Me=A,ea(A),A=A.sibling;Me=x,Zs=Y,It=pe}ll(l)}else 8772&x.subtreeFlags&&A!==null?(A.return=x,Me=A):ll(l)}}function ll(l){for(;Me!==null;){var u=Me;if(8772&u.flags){var m=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:It||Jo(5,u);break;case 1:var v=u.stateNode;if(4&u.flags&&!It)if(m===null)v.componentDidMount();else{var x=u.elementType===u.type?m.memoizedProps:Hn(u.type,m.memoizedProps);v.componentDidUpdate(x,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var A=u.updateQueue;A!==null&&Pc(u,A,v);break;case 3:var D=u.updateQueue;if(D!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=B(u.child.stateNode);break;case 1:m=u.child.stateNode}Pc(u,D,m)}break;case 5:var Y=u.stateNode;m===null&&4&u.flags&&Ns(Y,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(He&&u.memoizedState===null){var te=u.alternate;if(te!==null){var pe=te.memoizedState;if(pe!==null){var ve=pe.dehydrated;ve!==null&&ql(ve)}}}break;default:throw Error(a(163))}It||512&u.flags&&ol(u)}catch(ke){Rt(u,u.return,ke)}}if(u===l){Me=null;break}if((m=u.sibling)!==null){m.return=u.return,Me=m;break}Me=u.return}}function Qc(l){for(;Me!==null;){var u=Me;if(u===l){Me=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Me=m;break}Me=u.return}}function Kc(l){for(;Me!==null;){var u=Me;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Jo(4,u)}catch(te){Rt(u,m,te)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var x=u.return;try{v.componentDidMount()}catch(te){Rt(u,x,te)}}var A=u.return;try{ol(u)}catch(te){Rt(u,A,te)}break;case 5:var D=u.return;try{ol(u)}catch(te){Rt(u,D,te)}}}catch(te){Rt(u,u.return,te)}if(u===l){Me=null;break}var Y=u.sibling;if(Y!==null){Y.return=u.return,Me=Y;break}Me=u.return}}var Li=0,ul=1,eo=2,to=3,Fi=4;if(typeof Symbol=="function"&&Symbol.for){var ro=Symbol.for;Li=ro("selector.component"),ul=ro("selector.has_pseudo_class"),eo=ro("selector.role"),to=ro("selector.test_id"),Fi=ro("selector.text")}function cl(l){var u=dt(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(a(364));return u}if((l=rn(l))===null)throw Error(a(362));return l.stateNode.current}function hl(l,u){switch(u.$$typeof){case Li:if(l.type===u.value)return!0;break;case ul:e:{u=u.value,l=[l,0];for(var m=0;m<l.length;){var v=l[m++],x=l[m++],A=u[x];if(v.tag!==5||!Ji(v)){for(;A!=null&&hl(v,A);)A=u[++x];if(x===u.length){u=!0;break e}for(v=v.child;v!==null;)l.push(v,x),v=v.sibling}}u=!1}return u;case eo:if(l.tag===5&&Wl(l.stateNode,u.value))return!0;break;case Fi:if((l.tag===5||l.tag===6)&&(l=Vl(l))!==null&&0<=l.indexOf(u.value))return!0;break;case to:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(a(365))}return!1}function dl(l){switch(l.$$typeof){case Li:return"<"+(V(l.value)||"Unknown")+">";case ul:return":has("+(dl(l)||"")+")";case eo:return'[role="'+l.value+'"]';case Fi:return'"'+l.value+'"';case to:return'[data-testname="'+l.value+'"]';default:throw Error(a(365))}}function no(l,u){var m=[];l=[l,0];for(var v=0;v<l.length;){var x=l[v++],A=l[v++],D=u[A];if(x.tag!==5||!Ji(x)){for(;D!=null&&hl(x,D);)D=u[++A];if(A===u.length)m.push(x);else for(x=x.child;x!==null;)l.push(x,A),x=x.sibling}}return m}function Zr(l,u){if(!Ar)throw Error(a(363));l=no(l=cl(l),u),u=[],l=Array.from(l);for(var m=0;m<l.length;){var v=l[m++];if(v.tag===5)Ji(v)||u.push(v.stateNode);else for(v=v.child;v!==null;)l.push(v),v=v.sibling}return u}var io=Math.ceil,ta=h.ReactCurrentDispatcher,Cu=h.ReactCurrentOwner,Ct=h.ReactCurrentBatchConfig,st=0,nr=null,Qt=null,zt=0,ir=0,Oi=Gn(0),sr=0,ys=null,vs=0,_s=0,kn=0,Di=null,Sr=null,Bi=0,fl=1/0,cn=null;function so(){fl=Dt()+500}var Pu,Ft=!1,ra=null,li=null,na=!1,Wn=null,ia=0,Xn=0,Gt=null,Xt=-1,Kt=0;function hr(){return 6&st?Dt():Xt!==-1?Xt:Xt=Dt()}function Mn(l){return 1&l.mode?2&st&&zt!==0?zt&-zt:hp.transition!==null?(Kt===0&&(Kt=xc()),Kt):(l=ht)!==0?l:We():1}function Nr(l,u,m,v){if(50<Xn)throw Xn=0,Gt=null,Error(a(185));To(l,m,v),2&st&&l===nr||(l===nr&&(!(2&st)&&(_s|=m),sr===4&&ui(l,zt)),Jr(l,v),m===1&&st===0&&!(1&u.mode)&&(so(),is&&sn()))}function Jr(l,u){var m=l.callbackNode;(function(x,A){for(var D=x.suspendedLanes,Y=x.pingedLanes,te=x.expirationTimes,pe=x.pendingLanes;0<pe;){var ve=31-gn(pe),ke=1<<ve,ge=te[ve];ge===-1?ke&D&&!(ke&Y)||(te[ve]=Wh(ke,A)):ge<=A&&(x.expiredLanes|=ke),pe&=~ke}})(l,u);var v=Oa(l,l===nr?zt:0);if(v===0)m!==null&&Ai(m),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(m!=null&&Ai(m),u===1)l.tag===0?function(x){is=!0,$s(x)}(Yn.bind(null,l)):$s(Yn.bind(null,l)),Yt?Un(function(){!(6&st)&&sn()}):ni(wc,sn),m=null;else{switch(Ti(v)){case 1:m=wc;break;case 4:m=Xh;break;case 16:default:m=Ao;break;case 536870912:m=cp}m=ih(m,br.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function br(l,u){if(Xt=-1,Kt=0,(6&st)!=0)throw Error(a(327));var m=l.callbackNode;if(qn()&&l.callbackNode!==m)return null;var v=Oa(l,l===nr?zt:0);if(v===0)return null;if(30&v||v&l.expiredLanes||u)u=gl(l,v);else{u=v;var x=st;st|=2;var A=Zc();for(nr===l&&zt===u||(cn=null,so(),Ui(l,u));;)try{ad();break}catch(Y){Iu(l,Y)}Ec(),ta.current=A,st=x,Qt!==null?u=0:(nr=null,zt=0,u=sr)}if(u!==0){if(u===2&&(x=Da(l))!==0&&(v=x,u=pl(l,x)),u===1)throw m=ys,Ui(l,0),ui(l,v),Jr(l,Dt()),m;if(u===6)ui(l,v);else{if(x=l.current.alternate,(30&v)==0&&!function(Y){for(var te=Y;;){if(16384&te.flags){var pe=te.updateQueue;if(pe!==null&&(pe=pe.stores)!==null)for(var ve=0;ve<pe.length;ve++){var ke=pe[ve],ge=ke.getSnapshot;ke=ke.value;try{if(!yn(ge(),ke))return!1}catch{return!1}}}if(pe=te.child,16384&te.subtreeFlags&&pe!==null)pe.return=te,te=pe;else{if(te===Y)break;for(;te.sibling===null;){if(te.return===null||te.return===Y)return!0;te=te.return}te.sibling.return=te.return,te=te.sibling}}return!0}(x)&&((u=gl(l,v))===2&&(A=Da(l))!==0&&(v=A,u=pl(l,A)),u===1))throw m=ys,Ui(l,0),ui(l,v),Jr(l,Dt()),m;switch(l.finishedWork=x,l.finishedLanes=v,u){case 0:case 1:throw Error(a(345));case 2:case 5:ao(l,Sr,cn);break;case 3:if(ui(l,v),(130023424&v)===v&&10<(u=Bi+500-Dt())){if(Oa(l,0)!==0)break;if(((x=l.suspendedLanes)&v)!==v){hr(),l.pingedLanes|=l.suspendedLanes&x;break}l.timeoutHandle=fe(ao.bind(null,l,Sr,cn),u);break}ao(l,Sr,cn);break;case 4:if(ui(l,v),(4194240&v)===v)break;for(u=l.eventTimes,x=-1;0<v;){var D=31-gn(v);A=1<<D,(D=u[D])>x&&(x=D),v&=~A}if(v=x,10<(v=(120>(v=Dt()-v)?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*io(v/1960))-v)){l.timeoutHandle=fe(ao.bind(null,l,Sr,cn),v);break}ao(l,Sr,cn);break;default:throw Error(a(329))}}}return Jr(l,Dt()),l.callbackNode===m?br.bind(null,l):null}function pl(l,u){var m=Di;return l.current.memoizedState.isDehydrated&&(Ui(l,u).flags|=256),(l=gl(l,u))!==2&&(u=Sr,Sr=m,u!==null&&ml(u)),l}function ml(l){Sr===null?Sr=l:Sr.push.apply(Sr,l)}function ui(l,u){for(u&=~kn,u&=~_s,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-gn(u),v=1<<m;l[m]=-1,u&=~v}}function Yn(l){if(6&st)throw Error(a(327));qn();var u=Oa(l,0);if(!(1&u))return Jr(l,Dt()),null;var m=gl(l,u);if(l.tag!==0&&m===2){var v=Da(l);v!==0&&(u=v,m=pl(l,v))}if(m===1)throw m=ys,Ui(l,0),ui(l,u),Jr(l,Dt()),m;if(m===6)throw Error(a(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,ao(l,Sr,cn),Jr(l,Dt()),null}function hn(l){Wn!==null&&Wn.tag===0&&!(6&st)&&qn();var u=st;st|=1;var m=Ct.transition,v=ht;try{if(Ct.transition=null,ht=1,l)return l()}finally{ht=v,Ct.transition=m,!(6&(st=u))&&sn()}}function oo(){ir=Oi.current,ft(Oi)}function Ui(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==xe&&(l.timeoutHandle=xe,me(m)),Qt!==null)for(m=Qt.return;m!==null;){var v=m;switch(tu(v),v.tag){case 1:(v=v.type.childContextTypes)!=null&&js();break;case 3:qs(),ft(Vr),ft(Ir),ln();break;case 5:kc(v);break;case 4:qs();break;case 13:case 19:ft(Vt);break;case 10:Va(v.type._context);break;case 22:case 23:oo()}m=m.return}if(nr=l,Qt=l=zi(l.current,null),zt=ir=u,sr=0,ys=null,kn=_s=vs=0,Sr=Di=null,os!==null){for(u=0;u<os.length;u++)if((v=(m=os[u]).interleaved)!==null){m.interleaved=null;var x=v.next,A=m.pending;if(A!==null){var D=A.next;A.next=x,v.next=D}m.pending=v}os=null}return l}function Iu(l,u){for(;;){var m=Qt;try{if(Ec(),cs.current=Vo,hu){for(var v=jt.memoizedState;v!==null;){var x=v.queue;x!==null&&(x.pending=null),v=v.next}hu=!1}if(hs=0,er=ur=jt=null,Ka=!1,oi=0,Cu.current=null,m===null||m.return===null){sr=1,ys=u,Qt=null;break}e:{var A=l,D=m.return,Y=m,te=u;if(u=zt,Y.flags|=32768,te!==null&&typeof te=="object"&&typeof te.then=="function"){var pe=te,ve=Y,ke=ve.tag;if(!(1&ve.mode)&&(ke===0||ke===11||ke===15)){var ge=ve.alternate;ge?(ve.updateQueue=ge.updateQueue,ve.memoizedState=ge.memoizedState,ve.lanes=ge.lanes):(ve.updateQueue=null,ve.memoizedState=null)}var Ce=Qs(D);if(Ce!==null){Ce.flags&=-257,Vn(Ce,D,Y,0,u),1&Ce.mode&&Wc(A,pe,u),te=pe;var Be=(u=Ce).updateQueue;if(Be===null){var ot=new Set;ot.add(te),u.updateQueue=ot}else Be.add(te);break e}if(!(1&u)){Wc(A,pe,u),Ru();break e}te=Error(a(426))}else if(Mt&&1&Y.mode){var _e=Qs(D);if(_e!==null){!(65536&_e.flags)&&(_e.flags|=256),Vn(_e,D,Y,0,u),Ha(Wo(te,Y));break e}}A=te=Wo(te,Y),sr!==4&&(sr=2),Di===null?Di=[A]:Di.push(A),A=D;do{switch(A.tag){case 3:A.flags|=65536,u&=-u,A.lanes|=u,Zh(A,Su(0,te,u));break e;case 1:Y=te;var Q=A.type,ae=A.stateNode;if(!(128&A.flags)&&(typeof Q.getDerivedStateFromError=="function"||ae!==null&&typeof ae.componentDidCatch=="function"&&(li===null||!li.has(ae)))){A.flags|=65536,u&=-u,A.lanes|=u,Zh(A,ki(A,Y,u));break e}}A=A.return}while(A!==null)}eh(m)}catch(Ee){u=Ee,Qt===m&&m!==null&&(Qt=m=m.return);continue}break}}function Zc(){var l=ta.current;return ta.current=Vo,l===null?Vo:l}function Ru(){sr!==0&&sr!==3&&sr!==2||(sr=4),nr===null||!(268435455&vs)&&!(268435455&_s)||ui(nr,zt)}function gl(l,u){var m=st;st|=2;var v=Zc();for(nr===l&&zt===u||(cn=null,Ui(l,u));;)try{od();break}catch(x){Iu(l,x)}if(Ec(),st=m,ta.current=v,Qt!==null)throw Error(a(261));return nr=null,zt=0,sr}function od(){for(;Qt!==null;)Jc(Qt)}function ad(){for(;Qt!==null&&!Ua();)Jc(Qt)}function Jc(l){var u=Pu(l.alternate,l,ir);l.memoizedProps=l.pendingProps,u===null?eh(l):Qt=u,Cu.current=null}function eh(l){var u=l;do{var m=u.alternate;if(l=u.return,(32768&u.flags)==0){if((m=Ko(m,u,ir))!==null)return void(Qt=m)}else{if((m=Eu(m,u))!==null)return m.flags&=32767,void(Qt=m);if(l===null)return sr=6,void(Qt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Qt=u);Qt=u=l}while(u!==null);sr===0&&(sr=5)}function ao(l,u,m){var v=ht,x=Ct.transition;try{Ct.transition=null,ht=1,function(A,D,Y,te){do qn();while(Wn!==null);if(6&st)throw Error(a(327));Y=A.finishedWork;var pe=A.finishedLanes;if(Y===null)return null;if(A.finishedWork=null,A.finishedLanes=0,Y===A.current)throw Error(a(177));A.callbackNode=null,A.callbackPriority=0;var ve=Y.lanes|Y.childLanes;if(function(Ce,Be){var ot=Ce.pendingLanes&~Be;Ce.pendingLanes=Be,Ce.suspendedLanes=0,Ce.pingedLanes=0,Ce.expiredLanes&=Be,Ce.mutableReadLanes&=Be,Ce.entangledLanes&=Be,Be=Ce.entanglements;var _e=Ce.eventTimes;for(Ce=Ce.expirationTimes;0<ot;){var Q=31-gn(ot),ae=1<<Q;Be[Q]=0,_e[Q]=-1,Ce[Q]=-1,ot&=~ae}}(A,ve),A===nr&&(Qt=nr=null,zt=0),!(2064&Y.subtreeFlags)&&!(2064&Y.flags)||na||(na=!0,ih(Ao,function(){return qn(),null})),ve=(15990&Y.flags)!=0,(15990&Y.subtreeFlags)!=0||ve){ve=Ct.transition,Ct.transition=null;var ke=ht;ht=1;var ge=st;st|=4,Cu.current=null,function(Ce,Be){for(H(Ce.containerInfo),Me=Be;Me!==null;)if(Be=(Ce=Me).child,(1028&Ce.subtreeFlags)!=0&&Be!==null)Be.return=Ce,Me=Be;else for(;Me!==null;){Ce=Me;try{var ot=Ce.alternate;if(1024&Ce.flags)switch(Ce.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(ot!==null){var _e=ot.memoizedProps,Q=ot.memoizedState,ae=Ce.stateNode,Ee=ae.getSnapshotBeforeUpdate(Ce.elementType===Ce.type?_e:Hn(Ce.type,_e),Q);ae.__reactInternalSnapshotBeforeUpdate=Ee}break;case 3:Pe&&$r(Ce.stateNode.containerInfo);break;default:throw Error(a(163))}}catch(qe){Rt(Ce,Ce.return,qe)}if((Be=Ce.sibling)!==null){Be.return=Ce.return,Me=Be;break}Me=Ce.return}ot=gs,gs=!1}(A,Y),Js(Y,A),L(A.containerInfo),A.current=Y,gp(Y),za(),st=ge,ht=ke,Ct.transition=ve}else A.current=Y;if(na&&(na=!1,Wn=A,ia=pe),ve=A.pendingLanes,ve===0&&(li=null),function(Ce){if(nn&&typeof nn.onCommitFiberRoot=="function")try{nn.onCommitFiberRoot(Ga,Ce,void 0,(128&Ce.current.flags)==128)}catch{}}(Y.stateNode),Jr(A,Dt()),D!==null)for(te=A.onRecoverableError,Y=0;Y<D.length;Y++)pe=D[Y],te(pe.value,{componentStack:pe.stack,digest:pe.digest});if(Ft)throw Ft=!1,A=ra,ra=null,A;1&ia&&A.tag!==0&&qn(),ve=A.pendingLanes,1&ve?A===Gt?Xn++:(Xn=0,Gt=A):Xn=0,sn()}(l,u,m,v)}finally{Ct.transition=x,ht=v}return null}function qn(){if(Wn!==null){var l=Ti(ia),u=Ct.transition,m=ht;try{if(Ct.transition=null,ht=16>l?16:l,Wn===null)var v=!1;else{if(l=Wn,Wn=null,ia=0,(6&st)!=0)throw Error(a(331));var x=st;for(st|=4,Me=l.current;Me!==null;){var A=Me,D=A.child;if(16&Me.flags){var Y=A.deletions;if(Y!==null){for(var te=0;te<Y.length;te++){var pe=Y[te];for(Me=pe;Me!==null;){var ve=Me;switch(ve.tag){case 0:case 11:case 15:Zo(8,ve,A)}var ke=ve.child;if(ke!==null)ke.return=ve,Me=ke;else for(;Me!==null;){var ge=(ve=Me).sibling,Ce=ve.return;if(Qr(ve),ve===pe){Me=null;break}if(ge!==null){ge.return=Ce,Me=ge;break}Me=Ce}}}var Be=A.alternate;if(Be!==null){var ot=Be.child;if(ot!==null){Be.child=null;do{var _e=ot.sibling;ot.sibling=null,ot=_e}while(ot!==null)}}Me=A}}if(2064&A.subtreeFlags&&D!==null)D.return=A,Me=D;else e:for(;Me!==null;){if(2048&(A=Me).flags)switch(A.tag){case 0:case 11:case 15:Zo(9,A,A.return)}var Q=A.sibling;if(Q!==null){Q.return=A.return,Me=Q;break e}Me=A.return}}var ae=l.current;for(Me=ae;Me!==null;){var Ee=(D=Me).child;if(2064&D.subtreeFlags&&Ee!==null)Ee.return=D,Me=Ee;else e:for(D=ae;Me!==null;){if(2048&(Y=Me).flags)try{switch(Y.tag){case 0:case 11:case 15:Jo(9,Y)}}catch(_t){Rt(Y,Y.return,_t)}if(Y===D){Me=null;break e}var qe=Y.sibling;if(qe!==null){qe.return=Y.return,Me=qe;break e}Me=Y.return}}if(st=x,sn(),nn&&typeof nn.onPostCommitFiberRoot=="function")try{nn.onPostCommitFiberRoot(Ga,l)}catch{}v=!0}return v}finally{ht=m,Ct.transition=u}}return!1}function th(l,u,m){l=si(l,u=Su(0,u=Wo(m,u),1),1),u=hr(),l!==null&&(To(l,1,u),Jr(l,u))}function Rt(l,u,m){if(l.tag===3)th(l,l,m);else for(;u!==null;){if(u.tag===3){th(u,l,m);break}if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(li===null||!li.has(v))){u=si(u,l=ki(u,l=Wo(m,l),1),1),l=hr(),u!==null&&(To(u,1,l),Jr(u,l));break}}u=u.return}}function ku(l,u,m){var v=l.pingCache;v!==null&&v.delete(u),u=hr(),l.pingedLanes|=l.suspendedLanes&m,nr===l&&(zt&m)===m&&(sr===4||sr===3&&(130023424&zt)===zt&&500>Dt()-Bi?Ui(l,0):kn|=m),Jr(l,u)}function rh(l,u){u===0&&(1&l.mode?(u=Fa,!(130023424&(Fa<<=1))&&(Fa=4194304)):u=1);var m=hr();(l=ii(l,u))!==null&&(To(l,u,m),Jr(l,m))}function nh(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),rh(l,m)}function ld(l,u){var m=0;switch(l.tag){case 13:var v=l.stateNode,x=l.memoizedState;x!==null&&(m=x.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(a(314))}v!==null&&v.delete(u),rh(l,m)}function ih(l,u){return ni(l,u)}function ud(l,u,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(l,u,m,v){return new ud(l,u,m,v)}function yl(l){return!(!(l=l.prototype)||!l.isReactComponent)}function zi(l,u){var m=l.alternate;return m===null?((m=dn(l.tag,u,l.key,l.mode)).elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=14680064&l.flags,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function vl(l,u,m,v,x,A){var D=2;if(v=l,typeof l=="function")yl(l)&&(D=1);else if(typeof l=="string")D=5;else e:switch(l){case g:return xs(m.children,x,A,u);case _:D=8,x|=8;break;case w:return(l=dn(12,m,u,2|x)).elementType=w,l.lanes=A,l;case I:return(l=dn(13,m,u,x)).elementType=I,l.lanes=A,l;case C:return(l=dn(19,m,u,x)).elementType=C,l.lanes=A,l;case N:return Mu(m,x,A,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case b:D=10;break e;case E:D=9;break e;case T:D=11;break e;case M:D=14;break e;case z:D=16,v=null;break e}throw Error(a(130,l==null?l:typeof l,""))}return(u=dn(D,m,u,x)).elementType=l,u.type=v,u.lanes=A,u}function xs(l,u,m,v){return(l=dn(7,l,v,u)).lanes=m,l}function Mu(l,u,m,v){return(l=dn(22,l,v,u)).elementType=N,l.lanes=m,l.stateNode={isHidden:!1},l}function Nu(l,u,m){return(l=dn(6,l,null,u)).lanes=m,l}function sh(l,u,m){return(u=dn(4,l.children!==null?l.children:[],l.key,u)).lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function yp(l,u,m,v,x){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=xe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eu(0),this.expirationTimes=eu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.identifierPrefix=v,this.onRecoverableError=x,He&&(this.mutableSourceEagerHydrationData=null)}function oh(l,u,m,v,x,A,D,Y,te){return l=new yp(l,u,m,Y,te),u===1?(u=1,A===!0&&(u|=8)):u=0,A=dn(3,null,null,u),l.current=A,A.stateNode=l,A.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},Cc(A),l}function ah(l){if(!l)return gr;e:{if(Z(l=l._reactInternals)!==l||l.tag!==1)throw Error(a(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Rr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(a(171))}if(l.tag===1){var m=l.type;if(Rr(m))return Vh(l,m,u)}return u}function lh(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(a(188)):(l=Object.keys(l).join(","),Error(a(268,l)));return(l=Te(u))===null?null:l.stateNode}function _l(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function Lu(l,u){_l(l,u),(l=l.alternate)&&_l(l,u)}function vp(l){return(l=Te(l))===null?null:l.stateNode}function _p(){return null}return Pu=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Vr.current)Wt=!0;else{if(!(l.lanes&m)&&!(128&u.flags))return Wt=!1,function(ke,ge,Ce){switch(ge.tag){case 3:Mi(ge),Mo();break;case 5:td(ge);break;case 1:Rr(ge.type)&&Zl(ge);break;case 4:lu(ge,ge.stateNode.containerInfo);break;case 10:qh(0,ge.type._context,ge.memoizedProps.value);break;case 13:var Be=ge.memoizedState;if(Be!==null)return Be.dehydrated!==null?(kt(Vt,1&Vt.current),ge.flags|=128,null):Ce&ge.child.childLanes?zr(ke,ge,Ce):(kt(Vt,1&Vt.current),(ke=bn(ke,ge,Ce))!==null?ke.sibling:null);kt(Vt,1&Vt.current);break;case 19:if(Be=(Ce&ge.childLanes)!=0,(128&ke.flags)!=0){if(Be)return Yc(ke,ge,Ce);ge.flags|=128}var ot=ge.memoizedState;if(ot!==null&&(ot.rendering=null,ot.tail=null,ot.lastEffect=null),kt(Vt,Vt.current),Be)break;return null;case 22:case 23:return ge.lanes=0,Xo(ke,ge,Ce)}return bn(ke,ge,Ce)}(l,u,m);Wt=(131072&l.flags)!=0}else Wt=!1,Mt&&1048576&u.flags&&ja(u,Vs,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;Sn(l,u),l=u.pendingProps;var x=Ei(u,Ir.current);Lo(u,m),x=du(null,u,v,l,x,m);var A=Uo();return u.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Rr(v)?(A=!0,Zl(u)):A=!1,u.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Cc(u),x.updater=Xa,u.stateNode=x,x._reactInternals=u,Rc(u,v,l,m),u=ps(null,u,v,!0,A,m)):(u.tag=0,Mt&&A&&Ro(u),kr(null,u,x,m),u=u.child),u;case 16:v=u.elementType;e:{switch(Sn(l,u),l=u.pendingProps,v=(x=v._init)(v._payload),u.type=v,x=u.tag=function(ke){if(typeof ke=="function")return yl(ke)?1:0;if(ke!=null){if((ke=ke.$$typeof)===T)return 11;if(ke===M)return 14}return 2}(v),l=Hn(v,l),x){case 0:u=Yo(null,u,v,l,m);break e;case 1:u=bu(null,u,v,l,m);break e;case 11:u=nd(null,u,v,l,m);break e;case 14:u=id(null,u,v,Hn(v.type,l),m);break e}throw Error(a(306,v,""))}return u;case 0:return v=u.type,x=u.pendingProps,Yo(l,u,v,x=u.elementType===v?x:Hn(v,x),m);case 1:return v=u.type,x=u.pendingProps,bu(l,u,v,x=u.elementType===v?x:Hn(v,x),m);case 3:e:{if(Mi(u),l===null)throw Error(a(387));v=u.pendingProps,x=(A=u.memoizedState).element,Kh(l,u),Wa(u,v,null,m);var D=u.memoizedState;if(v=D.element,He&&A.isDehydrated){if(A={element:v,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},u.updateQueue.baseState=A,u.memoizedState=A,256&u.flags){u=Lt(l,u,v,m,x=Wo(Error(a(423)),u));break e}if(v!==x){u=Lt(l,u,v,m,x=Wo(Error(a(424)),u));break e}for(He&&(xr=Xl(u.stateNode.containerInfo),Bt=u,Mt=!0,jn=null,Pi=!1),m=qa(u,null,v,m),u.child=m;m;)m.flags=-3&m.flags|4096,m=m.sibling}else{if(Mo(),v===x){u=bn(l,u,m);break e}kr(l,u,v,m)}u=u.child}return u;case 5:return td(u),l===null&&ko(u),v=u.type,x=u.pendingProps,A=l!==null?l.memoizedProps:null,D=x.children,le(v,x)?D=null:A!==null&&le(v,A)&&(u.flags|=32),Ks(l,u),kr(l,u,D,m),u.child;case 6:return l===null&&ko(u),null;case 13:return zr(l,u,m);case 4:return lu(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=Bo(u,null,v,m):kr(l,u,v,m),u.child;case 11:return v=u.type,x=u.pendingProps,nd(l,u,v,x=u.elementType===v?x:Hn(v,x),m);case 7:return kr(l,u,u.pendingProps,m),u.child;case 8:case 12:return kr(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,x=u.pendingProps,A=u.memoizedProps,qh(0,v,D=x.value),A!==null)if(yn(A.value,D)){if(A.children===x.children&&!Vr.current){u=bn(l,u,m);break e}}else for((A=u.child)!==null&&(A.return=u);A!==null;){var Y=A.dependencies;if(Y!==null){D=A.child;for(var te=Y.firstContext;te!==null;){if(te.context===v){if(A.tag===1){(te=Ii(-1,m&-m)).tag=2;var pe=A.updateQueue;if(pe!==null){var ve=(pe=pe.shared).pending;ve===null?te.next=te:(te.next=ve.next,ve.next=te),pe.pending=te}}A.lanes|=m,(te=A.alternate)!==null&&(te.lanes|=m),Tc(A.return,m,u),Y.lanes|=m;break}te=te.next}}else if(A.tag===10)D=A.type===u.type?null:A.child;else if(A.tag===18){if((D=A.return)===null)throw Error(a(341));D.lanes|=m,(Y=D.alternate)!==null&&(Y.lanes|=m),Tc(D,m,u),D=A.sibling}else D=A.child;if(D!==null)D.return=A;else for(D=A;D!==null;){if(D===u){D=null;break}if((A=D.sibling)!==null){A.return=D.return,D=A;break}D=D.return}A=D}kr(l,u,x.children,m),u=u.child}return u;case 9:return x=u.type,v=u.pendingProps.children,Lo(u,m),v=v(x=xn(x)),u.flags|=1,kr(l,u,v,m),u.child;case 14:return x=Hn(v=u.type,u.pendingProps),id(l,u,v,x=Hn(v.type,x),m);case 15:return fs(l,u,u.type,u.pendingProps,m);case 17:return v=u.type,x=u.pendingProps,x=u.elementType===v?x:Hn(v,x),Sn(l,u),u.tag=1,Rr(v)?(l=!0,Zl(u)):l=!1,Lo(u,m),Jh(u,v,x),Rc(u,v,x,m),ps(null,u,v,!0,l,m);case 19:return Yc(l,u,m);case 22:return Xo(l,u,m)}throw Error(a(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=ii(l,134217728);u!==null&&Nr(u,l,134217728,hr()),Lu(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=ii(l,1);u!==null&&Nr(u,l,1,hr()),Lu(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=Mn(l),m=ii(l,u);m!==null&&Nr(m,l,u,hr()),Lu(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=pt(u.pendingLanes);m!==0&&(Ba(u,1|m),Jr(u,Dt()),!(6&st)&&(so(),sn()))}break;case 13:hn(function(){var v=ii(l,1);if(v!==null){var x=hr();Nr(v,l,1,x)}}),Lu(l,1)}},e.batchedUpdates=function(l,u){var m=st;st|=1;try{return l(u)}finally{(st=m)===0&&(so(),is&&sn())}},e.createComponentSelector=function(l){return{$$typeof:Li,value:l}},e.createContainer=function(l,u,m,v,x,A,D){return oh(l,u,!1,null,0,v,0,A,D)},e.createHasPseudoClassSelector=function(l){return{$$typeof:ul,value:l}},e.createHydrationContainer=function(l,u,m,v,x,A,D,Y,te){return(l=oh(m,v,!0,l,0,A,0,Y,te)).context=ah(null),m=l.current,(A=Ii(v=hr(),x=Mn(m))).callback=u??null,si(m,A,x),l.current.lanes=x,To(l,x,v),Jr(l,v),l},e.createPortal=function(l,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:p,key:v==null?null:""+v,children:l,containerInfo:u,implementation:m}},e.createRoleSelector=function(l){return{$$typeof:eo,value:l}},e.createTestNameSelector=function(l){return{$$typeof:to,value:l}},e.createTextSelector=function(l){return{$$typeof:Fi,value:l}},e.deferredUpdates=function(l){var u=ht,m=Ct.transition;try{return Ct.transition=null,ht=16,l()}finally{ht=u,Ct.transition=m}},e.discreteUpdates=function(l,u,m,v,x){var A=ht,D=Ct.transition;try{return Ct.transition=null,ht=1,l(u,m,v,x)}finally{ht=A,Ct.transition=D,st===0&&so()}},e.findAllNodes=Zr,e.findBoundingRects=function(l,u){if(!Ar)throw Error(a(363));u=Zr(l,u),l=[];for(var m=0;m<u.length;m++)l.push(Ta(u[m]));for(u=l.length-1;0<u;u--)for(var v=(m=l[u]).x,x=v+m.width,A=m.y,D=A+m.height,Y=u-1;0<=Y;Y--)if(u!==Y){var te=l[Y],pe=te.x,ve=pe+te.width,ke=te.y,ge=ke+te.height;if(v>=pe&&A>=ke&&x<=ve&&D<=ge){l.splice(u,1);break}if(!(v!==pe||m.width!==te.width||ge<A||ke>D)){ke>A&&(te.height+=ke-A,te.y=A),ge<D&&(te.height=D-ke),l.splice(u,1);break}if(!(A!==ke||m.height!==te.height||ve<v||pe>x)){pe>v&&(te.width+=pe-v,te.x=v),ve<x&&(te.width=x-pe),l.splice(u,1);break}}return l},e.findHostInstance=lh,e.findHostInstanceWithNoPortals=function(l){return(l=(l=ye(l))!==null?ie(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return lh(l)},e.flushControlled=function(l){var u=st;st|=1;var m=Ct.transition,v=ht;try{Ct.transition=null,ht=1,l()}finally{ht=v,Ct.transition=m,(st=u)===0&&(so(),sn())}},e.flushPassiveEffects=qn,e.flushSync=hn,e.focusWithin=function(l,u){if(!Ar)throw Error(a(363));for(u=no(l=cl(l),u),u=Array.from(u),l=0;l<u.length;){var m=u[l++];if(!Ji(m)){if(m.tag===5&&Aa(m.stateNode))return!0;for(m=m.child;m!==null;)u.push(m),m=m.sibling}}return!1},e.getCurrentUpdatePriority=function(){return ht},e.getFindAllNodesFailureDescription=function(l,u){if(!Ar)throw Error(a(363));var m=0,v=[];l=[cl(l),0];for(var x=0;x<l.length;){var A=l[x++],D=l[x++],Y=u[D];if((A.tag!==5||!Ji(A))&&(hl(A,Y)&&(v.push(dl(Y)),++D>m&&(m=D)),D<u.length))for(A=A.child;A!==null;)l.push(A,D),A=A.sibling}if(m<u.length){for(l=[];m<u.length;m++)l.push(dl(u[m]));return`findAllNodes was able to match part of the selector:
  `+v.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?B(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:h.ReactCurrentDispatcher,findHostInstanceByFiber:vp,findFiberByHostInstance:l.findFiberByHostInstance||_p,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Ga=u.inject(l),nn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,m,v){if(!Ar)throw Error(a(363));l=Zr(l,u);var x=Ca(l,m,v).disconnect;return{disconnect:function(){x()}}},e.registerMutableSourceForHydration=function(l,u){var m=u._getVersion;m=m(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,m]:l.mutableSourceEagerHydrationData.push(u,m)},e.runWithPriority=function(l,u){var m=ht;try{return ht=l,u()}finally{ht=m}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,m,v){var x=u.current,A=hr(),D=Mn(x);return m=ah(m),u.context===null?u.context=m:u.pendingContext=m,(u=Ii(A,D)).payload={element:l},(v=v===void 0?null:v)!==null&&(u.callback=v),(l=si(x,u,D))!==null&&(Nr(l,x,D,A),ls(l,x,D)),D},e}),k1}({get exports(){return iy},set exports(r){iy=r}}).exports=iC();var sC=kA(iy),Fx={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},oy={},Kd={get exports(){return oy},set exports(r){oy=r}};(function(){var r,e,t,n,s,a;typeof performance<"u"&&performance!==null&&performance.now?Kd.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Kd.exports=function(){return(r()-s)/1e6},e=process.hrtime,n=(r=function(){var h;return 1e9*(h=e())[0]+h[1]})(),a=1e9*process.uptime(),s=n-a):Date.now?(Kd.exports=function(){return Date.now()-t},t=Date.now()):(Kd.exports=function(){return new Date().getTime()-t},t=new Date().getTime())}).call(RA);var L1,Zu={},Pl={};({get exports(){return Zu},set exports(r){Zu=r}}).exports=(L1||(L1=1,Pl.ConcurrentRoot=1,Pl.ContinuousEventPriority=4,Pl.DefaultEventPriority=16,Pl.DiscreteEventPriority=1,Pl.IdleEventPriority=536870912,Pl.LegacyRoot=0),Pl);var oC={};function _g(r,e){r.addChild&&(r.addChild(e),typeof e.didMount=="function"&&e.didMount(e,r))}function Ox(r,e){var t,n,s;(t=r.willUnmount)===null||t===void 0||t.call(r,r,e),((n=r.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(s=r.children)!==null&&s!==void 0&&s.length&&xo(r.children).forEach(function(a){Ox(a,r)})}function F1(r,e){var t;Ox(e,r),r.removeChild(e);var n=(t=e.config)!==null&&t!==void 0?t:{},s=n.destroy,a=s===void 0||s,h=n.destroyChildren,d=h===void 0||h,p=n.destroyTexture,g=p!==void 0&&p,_=n.destroyBaseTexture,w=_!==void 0&&_;a&&e.destroy({children:d,texture:g,baseTexture:w})}function O1(r,e,t){var n,s;lr(e!==t,"Cannot insert node before itself"),r.children.indexOf(e)!==-1&&r.removeChild(e);var a=r.getChildIndex(t);r.addChildAt(e,a),(n=r.__reactpixi)===null||n===void 0||(s=n.root)===null||s===void 0||s.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var D1=null,qi=sC({getRootHostContext:function(){return oC},getChildHostContext:function(r){return r},getChildHostContextForEventComponent:function(r){return r},getPublicInstance:function(r){return r},getCurrentEventPriority:function(){return function(){var r,e;if(typeof window>"u")return Zu.DefaultEventPriority;switch((r=window)===null||r===void 0||(e=r.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Zu.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Zu.ContinuousEventPriority;default:return Zu.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(r){var e,t,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,a=eC[r];if(typeof a=="function"&&(e=a(s,n)),!e){var h=Lx[r];h&&((e=h.create(n,{root:s})).didMount=h.didMount?h.didMount.bind(e):void 0,e.willUnmount=h.willUnmount?h.willUnmount.bind(e):void 0,e.applyProps=h.applyProps?h.applyProps.bind(e):void 0,e.config=h.config)}return e&&(e.__reactpixi={root:s},(typeof((t=e)===null||t===void 0?void 0:t.applyProps)=="function"?e.applyProps:ks)(e,{},n)),e},hideInstance:function(r){r.visible=!1},unhideInstance:function(r,e){var t=e==null||!e.hasOwnProperty("visible")||e.visible;r.visible=t},finalizeInitialChildren:function(r,e,t){return!1},prepareUpdate:function(r,e,t,n,s,a){return D1=function(h,d,p,g){var _=null;for(var w in p)!g.hasOwnProperty(w)&&p.hasOwnProperty(w)&&p[w]!==null&&(w===ry||(_||(_=[]),_.push(w,null)));for(var b in g){var E=g[b],T=p!==null?p[b]:void 0;!g.hasOwnProperty(b)||E===T||E===null&&T===null||b===ry||(_||(_=[]),_.push(b,E))}return _}(0,0,t,n)},shouldSetTextContent:function(r,e){return!1},shouldDeprioritizeSubtree:function(r,e){var t=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,s=e.visible===void 0||e.visible===!0;return!(t&&n&&s)},createTextInstance:function(r,e,t){lr(!1,'Error trying to add text node "'.concat(r,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(r,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:oy,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var r,e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=_g.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),a},appendChild:function(){for(var r,e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=_g.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),a},appendChildToContainer:function(){for(var r,e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=_g.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),a},removeChild:function(){for(var r,e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=F1.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),a},removeChildFromContainer:function(){for(var r,e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=F1.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),a},insertBefore:O1,insertInContainerBefore:function(){for(var r,e,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=O1.apply(null,n);return(r=n[0].__reactpixi)===null||r===void 0||(e=r.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),a},commitUpdate:function(r,e,t,n,s){var a,h,d=r&&r.applyProps;typeof d!="function"&&(d=ks),(d(r,n,s)||D1)&&((a=r.__reactpixi)===null||a===void 0||(h=a.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(r,e,t,n,s){},commitTextUpdate:function(r,e,t){},resetTextContent:function(r){},clearContainer:function(r){},getFundamentalComponentInstance:function(r){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(r){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(r){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(r){throw new Error("Not yet implemented.")},getInstanceFromNode:function(r){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(r){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(r){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(r){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(r){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(r){}}),aC=Fx.dependencies["react-dom"].replace(/[^0-9.]/g,""),lC=Fx.name;qi.injectIntoDevTools({bundleType:0,version:aC,rendererPackageName:lC,findHostInstanceByFiber:qi.findHostInstance});var _a=new Map;function Dx(r){if(lr(ei.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `Container`."),_a.has(r)){var e=_a.get(r).pixiFiberContainer;qi.updateContainer(null,e,void 0,function(){_a.delete(r)})}}function Bx(r){lr(ei.prototype.isPrototypeOf(r),"Invalid argument `container`, expected instance of `Container`.");var e=_a.get(r);if(lr(!e,"createRoot should only be called once"),!e){var t=qi.createContainer(r);e={pixiFiberContainer:t,reactRoot:{render:function(n){return qi.updateContainer(n,t,void 0),qi.getPublicRootInstance(t)},unmount:function(){Dx(r),_a.delete(r)}}},_a.set(r,e)}return e.reactRoot}function uC(r,e,t){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),t!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),_a.has(e)?n=_a.get(e).reactRoot:n=Bx(e),n.render(r)}function cC(r){Dx(r)}function zh(){return zh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},zh.apply(this,arguments)}function hC(r,e){if(!(r instanceof e))throw new TypeError("Cannot call a class as a function")}function dC(r,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,kx(n.key),n)}}function fo(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function Of(r,e){return Of=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,n){return t.__proto__=n,t},Of(r,e)}function fC(r,e){if(e&&(Jn(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fo(r)}function Df(r){return Df=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Df(r)}var op=Dn.createContext(null),Ux=op.Provider,zx=op.Consumer,pC=function(r){var e=Dn.forwardRef(function(t,n){return Dn.createElement(zx,null,function(s){return Dn.createElement(r,zh({},t,{ref:n,app:s}))})});return e.displayName="withPIXIApp(".concat(r.displayName||r.name,")"),e};function mC(r){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,n=Df(r);if(e){var s=Df(this).constructor;t=Reflect.construct(n,arguments,s)}else t=n.apply(this,arguments);return fC(this,t)}}function B1(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function Zd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?B1(Object(t),!0).forEach(function(n){pr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):B1(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var U1=function(){},Gx={width:$t.number,height:$t.number,onMount:$t.func,onUnmount:$t.func,raf:$t.bool,renderOnComponentChange:$t.bool,children:$t.node,options:$t.shape({autoStart:$t.bool,width:$t.number,height:$t.number,useContextAlpha:$t.bool,backgroundAlpha:$t.number,autoDensity:$t.bool,antialias:$t.bool,preserveDrawingBuffer:$t.bool,resolution:$t.number,forceCanvas:$t.bool,backgroundColor:$t.number,clearBeforeRender:$t.bool,powerPreference:$t.string,sharedTicker:$t.bool,sharedLoader:$t.bool,resizeTo:function(r,e){var t=r[e];t&&lr(t===window||t instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Jn(t),", expect `window` or an `HTMLElement`."))},view:function(r,e,t){var n=r[e];n&&lr(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Jn(n),", supplied to ").concat(t,", expected `<canvas> Element`"))}})},gC={width:800,height:600,onMount:U1,onUnmount:U1,raf:!0,renderOnComponentChange:!0},ay=function(r){(function(a,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(h&&h.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),Object.defineProperty(a,"prototype",{writable:!1}),h&&Of(a,h)})(s,Dn.Component);var e,t,n=mC(s);function s(){var a;hC(this,s);for(var h=arguments.length,d=new Array(h),p=0;p<h;p++)d[p]=arguments[p];return pr(fo(a=n.call.apply(n,[this].concat(d))),"_canvas",null),pr(fo(a),"_mediaQuery",null),pr(fo(a),"_ticker",null),pr(fo(a),"_needsUpdate",!0),pr(fo(a),"app",null),pr(fo(a),"updateSize",function(){var g=a.props,_=g.width,w=g.height,b=g.options;b!=null&&b.resolution||(a.app.renderer.resolution=window.devicePixelRatio,a.resetInteractionManager()),a.app.renderer.resize(_,w)}),pr(fo(a),"needsRenderUpdate",function(){a._needsUpdate=!0}),pr(fo(a),"renderStage",function(){var g=a.props,_=g.renderOnComponentChange;!g.raf&&_&&a._needsUpdate&&(a._needsUpdate=!1,a.app.renderer.render(a.app.stage))}),a}return e=s,(t=[{key:"componentDidMount",value:function(){var a=this.props,h=a.onMount,d=a.width,p=a.height,g=a.options,_=a.raf,w=a.renderOnComponentChange;this.app=new sp(Zd(Zd({width:d,height:p,view:this._canvas},g),{},{autoDensity:(g==null?void 0:g.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[_?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=qi.createContainer(this.app.stage),qi.updateContainer(this.getChildren(),this.mountNode,this),h(this.app),g!=null&&g.autoDensity&&window.matchMedia&&(g==null?void 0:g.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),w&&!_&&(this._ticker=new pn,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(a,h,d){var p,g=this.props,_=g.width,w=g.height,b=g.raf,E=g.renderOnComponentChange,T=g.options;(T==null?void 0:T.resolution)!==void 0&&(a==null?void 0:a.options.resolution)!==(T==null?void 0:T.resolution)&&(this.app.renderer.resolution=T.resolution,this.resetInteractionManager()),a.height===w&&a.width===_&&((p=a.options)===null||p===void 0?void 0:p.resolution)===(T==null?void 0:T.resolution)||this.updateSize(),a.raf!==b&&this.app.ticker[b?"start":"stop"](),qi.updateContainer(this.getChildren(),this.mountNode,this),a.width===_&&a.height===w&&a.raf===b&&a.renderOnComponentChange===E&&a.options===T||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var a=this.app.renderer.plugins.interaction;a!=null&&a.resolution&&(a.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var a=this.props.children;return Dn.createElement(Ux,{value:this.app},a)}},{key:"componentDidCatch",value:function(a,h){console.error("Error occurred in `Stage`."),console.error(a),console.error(h)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),qi.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var a,h,d=this,p=this.props.options;return p&&p.view?(lr(p.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Dn.createElement("canvas",zh({},(a=this.props,h=[].concat(xo(Object.keys(Gx)),xo(Object.keys(ny))),Object.keys(a).filter(function(g){return!h.includes(g)}).reduce(function(g,_){return Zd(Zd({},g),{},pr({},_,a[_]))},{})),{ref:function(g){return d._canvas=g}}))}}])&&dC(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),s}();ay.propTypes=Gx,ay.defaultProps=gC;var yC=ay;function jx(){var r=Ke.useContext(op);return lr(r instanceof sp,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),r}function vC(r){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],t=jx();lr(typeof r=="function","`useTick` needs a callback function."),lr(t instanceof sp,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=Ke.useRef(null);Ke.useEffect(function(){n.current=r},[r]),Ke.useEffect(function(){if(e){var s=function(a){return n.current.apply(t.ticker,[a,t.ticker])};return t.ticker.add(s),function(){t.ticker&&t.ticker.remove(s)}}},[e])}function _C(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function ly(r,e,t){return ly=_C()?Reflect.construct.bind():function(n,s,a){var h=[null];h.push.apply(h,s);var d=new(Function.bind.apply(n,h));return a&&Of(d,a.prototype),d},ly.apply(null,arguments)}var xC=["children","apply"];function z1(r,e){var t=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(r,s).enumerable})),t.push.apply(t,n)}return t}function Jd(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?z1(Object(t),!0).forEach(function(n){pr(r,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):z1(Object(t)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(t,n))})}return r}var wC=function(r,e){lr(Jn(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var t=Object.keys(e),n=function(s){var a=s.children,h=s.apply,d=Ea(s,xC),p=Ke.useRef(Ke.useMemo(function(){return t.map(function(w){var b,E=(d==null||(b=d[w])===null||b===void 0?void 0:b.construct)||[];return ly(e[w],xo(E))})},[t])),g=Ke.useMemo(function(){return t.reduce(function(w,b,E){return Jd(Jd({},w),{},pr({},b,p.current[E]))},{})},[t]),_=Ke.useMemo(function(){return Object.keys(d).filter(Nx(Mx(t))).reduce(function(w,b){return Jd(Jd({},w),{},pr({},b,d[b]))},{})},[d,t]);return t.forEach(function(w,b){return Object.assign(p.current[b],d[w])}),h&&function(){for(var w=arguments.length,b=new Array(w),E=0;E<w;E++)b[E]=arguments[E];return b.every(function(T){return typeof T=="function"})}(h)&&h.call(r,g),Dn.createElement(r,zh({},_,{filters:p.current}),a)};return n.displayName="FilterWrapper",n.propTypes={children:$t.node,apply:$t.func},n},SC=Bn.BitmapText,bC=Bn.Container,EC=Bn.Graphics,TC=Bn.NineSlicePlane,AC=Bn.ParticleContainer,CC=Bn.Sprite,PC=Bn.AnimatedSprite,IC=Bn.Text,RC=Bn.TilingSprite,kC=Bn.SimpleMesh,MC=Bn.SimpleRope;const NC=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:PC,AppConsumer:zx,AppContext:op,AppProvider:Ux,BitmapText:SC,Container:bC,Graphics:EC,NineSlicePlane:TC,ParticleContainer:AC,PixiComponent:tC,PixiFiber:qi,SimpleMesh:kC,SimpleRope:MC,Sprite:CC,Stage:yC,TYPES:Bn,Text:IC,TilingSprite:RC,applyDefaultProps:ks,createRoot:Bx,eventHandlers:Ff,render:uC,unmountComponentAtNode:cC,useApp:jx,useTick:vC,withFilters:wC,withPixiApp:pC},Symbol.toStringTag,{value:"Module"})),LC=V1(NC);var G1;function FC(){return G1||(G1=1,kh.exports=LC),kh.exports}var ct=FC();const Bf=()=>({isActive:!1,startPoint:null,endPoint:null,direction:"NONE",magnitude:0}),OC=(r,e)=>{const t=e.x-r.x,n=e.y-r.y,s=Math.atan2(n,t)*(180/Math.PI);return s<-60&&s>-120?"UP":s<-120&&s>-180||s<180&&s>120?"UP_LEFT":s<120&&s>60?"DOWN":s<60&&s>0||s<0&&s>-60?"UP_RIGHT":"NONE"},DC=(r,e)=>{const t=e.x-r.x,n=e.y-r.y;return Math.sqrt(t*t+n*n)},BC=jh.div`
    width: 100%;
    height: 100%;
    position: relative;
    touch-action: none;
`,j1=({children:r,onBack:e,onSwipe:t,width:n,height:s})=>{const[a,h]=Ke.useState(Bf()),d=Ke.useCallback((T,I,C)=>{if(!t)return;const M={isActive:!0,startPoint:{x:T-C.left,y:I-C.top},endPoint:null,direction:"NONE",magnitude:0};h(M),t(M)},[t]),p=Ke.useCallback((T,I,C)=>{if(!t||!a.isActive||!a.startPoint)return;const M={x:T-C.left,y:I-C.top},z=OC(a.startPoint,M),N=DC(a.startPoint,M),G={...a,endPoint:M,direction:z,magnitude:N};h(G),t(G)},[a,t]),g=Ke.useCallback(()=>{if(!t)return;a.isActive&&a.direction!=="NONE"&&t(a);const T=Bf();h(T),t(T)},[a,t]),_=Ke.useCallback(T=>{const I=T.touches[0],C=T.currentTarget.getBoundingClientRect();d(I.clientX,I.clientY,C)},[d]),w=Ke.useCallback(T=>{const I=T.touches[0],C=T.currentTarget.getBoundingClientRect();p(I.clientX,I.clientY,C)},[p]),b=Ke.useCallback(T=>{const I=T.currentTarget.getBoundingClientRect();d(T.clientX,T.clientY,I)},[d]),E=Ke.useCallback(T=>{const I=T.currentTarget.getBoundingClientRect();p(T.clientX,T.clientY,I)},[p]);return je.jsxs(BC,{onTouchStart:_,onTouchMove:w,onTouchEnd:g,onMouseDown:b,onMouseMove:E,onMouseUp:g,onMouseLeave:g,children:[je.jsx(ct.Stage,{width:n,height:s,options:{backgroundColor:1087931},children:je.jsx(ct.Container,{children:r})}),je.jsx("button",{onClick:e,style:{position:"absolute",top:"10px",left:"10px"},children:"Back to Menu"})]})},UC=r=>{const e=Ke.useRef(),t=Ke.useRef(0);Ke.useEffect(()=>{const n=s=>{if(t.current){const a=(s-t.current)/1e3;r(a)}t.current=s,e.current=requestAnimationFrame(n)};return e.current=requestAnimationFrame(n),()=>{e.current&&cancelAnimationFrame(e.current)}},[r])},vo=50,zC=-1e3,GC=1100,mf={UP:{verticalVelocity:-1100,horizontalVelocity:0,gravity:1200,airResistance:.08,indicator:{color:16777215,rotation:0}},UP_LEFT:{verticalVelocity:-1100,horizontalVelocity:-400,gravity:1e3,airResistance:.1,indicator:{color:16755200,rotation:-45}},UP_RIGHT:{verticalVelocity:-1100,horizontalVelocity:400,gravity:1e3,airResistance:.1,indicator:{color:16755200,rotation:45}},DOWN:{verticalVelocity:300,horizontalVelocity:0,gravity:1500,airResistance:.05,indicator:{color:16711680,rotation:180}},NONE:{verticalVelocity:0,horizontalVelocity:0,gravity:1200,airResistance:0,indicator:{color:13421772,rotation:0}}},fi={LEVEL_1:{count:20,direction:"horizontal",scrollSpeed:-50,levelWidth:5e3,pattern:"STAIR_UP",platformSpecs:{minWidth:100,maxWidth:300,minGap:10,maxGap:50,minHeight:10,maxHeight:300},snowballs:{frequency:.8,minSize:15,maxSize:30,minHeight:50,maxHeight:400,spacing:{min:100,max:200}},goalScore:20},LEVEL_2:{count:20,direction:"horizontal",scrollSpeed:-200,levelWidth:1e3,pattern:"MAZE",platformSpecs:{minWidth:80,maxWidth:200,minGap:200,maxGap:400,minHeight:50,maxHeight:400},snowballs:{frequency:.4,minSize:15,maxSize:25,minHeight:100,maxHeight:200},goalScore:15},LEVEL_3:{count:20,direction:"horizontal",scrollSpeed:-250,levelWidth:7e3,platformSpecs:{minWidth:60,maxWidth:150,minGap:250,maxGap:450,minHeight:100,maxHeight:500},snowballs:{frequency:.5,minSize:10,maxSize:20,minHeight:150,maxHeight:300},goalScore:20},LEVEL_4:{count:20,direction:"horizontal",scrollSpeed:-350,levelWidth:5e3,platformSpecs:{minWidth:100,maxWidth:300,minGap:150,maxGap:300,minHeight:10,maxHeight:300},snowballs:{frequency:.3,minSize:20,maxSize:30,minHeight:50,maxHeight:100},goalScore:10}};class Hx{static startJump(e){return e.isJumping?e:{...e,velocityY:zC,isJumping:!0,jumpStartTime:performance.now()}}static updatePlayerPhysics(e,t,n,s,a,h){let d={...e};const p=mf[e.currentJumpDirection];if(e.currentPlatform&&!e.isJumping){const _=t.find(w=>w.y===e.currentPlatform.y&&Math.abs(w.x+a-(e.currentPlatform.x+a))<5&&w.width===e.currentPlatform.width);if(_){let w=0;_.isMoving&&(w=_.speed*_.direction*s),d.velocityX*=Math.max(0,1-10*s);const b=e.x-(_.x+a);d={...d,x:_.x+a+b+w,y:_.y-25,velocityY:0,currentPlatform:_};const E=_.x+a+25,T=_.x+a+_.width-25;return d.x=Math.max(E,Math.min(T,d.x)),d}}if(d.velocityY+=GC*s,e.isJumping&&(d.velocityX*=1-p.airResistance*s),d.x+=d.velocityX*s,d.y+=d.velocityY*s,d.x=Math.max(25,Math.min(h.width-25,d.x)),d.y>=h.height-25)return d={...d,y:h.height-25,velocityY:0,velocityX:0,isJumping:!1,currentJumpDirection:"NONE",currentPlatform:null},d;const g=this.checkPlatformCollision(d.x,d.y,d.velocityY,t,a,h);return d={...d,y:g.newY,velocityY:g.newVelocityY,isJumping:g.isJumping,currentPlatform:g.currentPlatform,jumpStartTime:g.isJumping?d.jumpStartTime:null,currentJumpDirection:g.isJumping?d.currentJumpDirection:"NONE"},d}static checkPlatformCollision(e,t,n,s,a,h){if(t>=h.height-25)return{newY:h.height-25,newVelocityY:0,isJumping:!1,platformSpeed:0,currentPlatform:null};for(const d of s){const p=t+25,g=d.y,_=d.x+a;if(n>=0&&p>=g&&p<=g+10&&e+25>_&&e-25<_+d.width)return{newY:d.y-25,newVelocityY:0,isJumping:!1,platformSpeed:d.isMoving?d.speed*d.direction:0,currentPlatform:d}}return{newY:t,newVelocityY:n,isJumping:!0,platformSpeed:null,currentPlatform:null}}static startDirectionalJump(e,t,n,s){if(e.isJumping)return e;const a=mf[t],h=Math.min(n/100,1);return{...e,velocityX:a.horizontalVelocity*h,velocityY:a.verticalVelocity*h,isJumping:!0,jumpStartTime:performance.now(),currentJumpDirection:t,currentPlatform:null}}static updateJumpPhysics(e,t,n){if(!e.isJumping&&e.y>=n.height-vo-25)return{...e,y:n.height-vo-25,velocityY:0,velocityX:0};const s=mf[e.currentJumpDirection],a=e.velocityY+s.gravity*t,h=e.velocityX*(1-s.airResistance*t);return{...e,velocityX:h,velocityY:a,x:e.x+h*t,y:e.y+a*t}}}const jC=({snowballs:r,levelScroll:e,size:t})=>je.jsx(ct.Container,{children:je.jsx(ct.Container,{x:e,children:je.jsx(ct.Graphics,{draw:n=>{n.clear(),r.forEach(s=>{s.collected||(n.beginFill(16777215),n.drawCircle(s.x,s.y,s.size/2),n.endFill())})}})})}),HC=({projectiles:r,snowmen:e,size:t})=>je.jsx(ct.Container,{children:je.jsx(ct.Graphics,{draw:n=>{n.clear(),n.beginFill(16777215),r.forEach(s=>{s.active&&n.drawCircle(s.x,s.y,10)}),e.forEach(s=>{n.drawCircle(s.x,s.y,20),n.drawCircle(s.x,s.y-30,15)}),n.endFill()}})}),$C=({gifts:r,size:e})=>je.jsx(ct.Graphics,{draw:t=>{t.clear(),t.beginFill(16711680),r.forEach(n=>{n.collected||(t.drawRect(n.x-15,n.y-15,30,30),t.lineStyle(3,16776960),t.moveTo(n.x-15,n.y),t.lineTo(n.x+15,n.y),t.moveTo(n.x,n.y-15),t.lineTo(n.x,n.y+15))}),t.endFill()}}),VC=({gifts:r,houses:e})=>je.jsxs(ct.Container,{children:[je.jsx(ct.Graphics,{draw:t=>{t.clear(),e.forEach(n=>{t.beginFill(9127187),t.drawRect(n.x,n.y,n.width,n.height),t.beginFill(8388608),t.moveTo(n.x-10,n.y),t.lineTo(n.x+n.width+10,n.y),t.lineTo(n.x+n.width/2,n.y-40),t.lineTo(n.x-10,n.y),t.beginFill(4864804),t.drawRect(n.x+n.width/2-15,n.y+n.height-40,30,40),t.beginFill(n.hasReceivedGift?16776960:8900331),t.drawRect(n.x+20,n.y+20,25,25),t.drawRect(n.x+n.width-45,n.y+20,25,25)}),t.endFill()}}),je.jsx(ct.Graphics,{draw:t=>{t.clear(),r.forEach(n=>{!n.collected&&n.isDelivering&&(t.beginFill(16711680),t.drawRect(n.x-15,n.y-15,30,30),t.lineStyle(3,16776960),t.moveTo(n.x-15,n.y),t.lineTo(n.x+15,n.y),t.moveTo(n.x,n.y-15),t.lineTo(n.x,n.y+15))}),t.endFill()}})]}),WC=({score:r,timeElapsed:e,goalScore:t,isLevelComplete:n,size:s})=>je.jsx(ct.Container,{children:je.jsx(ct.Text,{text:`Score: ${r}/${t}`,x:s.width-100,y:10,style:{fill:16777215,fontSize:20}})}),XC=({platforms:r,levelScroll:e})=>je.jsxs(ct.Container,{x:e,children:[je.jsx(ct.Graphics,{draw:t=>{t.clear(),t.beginFill(65280),r.forEach(n=>{t.drawRect(n.x,n.y,n.width,10)}),t.endFill()}}),r.map(t=>je.jsx(ct.Sprite,{image:"/pixi/kids-games/build/images/Santa_Claus_Sled_PNG.png",x:t.x+t.width/2,y:t.y,anchor:.5,width:t.width,height:70}))]}),YC=({player:r})=>je.jsxs(ct.Container,{children:[je.jsx(ct.Graphics,{draw:e=>{e.clear(),e.beginFill(16711680),e.drawCircle(r.x,r.y,25),e.endFill()}}),je.jsx(ct.Sprite,{image:"/pixi/kids-games/build/images/Santa_Claus_PNG.png",x:r.x,y:r.y,anchor:.5,width:50,height:70})]}),qC=({size:r})=>{const[e,t]=Ke.useState([]),n=Ke.useCallback(()=>{const s=[],a=[16711680,65280,255,16776960,16711935];for(let h=0;h<100;h++)s.push({x:Math.random()*r.width,y:-10,vx:(Math.random()-.5)*5,vy:Math.random()*2+1,color:a[Math.floor(Math.random()*a.length)],size:Math.random()*6+2});return s},[r]);return Ke.useEffect(()=>{t(n());const s=setInterval(()=>{t(a=>a.map(h=>({...h,x:h.x+h.vx,y:h.y+h.vy,vy:h.vy+.1})).filter(h=>h.y<r.height))},16);return()=>clearInterval(s)},[r,n]),je.jsx(ct.Container,{children:je.jsx(ct.Graphics,{draw:s=>{s.clear(),e.forEach(a=>{s.beginFill(a.color),s.drawCircle(a.x,a.y,a.size),s.endFill()})}})})},QC=({platforms:r,player:e,swipeState:t,levelScroll:n,snowballs:s,score:a,timeElapsed:h,goalScore:d,isLevelComplete:p,onNextLevel:g,currentLevel:_,currentLevelConfig:w,projectiles:b,snowmen:E,gifts:T,houses:I,size:C})=>je.jsxs(ct.Container,{children:[je.jsx(ct.Sprite,{image:(w==null?void 0:w.backgroundImage)||"/pixi/kids-games/build/images/Christmas Santa Claus Icon.png",x:0,y:0,anchor:0,width:C.width,height:C.height,alpha:.5}),je.jsx(XC,{platforms:r,levelScroll:n}),je.jsx(YC,{player:e}),je.jsx(WC,{score:a,timeElapsed:h,goalScore:d,isLevelComplete:p,size:C}),p&&je.jsxs(ct.Container,{children:[je.jsx(ct.Graphics,{draw:M=>{M.clear(),M.beginFill(0,.7),M.drawRect(0,0,C.width,C.height),M.endFill()}}),je.jsx(qC,{size:C}),je.jsx(ct.Text,{text:"Bravo Stefan!",anchor:.5,x:C.width/2,y:C.height/2-50,style:{fill:16777215,fontSize:48,fontWeight:"bold"}}),je.jsx(ct.Text,{text:"Mai multe aventuri!",anchor:.5,x:C.width/2,y:C.height/2+50,style:{fill:16777215,fontSize:24},interactive:!0,buttonMode:!0,pointerdown:g})]}),t.isActive&&t.startPoint&&je.jsx(ct.Graphics,{draw:M=>{M.clear(),M.lineStyle(2,16777215,.5),M.moveTo(t.startPoint.x,t.startPoint.y),t.endPoint&&M.lineTo(t.endPoint.x,t.endPoint.y)}}),_==="LEVEL_1"&&je.jsx(jC,{snowballs:s,levelScroll:n,size:C}),_==="LEVEL_2"&&je.jsx(HC,{projectiles:b,snowmen:E,size:C}),_==="LEVEL_3"&&je.jsx($C,{gifts:T,size:C}),_==="LEVEL_4"&&je.jsx(VC,{gifts:T,houses:I,size:C})]}),KC=({isVisible:r,direction:e,x:t,y:n})=>{if(!r)return null;const s=mf[e];return je.jsx(ct.Graphics,{draw:a=>{a.clear(),a.beginFill(s.indicator.color,.6),a.moveTo(0,-20),a.lineTo(10,0),a.lineTo(-10,0),a.closePath(),a.endFill()},x:t,y:n,rotation:s.indicator.rotation*(Math.PI/180)})};class ZC{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(pn.system.add(this.tickerUpdate,this,cc.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(pn.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const ga=new ZC;class ap{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=ap.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new yt,this.page=new yt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,t,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,t,n,s,a){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Uf extends ap{constructor(){super(...arguments),this.client=new yt,this.movement=new yt,this.offset=new yt,this.global=new yt,this.screen=new yt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,t,n,s,a,h,d,p,g,_,w,b,E,T,I){throw new Error("Method not implemented.")}}class Wi extends Uf{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class nc extends Uf{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}nc.DOM_DELTA_PIXEL=0,nc.DOM_DELTA_LINE=1,nc.DOM_DELTA_PAGE=2;const JC=2048,eP=new yt,xg=new yt;class tP{constructor(e){this.dispatch=new Hh,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,t){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:t,priority:0}),this.mappingTable[e].sort((n,s)=>n.priority-s.priority)}dispatchEvent(e,t){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,t),this.dispatch.emit(t||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const t=this.mappingTable[e.type];if(t)for(let n=0,s=t.length;n<s;n++)t[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,t){ga.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[n](this.rootTarget,this.rootTarget.eventMode,eP.set(e,t),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(e,t){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let s=0,a=n.length-1;s<a;s++)if(e.currentTarget=n[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,t),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let s=n.length-2;s>=0;s--)if(e.currentTarget=n[s],this.notifyTarget(e,t),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,t,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const s=Array.isArray(t)?t:[t];for(let a=n.length-1;a>=0;a--)s.forEach(h=>{e.currentTarget=n[a],this.notifyTarget(e,h)})}propagationPath(e){const t=[e];for(let n=0;n<JC&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");t.push(e.parent),e=e.parent}return t.reverse(),t}hitTestMoveRecursive(e,t,n,s,a,h=!1){let d=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(ga.pauseUpdate=!1),e.interactiveChildren&&e.children){const _=e.children;for(let w=_.length-1;w>=0;w--){const b=_[w],E=this.hitTestMoveRecursive(b,this._isInteractive(t)?t:b.eventMode,n,s,a,h||a(e,n));if(E){if(E.length>0&&!E[E.length-1].parent)continue;const T=e.isInteractive();(E.length>0||T)&&(T&&this._allInteractiveElements.push(e),E.push(e)),this._hitElements.length===0&&(this._hitElements=E),d=!0}}}const p=this._isInteractive(t),g=e.isInteractive();return p&&g&&this._allInteractiveElements.push(e),h||this._hitElements.length>0?null:d?this._hitElements:p&&!a(e,n)&&s(e,n)?g?[e]:[]:null}hitTestRecursive(e,t,n,s,a){if(this._interactivePrune(e)||a(e,n))return null;if((e.eventMode==="dynamic"||t==="dynamic")&&(ga.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let g=p.length-1;g>=0;g--){const _=p[g],w=this.hitTestRecursive(_,this._isInteractive(t)?t:_.eventMode,n,s,a);if(w){if(w.length>0&&!w[w.length-1].parent)continue;const b=e.isInteractive();return(w.length>0||b)&&w.push(e),w}}}const h=this._isInteractive(t),d=e.isInteractive();return h&&s(e,n)?d?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,t){var n;if(e.hitArea&&(e.worldTransform.applyInverse(t,xg),!e.hitArea.contains(xg.x,xg.y)))return!0;if(e._mask){const s=e._mask.isMaskData?e._mask.maskObject:e._mask;if(s&&!((n=s.containsPoint)!=null&&n.call(s,t)))return!0}return!1}hitTestFn(e,t){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(t):!1}notifyTarget(e,t){var a,h;t=t??e.type;const n=`on${t}`;(h=(a=e.currentTarget)[n])==null||h.call(a,e);const s=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${t}capture`:t;this.notifyListeners(e,s),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,t)}mapPointerDown(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.createPointerEvent(e);if(this.dispatchEvent(t,"pointerdown"),t.pointerType==="touch")this.dispatchEvent(t,"touchstart");else if(t.pointerType==="mouse"||t.pointerType==="pen"){const s=t.button===2;this.dispatchEvent(t,s?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=t.composedPath(),this.freeEvent(t)}mapPointerMove(e){var p,g;if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const t=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=t.pointerType==="mouse"||t.pointerType==="pen",s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.overTargets);if(((p=s.overTargets)==null?void 0:p.length)>0&&a!==t.target){const _=e.type==="mousemove"?"mouseout":"pointerout",w=this.createPointerEvent(e,_,a);if(this.dispatchEvent(w,"pointerout"),n&&this.dispatchEvent(w,"mouseout"),!t.composedPath().includes(a)){const b=this.createPointerEvent(e,"pointerleave",a);for(b.eventPhase=b.AT_TARGET;b.target&&!t.composedPath().includes(b.target);)b.currentTarget=b.target,this.notifyTarget(b),n&&this.notifyTarget(b,"mouseleave"),b.target=b.target.parent;this.freeEvent(b)}this.freeEvent(w)}if(a!==t.target){const _=e.type==="mousemove"?"mouseover":"pointerover",w=this.clonePointerEvent(t,_);this.dispatchEvent(w,"pointerover"),n&&this.dispatchEvent(w,"mouseover");let b=a==null?void 0:a.parent;for(;b&&b!==this.rootTarget.parent&&b!==t.target;)b=b.parent;if(!b||b===this.rootTarget.parent){const E=this.clonePointerEvent(t,"pointerenter");for(E.eventPhase=E.AT_TARGET;E.target&&E.target!==a&&E.target!==this.rootTarget.parent;)E.currentTarget=E.target,this.notifyTarget(E),n&&this.notifyTarget(E,"mouseenter"),E.target=E.target.parent;this.freeEvent(E)}this.freeEvent(w)}const h=[],d=this.enableGlobalMoveEvents??!0;this.moveOnAll?h.push("pointermove"):this.dispatchEvent(t,"pointermove"),d&&h.push("globalpointermove"),t.pointerType==="touch"&&(this.moveOnAll?h.splice(1,0,"touchmove"):this.dispatchEvent(t,"touchmove"),d&&h.push("globaltouchmove")),n&&(this.moveOnAll?h.splice(1,0,"mousemove"):this.dispatchEvent(t,"mousemove"),d&&h.push("globalmousemove"),this.cursor=(g=t.target)==null?void 0:g.cursor),h.length>0&&this.all(t,h),this._allInteractiveElements.length=0,this._hitElements.length=0,s.overTargets=t.composedPath(),this.freeEvent(t)}mapPointerOver(e){var h;if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),n=this.createPointerEvent(e),s=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),s&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(h=n.target)==null?void 0:h.cursor);const a=this.clonePointerEvent(n,"pointerenter");for(a.eventPhase=a.AT_TARGET;a.target&&a.target!==this.rootTarget.parent;)a.currentTarget=a.target,this.notifyTarget(a),s&&this.notifyTarget(a,"mouseenter"),a.target=a.target.parent;t.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(a)}mapPointerOut(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId);if(t.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",s=this.findMountedTarget(t.overTargets),a=this.createPointerEvent(e,"pointerout",s);this.dispatchEvent(a),n&&this.dispatchEvent(a,"mouseout");const h=this.createPointerEvent(e,"pointerleave",s);for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==this.rootTarget.parent;)h.currentTarget=h.target,this.notifyTarget(h),n&&this.notifyTarget(h,"mouseleave"),h.target=h.target.parent;t.overTargets=null,this.freeEvent(a),this.freeEvent(h)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const d=n.button===2;this.dispatchEvent(n,d?"rightup":"mouseup")}const s=this.trackingData(e.pointerId),a=this.findMountedTarget(s.pressTargetsByButton[e.button]);let h=a;if(a&&!n.composedPath().includes(a)){let d=a;for(;d&&!n.composedPath().includes(d);){if(n.currentTarget=d,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const p=n.button===2;this.notifyTarget(n,p?"rightupoutside":"mouseupoutside")}d=d.parent}delete s.pressTargetsByButton[e.button],h=d}if(h){const d=this.clonePointerEvent(n,"click");d.target=h,d.path=null,s.clicksByButton[e.button]||(s.clicksByButton[e.button]={clickCount:0,target:d.target,timeStamp:t});const p=s.clicksByButton[e.button];if(p.target===d.target&&t-p.timeStamp<200?++p.clickCount:p.clickCount=1,p.target=d.target,p.timeStamp=t,d.detail=p.clickCount,d.pointerType==="mouse"){const g=d.button===2;this.dispatchEvent(d,g?"rightclick":"click")}else d.pointerType==="touch"&&this.dispatchEvent(d,"tap");this.dispatchEvent(d,"pointertap"),this.freeEvent(d)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Wi)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const t=this.trackingData(e.pointerId),n=this.findMountedTarget(t.pressTargetsByButton[e.button]),s=this.createPointerEvent(e);if(n){let a=n;for(;a;)s.currentTarget=a,this.notifyTarget(s,"pointerupoutside"),s.pointerType==="touch"?this.notifyTarget(s,"touchendoutside"):(s.pointerType==="mouse"||s.pointerType==="pen")&&this.notifyTarget(s,s.button===2?"rightupoutside":"mouseupoutside"),a=a.parent;delete t.pressTargetsByButton[e.button]}this.freeEvent(s)}mapWheel(e){if(!(e instanceof nc)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const t=this.createWheelEvent(e);this.dispatchEvent(t),this.freeEvent(t)}findMountedTarget(e){if(!e)return null;let t=e[0];for(let n=1;n<e.length&&e[n].parent===t;n++)t=e[n];return t}createPointerEvent(e,t,n){const s=this.allocateEvent(Wi);return this.copyPointerData(e,s),this.copyMouseData(e,s),this.copyData(e,s),s.nativeEvent=e.nativeEvent,s.originalEvent=e,s.target=n??this.hitTest(s.global.x,s.global.y)??this._hitElements[0],typeof t=="string"&&(s.type=t),s}createWheelEvent(e){const t=this.allocateEvent(nc);return this.copyWheelData(e,t),this.copyMouseData(e,t),this.copyData(e,t),t.nativeEvent=e.nativeEvent,t.originalEvent=e,t.target=this.hitTest(t.global.x,t.global.y),t}clonePointerEvent(e,t){const n=this.allocateEvent(Wi);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=t??n.type,n}copyWheelData(e,t){t.deltaMode=e.deltaMode,t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ}copyPointerData(e,t){e instanceof Wi&&t instanceof Wi&&(t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist)}copyMouseData(e,t){e instanceof Uf&&t instanceof Uf&&(t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.copyFrom(e.client),t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.copyFrom(e.movement),t.screen.copyFrom(e.screen),t.shiftKey=e.shiftKey,t.global.copyFrom(e.global))}copyData(e,t){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.detail=e.detail,t.view=e.view,t.which=e.which,t.layer.copyFrom(e.layer),t.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const t=this.eventPool.get(e).pop()||new e(this);return t.eventPhase=t.NONE,t.currentTarget=null,t.path=null,t.target=null,t}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const t=e.constructor;this.eventPool.has(t)||this.eventPool.set(t,[]),this.eventPool.get(t).push(e)}notifyListeners(e,t){const n=e.currentTarget._events[t];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(t,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let s=0,a=n.length;s<a&&!e.propagationImmediatelyStopped;s++)n[s].once&&e.currentTarget.removeListener(t,n[s].fn,void 0,!0),n[s].fn.call(n[s].context,e)}}const rP=1,nP={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},uy=class cy{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new tP(null),ga.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Wi(null),this.rootWheelEvent=new nc(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...cy.defaultEventFeatures},{set:(t,n,s)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=s),t[n]=s,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:t,resolution:n}=this.renderer;this.setTargetElement(t),this.resolution=n,cy._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":t&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":t&&Object.assign(this.domElement.style,n);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,s=t.length;n<s;n++){const a=t[n],h=this.bootstrapEvent(this.rootPointerEvent,a);this.rootBoundary.mapEvent(h)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,ga.pointerMoved();const t=this.normalizeToPointerData(e);for(let n=0,s=t.length;n<s;n++){const a=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const n=t!==this.domElement?"outside":"",s=this.normalizeToPointerData(e);for(let a=0,h=s.length;a<h;a++){const d=this.bootstrapEvent(this.rootPointerEvent,s[a]);d.type+=n,this.rootBoundary.mapEvent(d)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const t=this.normalizeToPointerData(e);for(let n=0,s=t.length;n<s;n++){const a=this.bootstrapEvent(this.rootPointerEvent,t[n]);this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,ga.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;ga.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;ga.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,n){const s=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},a=1/this.resolution;e.x=(t-s.left)*(this.domElement.width/s.width)*a,e.y=(n-s.top)*(this.domElement.height/s.height)*a}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,s=e.changedTouches.length;n<s;n++){const a=e.changedTouches[n];typeof a.button>"u"&&(a.button=0),typeof a.buttons>"u"&&(a.buttons=1),typeof a.isPrimary>"u"&&(a.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof a.width>"u"&&(a.width=a.radiusX||1),typeof a.height>"u"&&(a.height=a.radiusY||1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="touch"),typeof a.pointerId>"u"&&(a.pointerId=a.identifier||0),typeof a.pressure>"u"&&(a.pressure=a.force||.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),typeof a.layerX>"u"&&(a.layerX=a.offsetX=a.clientX),typeof a.layerY>"u"&&(a.layerY=a.offsetY=a.clientY),a.isNormalized=!0,a.type=e.type,t.push(a)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=rP),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,t.push(n)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=nP[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};uy.extension={name:"events",type:[De.RendererSystem,De.CanvasRendererSystem]},uy.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let hy=uy;Ze.add(hy);function H1(r){return r==="dynamic"||r==="static"}const iP={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??H1(hy.defaultEventMode)},set interactive(r){St("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=r,this.eventMode=r?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??hy.defaultEventMode},set eventMode(r){this._internalInteractive=H1(r),this._internalEventMode=r},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(r,e,t){const n=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof t=="object"?t.signal:void 0,a=typeof t=="object"?t.once===!0:!1,h=typeof e=="function"?void 0:e;r=n?`${r}capture`:r;const d=typeof e=="function"?e:e.handleEvent,p=this;s&&s.addEventListener("abort",()=>{p.off(r,d,h)}),a?p.once(r,d,h):p.on(r,d,h)},removeEventListener(r,e,t){const n=typeof t=="boolean"&&t||typeof t=="object"&&t.capture,s=typeof e=="function"?void 0:e;r=n?`${r}capture`:r,e=typeof e=="function"?e:e.handleEvent,this.off(r,e,s)},dispatchEvent(r){if(!(r instanceof ap))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return r.defaultPrevented=!1,r.path=null,r.target=this,r.manager.dispatchEvent(r),!r.defaultPrevented}};Sa.mixin(iP);const sP=({onSelectLevel:r,onBack:e,size:t})=>{const n=Ke.useCallback(s=>{r(s)},[r]);return je.jsxs(ct.Container,{children:[je.jsx(ct.Text,{text:"La Multi Ani Stefan",x:t.width/2,y:170,anchor:.5,style:{fill:16777215,fontSize:35}}),je.jsx(ct.Sprite,{image:"/pixi/kids-games/build/images/Christmas Decoration Santa Claus.png",x:0,y:0,anchor:0,width:t.width,height:t.height}),["LEVEL_1","LEVEL_2","LEVEL_3"].map((s,a)=>je.jsxs(ct.Container,{x:t.width/2-200,y:220+a*70,eventMode:"static",cursor:"pointer",onpointerdown:()=>n(s),children:[je.jsx(ct.Graphics,{draw:h=>{h.clear(),h.beginFill(16777215,.5),h.drawRoundedRect(0,0,t.width-30,60,10),h.endFill()}}),je.jsx(ct.Text,{text:`Level ${a+1}`,x:200,y:30,anchor:.5,style:{fill:4474111,fontSize:24}})]},s)),je.jsxs(ct.Container,{y:520,x:t.width/2-50,eventMode:"static",cursor:"pointer",onpointerdown:e,children:[je.jsx(ct.Graphics,{draw:s=>{s.clear(),s.beginFill(16729156,.5),s.drawRoundedRect(0,0,100,40,10),s.endFill()}}),je.jsx(ct.Text,{text:"Back",x:50,y:20,anchor:.5,style:{fill:16777215,fontSize:20}})]})]})},$x=r=>({x:r.width/2,y:r.height-25,velocityX:0,velocityY:0,isJumping:!1,jumpStartTime:null,currentJumpDirection:"NONE",currentPlatform:null}),oP=(r,e,t)=>{if(!e.isActive||!e.endPoint)return r;const n=e.endPoint.x-e.startPoint.x,s=e.endPoint.y-e.startPoint.y,a=Math.min(e.magnitude*2,t.width-50),h=Math.atan2(s,n);return{...r,velocityX:a*Math.cos(h),velocityY:a*Math.sin(h),isJumping:!0}},Vx=(r,e,t)=>{const n={...r,x:r.x+r.velocityX*e,y:r.y+r.velocityY*e,velocityX:r.velocityX*.98,velocityY:r.velocityY*.98};return{...n,x:Math.max(25,Math.min(n.x,t.width-25)),y:Math.max(25,Math.min(n.y,t.height-vo-25))}},aP=(r,e,t)=>e.isActive&&e.direction!=="NONE"&&e.endPoint&&!r.isJumping?Hx.startDirectionalJump(r,e.direction,e.magnitude,t):r,va=(r,e=0)=>r.height-vo-e,Il={STAIR_UP:"STAIR_UP",STAIR_DOWN:"STAIR_DOWN",MAZE:"MAZE",ZIGZAG:"ZIGZAG",RANDOM:"RANDOM"},lP=(r,e,t,n,s)=>({x:r,y:Math.min(e,va(n,50)),width:t,...s}),Wx=(r,e)=>{const t=[];let n=r.startX||0,s=va(e,100);const a=r.pattern||Il.RANDOM,h=150,d=100,p=va(e,h),g=va(e,d),_=10;let w=!0,b=0;for(let E=0;E<r.count;E++){const T=Math.random()*(r.platformSpecs.maxWidth-r.platformSpecs.minWidth)+r.platformSpecs.minWidth;switch(a){case Il.STAIR_UP:b++,b>=_&&(w=!w,b=0),w?s=Math.max(h+vo+50,s-60):s=Math.min(g,s+60);break;case Il.STAIR_DOWN:s=Math.min(s+60,g);break;case Il.MAZE:E%2===0?s=g-Math.random()*200:s=h+vo+100+Math.random()*(p*.4);break;case Il.ZIGZAG:const z=(p-h)*.3;s=va(e,p/2)+Math.sin(E*.5)*z;break;case Il.RANDOM:default:s=h+vo+Math.random()*(p-h-100)}const I=Math.random()>.7,C=lP(n,s,T,e,I?{isMoving:!0,startX:n,endX:n+200,speed:100,direction:1}:void 0);t.push(C);const M=a===Il.MAZE?r.platformSpecs.minGap:Math.random()*(r.platformSpecs.maxGap-r.platformSpecs.minGap)+r.platformSpecs.minGap;n+=T+M}return t},uP=(r,e)=>{if(!r.isMoving)return r;const t=r.x+r.speed*r.direction*e;return t<=r.startX||t>=r.endX?{...r,x:t<=r.startX?r.startX:r.endX,direction:r.direction*-1}:{...r,x:t}},cP=(r,e,t)=>r.map(n=>{const s=uP(n,e);return{...s,x:s.x+t*e}}),$1=(r=[],e,t,n)=>{const s=r.filter(g=>g.x+g.width+e>-n.width),a=r[r.length-1];if(a.x+a.width+e>=n.width*2)return s;const h=s[s.length-1],d=h.x+h.width+t.platformSpecs.minGap,p=Wx({...t,levelWidth:d+2e3,startX:d},n);return s.concat(p)},hP=(r,e)=>({x:r,y:e,hit:!1,createdAt:performance.now(),duration:1e4,velocityX:Math.random()*6-3,velocityY:50}),dP=(r,e)=>{const t=Math.min(e,.1),n=Math.max(20,Math.min(410,r.x+r.velocityX*t)),s=r.y+r.velocityY*t;return{...r,x:n,y:s}},fP=(r,e,t)=>{const n=!r.hit&&r.y<t.height+50&&r.x>=-50&&r.x<=t.width+50,s=e-r.createdAt<r.duration;return n&&s},pP=(r,e,t,n=30)=>r.hit?!1:Math.sqrt(Math.pow(e-r.x,2)+Math.pow(t-r.y,2))<n;class Ih{static generateSnowman(e){const t=Math.random()*(e.width-100)+50;return hP(t,-50)}static shouldGenerateNewSnowman(e,t,n,s){const a=e.filter(d=>!d.hit&&d.y>-100&&d.y<s.height-100).length,h=t-n;return a<3&&h>0}static updateSnowmen(e,t,n){const s=performance.now();return e.map(a=>dP(a,t)).filter(a=>fP(a,s,n))}static checkSnowmanHits(e,t){let n=0;const s=t.map(a=>{if(a.hit)return a;const h=e.some(d=>d.active?pP(a,d.x,d.y):!1);return h&&n++,{...a,hit:h}});return{hits:n,remainingSnowmen:s}}}class gf{static generateHouse(e,t){return{x:e,y:va(t,80),width:100,height:80,hasReceivedGift:!1}}static generateHouses(e,t){const n=[];let s=t.width;for(let a=0;a<e;a++)n.push(this.generateHouse(s,t)),s+=Math.random()*300+400;return n}static updateHouses(e,t,n){return e.map(s=>({...s,x:s.x+t*n})).filter(s=>s.x>-200)}static checkGiftDelivery(e,t){let n=!1;const s=t.map(a=>a.hasReceivedGift?a:e.y>=a.y&&e.x>=a.x&&e.x<=a.x+a.width?(n=!0,{...a,hasReceivedGift:!0}):a);return{deliveredToHouse:n,updatedHouses:s}}}const mP=(r,e)=>{const[t,n]=Ke.useState(null),[s,a]=Ke.useState(null),h=Ke.useCallback(p=>{n(p);const g=fi[p];a(g);const _={levelScroll:0,platforms:["LEVEL_1","LEVEL_2"].includes(p)?Wx(g,e):[],snowballs:[],gifts:[],player:$x(e),snowmen:["LEVEL_2"].includes(p)?[Ih.generateSnowman(e)]:[],houses:p==="LEVEL_4"?[gf.generateHouse(e.width,e)]:[],gameState:{score:0,timeElapsed:0,isLevelComplete:!1,goalScore:g.goalScore}};return p==="LEVEL_1"&&r(g,e),_},[e,r]),d=Ke.useCallback(()=>{const p=["LEVEL_1","LEVEL_2","LEVEL_3"],g=p.indexOf(t);if(g<p.length-1){const _=p[g+1];return n(_),_}return null},[t]);return{currentLevel:t,levelConfig:s,handleLevelSelect:h,handleNextLevel:d}};class wg{static generateSnowballs(e,t,n,s,a=[]){if(n>=s)return a;const h=a[a.length-1],d=h?h.x+100:e.startX||t.width,p=[];let g=d;for(;g<e.levelWidth;){const _=e.snowballs.spacing?Math.random()*(e.snowballs.spacing.max-e.snowballs.spacing.min)+e.snowballs.spacing.min:Math.random()*300+200;if(Math.random()<e.snowballs.frequency){const w=Math.random()*(e.snowballs.maxSize-e.snowballs.minSize)+e.snowballs.minSize,b=t.height-vo-w,E=b*.1,T=Math.random()*(b-E)+E;p.push({x:g,y:T,size:w,collected:!1})}g+=_}return[...a,...p]}static checkCollisions(e,t,n){const s=[],a=[];return t.forEach(h=>{if(h.collected){a.push(h);return}const d=h.x+n,p=Math.sqrt(Math.pow(e.x-d,2)+Math.pow(e.y-h.y,2)),g=vo/2+h.size/2;p<g?s.push({...h,collected:!0}):a.push(h)}),{collectedSnowballs:s,remainingSnowballs:a}}}const gP=r=>{const[e,t]=Ke.useState(r),n=Ke.useCallback((h,d,p,g)=>{t(_=>{const{collectedSnowballs:w,remainingSnowballs:b}=wg.checkCollisions(d,_.snowballs,p),E=wg.generateSnowballs(fi.LEVEL_1,g,_.score+w.length,_.goalScore,b);return{..._,snowballs:E,score:_.score+w.length,isLevelComplete:_.score+w.length>=_.goalScore}})},[]);return[e,n,(h,d,p)=>aP(h,d,p),(h,d)=>{t(p=>({...p,snowballs:wg.generateSnowballs(h,d,p.score,p.goalScore)}))}]};class yP{static startShot(e,t,n){if(!t.startPoint||!t.endPoint)return null;const s=Math.min(t.magnitude*8,n.height-50),a=t.startPoint.x-t.endPoint.x,h=t.startPoint.y-t.endPoint.y,d=Math.atan2(-h,-a);return{x:e.x,y:e.y,velocityX:s*Math.cos(d),velocityY:s*Math.sin(d),active:!0}}static updateProjectile(e,t,n,s){const h=e.y+e.velocityY*s,d=e.x+e.velocityX*s;return t.some(g=>d>=g.x&&d<=g.x+g.width&&h>=g.y&&h<=g.y+10)||h<0||h>n.height?{...e,active:!1}:{...e,x:d,y:h,velocityY:e.velocityY+500*s}}static checkSnowmanHits(e,t){let n=0;const s=t.map(a=>{if(a.hit)return a;const h=e.some(d=>d.active?Math.sqrt(Math.pow(d.x-a.x,2)+Math.pow(d.y-a.y,2))<30:!1);return h&&n++,{...a,hit:h?!0:a.hit}});return{hits:n,remainingSnowmen:s}}static checkPlatformHits(e,t,n){return e.map(s=>s.active&&t.some(h=>{const d=h.x+n;return s.x>=d&&s.x<=d+h.width&&s.y>=h.y&&s.y<=h.y+10})?{...s,active:!1}:s)}}const vP=r=>{const[e,t]=Ke.useState({...r,isLevelComplete:!1});return[e,(a,h,d,p)=>{t(g=>{const _=g.projectiles.filter(T=>T.active).map(T=>{const I=T.x+T.velocityX*a,C=T.y+T.velocityY*a,M=T.velocityY+500*a,N=!h.some(G=>{const O=G.x+d;return I>=O&&I<=O+G.width&&C>=G.y&&C<=G.y+10})&&C<p.height;return{...T,x:I,y:C,velocityY:M,active:N}}).filter(T=>T.active);let w=Ih.updateSnowmen(g.snowmen,a,p);if(Ih.shouldGenerateNewSnowman(w,g.goalScore,g.score,p)){const T=Ih.generateSnowman(p);w=[...w,T]}const{hits:b,remainingSnowmen:E}=Ih.checkSnowmanHits(_,w);return{...g,projectiles:_,snowmen:E,score:g.score+b,isLevelComplete:g.score+b>=g.goalScore}})},(a,h,d)=>{if(h.isActive&&h.endPoint){const p=yP.startShot(a,h,d);p&&t(g=>({...g,projectiles:[...g.projectiles,p]}))}}]};class ef{static generateGift(e){return{x:Math.random()*600+100,y:Math.random()*va(e,100)+50,collected:!1,createdAt:performance.now()}}static updateGifts(e){return e.filter(t=>!t.collected)}static shouldGenerateNewGift(){return Math.random()<.03}static checkCollisions(e,t,n){const s=[],a=[];return n.forEach(h=>{if(h.collected){a.push(h);return}Math.sqrt(Math.pow(e-h.x,2)+Math.pow(t-h.y,2))<40?s.push({...h,collected:!0}):a.push(h)}),{collectedGifts:s,remainingGifts:a}}}const _P=r=>{const[e,t]=Ke.useState({...r,isLevelComplete:!1});return[e,(a,h,d)=>{t(p=>{const g=ef.updateGifts(p.gifts);let _=g;g.length<5&&ef.shouldGenerateNewGift()&&(_=[...g,ef.generateGift(p.size)]);const{collectedGifts:w,remainingGifts:b}=ef.checkCollisions(h.x,h.y,_),E=p.score+w.length;return{gifts:b,score:E,goalScore:p.goalScore,isLevelComplete:E>=p.goalScore,size:p.size}})},(a,h,d)=>Vx(a,h,d)]},xP=r=>{const[e,t]=Ke.useState({...r,isLevelComplete:!1});return[e,(a,h,d)=>{t(p=>{let g=gf.updateHouses(p.houses,-100*a,a).filter(E=>E.x>-200);g.length<3&&(g=[...g,gf.generateHouse(0,d)]);const _=p.gifts.map(E=>{if(!E.isDelivering)return E;const T=E.y+(E.velocityY||0)*a,I=(E.velocityY||0)+800*a,{deliveredToHouse:C,updatedHouses:M}=gf.checkGiftDelivery({...E,y:T},g);return C?(g=M,{...E,collected:!0}):T>va(d)?{...E,collected:!0}:{...E,y:T,velocityY:I}}).filter(E=>!E.collected),w=h.dropGift?[..._,{x:h.x,y:h.y,collected:!1,createdAt:performance.now(),isDelivering:!0,velocityY:0}]:_,b=p.score+(p.gifts.length-_.length);return{gifts:w,houses:g,score:b,goalScore:p.goalScore,isLevelComplete:b>=p.goalScore}})},(a,h,d)=>Vx(a,h,d)]},wP=({maxWidth:r=1400,maxHeight:e=800,paddingX:t=0,paddingY:n=0}={})=>{const s=Ke.useCallback(()=>({width:Math.min(window.innerWidth-t,r),height:Math.min(window.innerHeight-n,e)}),[r,e,t,n]),[a,h]=Ke.useState(s());return Ke.useEffect(()=>{const d=()=>{h(s())};return window.addEventListener("resize",d),()=>window.removeEventListener("resize",d)},[s]),a},SP=({onBack:r})=>{const e=wP({maxWidth:800,maxHeight:1100}),[t,n,s,a]=gP({snowballs:[],score:0,goalScore:fi.LEVEL_1.goalScore,size:e,backgroundImage:"/pixi/kids-games/build/images/Christmas Santa Claus Icon.png"}),[h,d,p]=_P({gifts:[],score:0,goalScore:fi.LEVEL_3.goalScore,size:e}),[g,_,w]=xP({gifts:[],houses:[],score:0,goalScore:fi.LEVEL_4.goalScore,size:e}),[b,E,T]=vP({projectiles:[],snowmen:[],score:0,goalScore:fi.LEVEL_2.goalScore,size:e}),{currentLevel:I,levelConfig:C,handleLevelSelect:M,handleNextLevel:z}=mP(a,e),[N,G]=Ke.useState($x(e)),[O,V]=Ke.useState(),[F,Z]=Ke.useState(Bf()),[ue,ye]=Ke.useState(null),[Te,K]=Ke.useState(0),[ie,he]=Ke.useState([]),[Se,B]=Ke.useState([]),[j,P]=Ke.useState([]),[H,L]=Ke.useState([]),[R,U]=Ke.useState([]),[X,ee]=Ke.useState({score:0,timeElapsed:0,isLevelComplete:!1,goalScore:fi.LEVEL_1.goalScore}),le=Ke.useCallback(ce=>{const Pe=M(ce);K(0),ye(fi[ce]),G(Pe.player),V(Pe.platforms),he(Pe.snowballs),B([]),P(Pe.snowmen),L(Pe.gifts),U(Pe.houses),ee(Pe.gameState),Z(Bf())},[M]),de=Ke.useCallback(()=>{switch(I){case"LEVEL_1":ye(fi[I]),V(ce=>$1(ce,Te,fi.LEVEL_1,e));break;case"LEVEL_2":ye(fi[I]),V(ce=>$1(ce,Te,fi.LEVEL_2,e)),P(ce=>ce.filter(Pe=>!Pe.hit&&Pe.x+Te>-e.width));break}},[I,Te,ue,e,X.score,X.goalScore]),fe=Ke.useCallback(ce=>{switch(I){case"LEVEL_1":Z(ce),G(s(N,ce,e));break;case"LEVEL_2":T(N,ce,e);break;case"LEVEL_3":case"LEVEL_4":G(oP(N,ce,e));break}},[I,N,T,s,e]),me=Ke.useCallback(ce=>{if(X.isLevelComplete)return;const Pe=()=>{de(),K(Re=>Re+((ue==null?void 0:ue.scrollSpeed)||0)*ce),V(Re=>cP(Re,ce,(ue==null?void 0:ue.scrollSpeed)||0)),G(Re=>Hx.updatePlayerPhysics(Re,O||[],{horizontal:0,vertical:0,isJumping:Re.isJumping,jumpPressed:!1},ce,Te,e))};switch(I){case"LEVEL_1":n(ce,N,Te,e),he(t.snowballs),ee(Re=>({...Re,score:t.score,isLevelComplete:t.isLevelComplete})),Pe();break;case"LEVEL_2":E(ce,O||[],Te,e),B(b.projectiles),P(b.snowmen),ee(Re=>({...Re,score:b.score,isLevelComplete:b.isLevelComplete})),Pe();break;case"LEVEL_3":G(p(N,ce,e)),d(ce,N,e),L(h.gifts),ee(Re=>({...Re,score:h.score,isLevelComplete:h.isLevelComplete}));break;case"LEVEL_4":G(w(N,ce,e)),_(ce,N,e),U(g.houses),L(g.gifts),ee(Re=>({...Re,score:g.score,isLevelComplete:g.isLevelComplete})),N.dropGift&&G(Re=>({...Re,dropGift:!1}));break}ee(Re=>({...Re,timeElapsed:Re.timeElapsed+ce}))},[I,O,Te,N,ue==null?void 0:ue.scrollSpeed,X.isLevelComplete,n,t,E,b,d,h,p,_,g,w,de]);UC(me);const xe=Ke.useCallback(()=>{const ce=z();ce&&le(ce)},[z,le]);return!I||!C?je.jsx(j1,{onBack:r,width:e.width,height:e.height,children:je.jsx(sP,{onSelectLevel:le,onBack:r,size:e})}):je.jsxs(j1,{onBack:r,onSwipe:fe,width:e.width,height:e.height,children:[je.jsx(QC,{size:e,platforms:O||[],player:N,swipeState:F,levelScroll:Te,snowballs:ie,score:X.score,timeElapsed:X.timeElapsed,goalScore:X.goalScore,isLevelComplete:X.isLevelComplete,onNextLevel:xe,currentLevel:I,currentLevelConfig:C,projectiles:Se,snowmen:j,gifts:H,houses:R}),je.jsx(KC,{isVisible:N.isJumping,direction:N.currentJumpDirection,x:N.x,y:N.y})]})},bP=({onBack:r})=>je.jsx("h1",{children:"Batman"}),EP=jh.div`
  width: 100vw;
  height: 100vh;
  display: flex;
  justify-content: center;
  align-items: center;
  background-color: #f0f0f0;
`;function TP(){const[r,e]=Ke.useState("none"),t=()=>{switch(r){case"gameXmas":return je.jsx(SP,{onBack:()=>e("none")});case"gameBatman":return je.jsx(bP,{onBack:()=>e("none")});default:return je.jsx(RS,{onSelectGame:e})}};return je.jsx(EP,{children:t()})}Tw.createRoot(document.getElementById("root")).render(je.jsx(Ke.StrictMode,{children:je.jsx(TP,{})}))});export default AP();
